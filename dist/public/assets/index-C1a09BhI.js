var w_=t=>{throw TypeError(t)};var Nf=(t,e,n)=>e.has(t)||w_("Cannot "+n);var z=(t,e,n)=>(Nf(t,e,"read from private field"),n?n.call(t):e.get(t)),Le=(t,e,n)=>e.has(t)?w_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ee=(t,e,n,r)=>(Nf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dt=(t,e,n)=>(Nf(t,e,"access private method"),n);var tc=(t,e,n,r)=>({set _(s){Ee(t,e,s,n)},get _(){return z(t,e,r)}});function Ak(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function GE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QE={exports:{}},yh={},YE={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gu=Symbol.for("react.element"),Rk=Symbol.for("react.portal"),kk=Symbol.for("react.fragment"),bk=Symbol.for("react.strict_mode"),Pk=Symbol.for("react.profiler"),Nk=Symbol.for("react.provider"),Dk=Symbol.for("react.context"),Ok=Symbol.for("react.forward_ref"),Vk=Symbol.for("react.suspense"),Mk=Symbol.for("react.memo"),Lk=Symbol.for("react.lazy"),E_=Symbol.iterator;function jk(t){return t===null||typeof t!="object"?null:(t=E_&&t[E_]||t["@@iterator"],typeof t=="function"?t:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},XE=Object.assign,JE={};function _a(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||ZE}_a.prototype.isReactComponent={};_a.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_a.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eT(){}eT.prototype=_a.prototype;function yg(t,e,n){this.props=t,this.context=e,this.refs=JE,this.updater=n||ZE}var vg=yg.prototype=new eT;vg.constructor=yg;XE(vg,_a.prototype);vg.isPureReactComponent=!0;var T_=Array.isArray,tT=Object.prototype.hasOwnProperty,_g={current:null},nT={key:!0,ref:!0,__self:!0,__source:!0};function rT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)tT.call(e,r)&&!nT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:gu,type:t,key:i,ref:o,props:s,_owner:_g.current}}function Fk(t,e){return{$$typeof:gu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wg(t){return typeof t=="object"&&t!==null&&t.$$typeof===gu}function Uk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var S_=/\/+/g;function Df(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Uk(""+t.key):e.toString(36)}function Nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gu:case Rk:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Df(o,0):r,T_(s)?(n="",t!=null&&(n=t.replace(S_,"$&/")+"/"),Nc(s,e,n,"",function(c){return c})):s!=null&&(wg(s)&&(s=Fk(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(S_,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",T_(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Df(i,a);o+=Nc(i,e,n,u,s)}else if(u=jk(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Df(i,a++),o+=Nc(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function nc(t,e,n){if(t==null)return t;var r=[],s=0;return Nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function $k(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zt={current:null},Dc={transition:null},zk={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:Dc,ReactCurrentOwner:_g};function sT(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:nc,forEach:function(t,e,n){nc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nc(t,function(){e++}),e},toArray:function(t){return nc(t,function(e){return e})||[]},only:function(t){if(!wg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=_a;xe.Fragment=kk;xe.Profiler=Pk;xe.PureComponent=yg;xe.StrictMode=bk;xe.Suspense=Vk;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zk;xe.act=sT;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=XE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_g.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)tT.call(e,u)&&!nT.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:gu,type:t.type,key:s,ref:i,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:Dk,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nk,_context:t},t.Consumer=t};xe.createElement=rT;xe.createFactory=function(t){var e=rT.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Ok,render:t}};xe.isValidElement=wg;xe.lazy=function(t){return{$$typeof:Lk,_payload:{_status:-1,_result:t},_init:$k}};xe.memo=function(t,e){return{$$typeof:Mk,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Dc.transition;Dc.transition={};try{t()}finally{Dc.transition=e}};xe.unstable_act=sT;xe.useCallback=function(t,e){return Zt.current.useCallback(t,e)};xe.useContext=function(t){return Zt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return Zt.current.useDeferredValue(t)};xe.useEffect=function(t,e){return Zt.current.useEffect(t,e)};xe.useId=function(){return Zt.current.useId()};xe.useImperativeHandle=function(t,e,n){return Zt.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return Zt.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return Zt.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return Zt.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return Zt.current.useReducer(t,e,n)};xe.useRef=function(t){return Zt.current.useRef(t)};xe.useState=function(t){return Zt.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return Zt.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return Zt.current.useTransition()};xe.version="18.3.1";YE.exports=xe;var w=YE.exports;const pe=GE(w),iT=Ak({__proto__:null,default:pe},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bk=w,Wk=Symbol.for("react.element"),qk=Symbol.for("react.fragment"),Hk=Object.prototype.hasOwnProperty,Kk=Bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gk={key:!0,ref:!0,__self:!0,__source:!0};function oT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hk.call(e,r)&&!Gk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Wk,type:t,key:i,ref:o,props:s,_owner:Kk.current}}yh.Fragment=qk;yh.jsx=oT;yh.jsxs=oT;QE.exports=yh;var m=QE.exports,aT={exports:{}},vn={},lT={exports:{}},uT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,re){var ae=K.length;K.push(re);e:for(;0<ae;){var Se=ae-1>>>1,be=K[Se];if(0<s(be,re))K[Se]=re,K[ae]=be,ae=Se;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var re=K[0],ae=K.pop();if(ae!==re){K[0]=ae;e:for(var Se=0,be=K.length,$e=be>>>1;Se<$e;){var Bt=2*(Se+1)-1,Vn=K[Bt],cn=Bt+1,wn=K[cn];if(0>s(Vn,ae))cn<be&&0>s(wn,Vn)?(K[Se]=wn,K[cn]=ae,Se=cn):(K[Se]=Vn,K[Bt]=ae,Se=Bt);else if(cn<be&&0>s(wn,ae))K[Se]=wn,K[cn]=ae,Se=cn;else break e}}return re}function s(K,re){var ae=K.sortIndex-re.sortIndex;return ae!==0?ae:K.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,f=null,g=3,S=!1,R=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(K){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=K)r(c),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(c)}}function O(K){if(T=!1,C(K),!R)if(n(u)!==null)R=!0,Te(M);else{var re=n(c);re!==null&&Me(O,re.startTime-K)}}function M(K,re){R=!1,T&&(T=!1,E(v),v=-1),S=!0;var ae=g;try{for(C(re),f=n(u);f!==null&&(!(f.expirationTime>re)||K&&!D());){var Se=f.callback;if(typeof Se=="function"){f.callback=null,g=f.priorityLevel;var be=Se(f.expirationTime<=re);re=t.unstable_now(),typeof be=="function"?f.callback=be:f===n(u)&&r(u),C(re)}else r(u);f=n(u)}if(f!==null)var $e=!0;else{var Bt=n(c);Bt!==null&&Me(O,Bt.startTime-re),$e=!1}return $e}finally{f=null,g=ae,S=!1}}var U=!1,I=null,v=-1,x=5,b=-1;function D(){return!(t.unstable_now()-b<x)}function P(){if(I!==null){var K=t.unstable_now();b=K;var re=!0;try{re=I(!0,K)}finally{re?k():(U=!1,I=null)}}else U=!1}var k;if(typeof y=="function")k=function(){y(P)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ye=Z.port2;Z.port1.onmessage=P,k=function(){ye.postMessage(null)}}else k=function(){A(P,0)};function Te(K){I=K,U||(U=!0,k())}function Me(K,re){v=A(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,Te(M))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var ae=g;g=re;try{return K()}finally{g=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ae=g;g=K;try{return re()}finally{g=ae}},t.unstable_scheduleCallback=function(K,re,ae){var Se=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,K){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=ae+be,K={id:h++,callback:re,priorityLevel:K,startTime:ae,expirationTime:be,sortIndex:-1},ae>Se?(K.sortIndex=ae,e(c,K),n(u)===null&&K===n(c)&&(T?(E(v),v=-1):T=!0,Me(O,ae-Se))):(K.sortIndex=be,e(u,K),R||S||(R=!0,Te(M))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var re=g;return function(){var ae=g;g=re;try{return K.apply(this,arguments)}finally{g=ae}}}})(uT);lT.exports=uT;var Qk=lT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yk=w,yn=Qk;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cT=new Set,jl={};function Wi(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(jl[t]=e,t=0;t<e.length;t++)cT.add(e[t])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Op=Object.prototype.hasOwnProperty,Zk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I_={},x_={};function Xk(t){return Op.call(x_,t)?!0:Op.call(I_,t)?!1:Zk.test(t)?x_[t]=!0:(I_[t]=!0,!1)}function Jk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function eb(t,e,n,r){if(e===null||typeof e>"u"||Jk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Eg=/[\-:]([a-z])/g;function Tg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Eg,Tg);kt[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Eg,Tg);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Eg,Tg);kt[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sg(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(eb(e,n,s,r)&&(n=null),r||s===null?Xk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=Yk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rc=Symbol.for("react.element"),yo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),Ig=Symbol.for("react.strict_mode"),Vp=Symbol.for("react.profiler"),dT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),Mp=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),fT=Symbol.for("react.offscreen"),C_=Symbol.iterator;function Ha(t){return t===null||typeof t!="object"?null:(t=C_&&t[C_]||t["@@iterator"],typeof t=="function"?t:null)}var Je=Object.assign,Of;function il(t){if(Of===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Of=e&&e[1]||""}return`
`+Of+t}var Vf=!1;function Mf(t,e){if(!t||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function tb(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=Mf(t.type,!1),t;case 11:return t=Mf(t.type.render,!1),t;case 1:return t=Mf(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case yo:return"Portal";case Vp:return"Profiler";case Ig:return"StrictMode";case Mp:return"Suspense";case Lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hT:return(t.displayName||"Context")+".Consumer";case dT:return(t._context.displayName||"Context")+".Provider";case xg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cg:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function nb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Ig?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rb(t){var e=pT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sc(t){t._valueTracker||(t._valueTracker=rb(t))}function mT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fp(t,e){var n=e.checked;return Je({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function A_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function gT(t,e){e=e.checked,e!=null&&Sg(t,"checked",e,!1)}function Up(t,e){gT(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$p(t,e.type,n):e.hasOwnProperty("defaultValue")&&$p(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $p(t,e,n){(e!=="number"||od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Je({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function k_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ol(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function yT(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ic,_T=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ic=ic||document.createElement("div"),ic.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ic.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sb=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){sb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function wT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function ET(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=wT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ib=Je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wp(t,e){if(e){if(ib[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hp=null;function Ag(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kp=null,Po=null,No=null;function P_(t){if(t=_u(t)){if(typeof Kp!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Th(e),Kp(t.stateNode,t.type,e))}}function TT(t){Po?No?No.push(t):No=[t]:Po=t}function ST(){if(Po){var t=Po,e=No;if(No=Po=null,P_(t),e)for(t=0;t<e.length;t++)P_(e[t])}}function IT(t,e){return t(e)}function xT(){}var Lf=!1;function CT(t,e,n){if(Lf)return t(e,n);Lf=!0;try{return IT(t,e,n)}finally{Lf=!1,(Po!==null||No!==null)&&(xT(),ST())}}function Ul(t,e){var n=t.stateNode;if(n===null)return null;var r=Th(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Gp=!1;if(jr)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Gp=!1}function ob(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var _l=!1,ad=null,ld=!1,Qp=null,ab={onError:function(t){_l=!0,ad=t}};function lb(t,e,n,r,s,i,o,a,u){_l=!1,ad=null,ob.apply(ab,arguments)}function ub(t,e,n,r,s,i,o,a,u){if(lb.apply(this,arguments),_l){if(_l){var c=ad;_l=!1,ad=null}else throw Error(W(198));ld||(ld=!0,Qp=c)}}function qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N_(t){if(qi(t)!==t)throw Error(W(188))}function cb(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return N_(s),t;if(i===r)return N_(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function RT(t){return t=cb(t),t!==null?kT(t):null}function kT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=kT(t);if(e!==null)return e;t=t.sibling}return null}var bT=yn.unstable_scheduleCallback,D_=yn.unstable_cancelCallback,db=yn.unstable_shouldYield,hb=yn.unstable_requestPaint,ut=yn.unstable_now,fb=yn.unstable_getCurrentPriorityLevel,Rg=yn.unstable_ImmediatePriority,PT=yn.unstable_UserBlockingPriority,ud=yn.unstable_NormalPriority,pb=yn.unstable_LowPriority,NT=yn.unstable_IdlePriority,vh=null,ar=null;function mb(t){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(vh,t,void 0,(t.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:vb,gb=Math.log,yb=Math.LN2;function vb(t){return t>>>=0,t===0?32:31-(gb(t)/yb|0)|0}var oc=64,ac=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=al(a):(i&=o,i!==0&&(r=al(i)))}else o=n&~s,o!==0?r=al(o):i!==0&&(r=al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Hn(e),s=1<<n,r|=t[n],e&=~s;return r}function _b(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wb(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Hn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=_b(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function DT(){var t=oc;return oc<<=1,!(oc&4194240)&&(oc=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Hn(e),t[e]=n}function Eb(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Hn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function kg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Hn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function OT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VT,bg,MT,LT,jT,Zp=!1,lc=[],As=null,Rs=null,ks=null,$l=new Map,zl=new Map,ps=[],Tb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function O_(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":$l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Ga(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_u(e),e!==null&&bg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Sb(t,e,n,r,s){switch(e){case"focusin":return As=Ga(As,t,e,n,r,s),!0;case"dragenter":return Rs=Ga(Rs,t,e,n,r,s),!0;case"mouseover":return ks=Ga(ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $l.set(i,Ga($l.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,zl.set(i,Ga(zl.get(i)||null,t,e,n,r,s)),!0}return!1}function FT(t){var e=pi(t.target);if(e!==null){var n=qi(e);if(n!==null){if(e=n.tag,e===13){if(e=AT(n),e!==null){t.blockedOn=e,jT(t.priority,function(){MT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Hp=r,n.target.dispatchEvent(r),Hp=null}else return e=_u(n),e!==null&&bg(e),t.blockedOn=n,!1;e.shift()}return!0}function V_(t,e,n){Oc(t)&&n.delete(e)}function Ib(){Zp=!1,As!==null&&Oc(As)&&(As=null),Rs!==null&&Oc(Rs)&&(Rs=null),ks!==null&&Oc(ks)&&(ks=null),$l.forEach(V_),zl.forEach(V_)}function Qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Zp||(Zp=!0,yn.unstable_scheduleCallback(yn.unstable_NormalPriority,Ib)))}function Bl(t){function e(s){return Qa(s,t)}if(0<lc.length){Qa(lc[0],t);for(var n=1;n<lc.length;n++){var r=lc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Qa(As,t),Rs!==null&&Qa(Rs,t),ks!==null&&Qa(ks,t),$l.forEach(e),zl.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)FT(n),n.blockedOn===null&&ps.shift()}var Do=Yr.ReactCurrentBatchConfig,dd=!0;function xb(t,e,n,r){var s=Ue,i=Do.transition;Do.transition=null;try{Ue=1,Pg(t,e,n,r)}finally{Ue=s,Do.transition=i}}function Cb(t,e,n,r){var s=Ue,i=Do.transition;Do.transition=null;try{Ue=4,Pg(t,e,n,r)}finally{Ue=s,Do.transition=i}}function Pg(t,e,n,r){if(dd){var s=Xp(t,e,n,r);if(s===null)Gf(t,e,r,hd,n),O_(t,r);else if(Sb(s,t,e,n,r))r.stopPropagation();else if(O_(t,r),e&4&&-1<Tb.indexOf(t)){for(;s!==null;){var i=_u(s);if(i!==null&&VT(i),i=Xp(t,e,n,r),i===null&&Gf(t,e,r,hd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Gf(t,e,r,null,n)}}var hd=null;function Xp(t,e,n,r){if(hd=null,t=Ag(r),t=pi(t),t!==null)if(e=qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hd=t,null}function UT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fb()){case Rg:return 1;case PT:return 4;case ud:case pb:return 16;case NT:return 536870912;default:return 16}default:return 16}}var Is=null,Ng=null,Vc=null;function $T(){if(Vc)return Vc;var t,e=Ng,n=e.length,r,s="value"in Is?Is.value:Is.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Vc=s.slice(t,1<r?1-r:void 0)}function Mc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function uc(){return!0}function M_(){return!1}function _n(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?uc:M_,this.isPropagationStopped=M_,this}return Je(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=uc)},persist:function(){},isPersistent:uc}),e}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dg=_n(wa),vu=Je({},wa,{view:0,detail:0}),Ab=_n(vu),Ff,Uf,Ya,_h=Je({},vu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ya&&(Ya&&t.type==="mousemove"?(Ff=t.screenX-Ya.screenX,Uf=t.screenY-Ya.screenY):Uf=Ff=0,Ya=t),Ff)},movementY:function(t){return"movementY"in t?t.movementY:Uf}}),L_=_n(_h),Rb=Je({},_h,{dataTransfer:0}),kb=_n(Rb),bb=Je({},vu,{relatedTarget:0}),$f=_n(bb),Pb=Je({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Nb=_n(Pb),Db=Je({},wa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ob=_n(Db),Vb=Je({},wa,{data:0}),j_=_n(Vb),Mb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jb[t])?!!e[t]:!1}function Og(){return Fb}var Ub=Je({},vu,{key:function(t){if(t.key){var e=Mb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Mc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?Mc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Mc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$b=_n(Ub),zb=Je({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F_=_n(zb),Bb=Je({},vu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),Wb=_n(Bb),qb=Je({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hb=_n(qb),Kb=Je({},_h,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gb=_n(Kb),Qb=[9,13,27,32],Vg=jr&&"CompositionEvent"in window,wl=null;jr&&"documentMode"in document&&(wl=document.documentMode);var Yb=jr&&"TextEvent"in window&&!wl,zT=jr&&(!Vg||wl&&8<wl&&11>=wl),U_=" ",$_=!1;function BT(t,e){switch(t){case"keyup":return Qb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function WT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function Zb(t,e){switch(t){case"compositionend":return WT(e);case"keypress":return e.which!==32?null:($_=!0,U_);case"textInput":return t=e.data,t===U_&&$_?null:t;default:return null}}function Xb(t,e){if(_o)return t==="compositionend"||!Vg&&BT(t,e)?(t=$T(),Vc=Ng=Is=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return zT&&e.locale!=="ko"?null:e.data;default:return null}}var Jb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function z_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Jb[t.type]:e==="textarea"}function qT(t,e,n,r){TT(r),e=fd(e,"onChange"),0<e.length&&(n=new Dg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var El=null,Wl=null;function eP(t){nS(t,0)}function wh(t){var e=To(t);if(mT(e))return t}function tP(t,e){if(t==="change")return e}var HT=!1;if(jr){var zf;if(jr){var Bf="oninput"in document;if(!Bf){var B_=document.createElement("div");B_.setAttribute("oninput","return;"),Bf=typeof B_.oninput=="function"}zf=Bf}else zf=!1;HT=zf&&(!document.documentMode||9<document.documentMode)}function W_(){El&&(El.detachEvent("onpropertychange",KT),Wl=El=null)}function KT(t){if(t.propertyName==="value"&&wh(Wl)){var e=[];qT(e,Wl,t,Ag(t)),CT(eP,e)}}function nP(t,e,n){t==="focusin"?(W_(),El=e,Wl=n,El.attachEvent("onpropertychange",KT)):t==="focusout"&&W_()}function rP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wh(Wl)}function sP(t,e){if(t==="click")return wh(e)}function iP(t,e){if(t==="input"||t==="change")return wh(e)}function oP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:oP;function ql(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Op.call(e,s)||!Qn(t[s],e[s]))return!1}return!0}function q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H_(t,e){var n=q_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=q_(n)}}function GT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?GT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function QT(){for(var t=window,e=od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=od(t.document)}return e}function Mg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aP(t){var e=QT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&GT(n.ownerDocument.documentElement,n)){if(r!==null&&Mg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=H_(n,i);var o=H_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lP=jr&&"documentMode"in document&&11>=document.documentMode,wo=null,Jp=null,Tl=null,em=!1;function K_(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;em||wo==null||wo!==od(r)||(r=wo,"selectionStart"in r&&Mg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tl&&ql(Tl,r)||(Tl=r,r=fd(Jp,"onSelect"),0<r.length&&(e=new Dg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function cc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:cc("Animation","AnimationEnd"),animationiteration:cc("Animation","AnimationIteration"),animationstart:cc("Animation","AnimationStart"),transitionend:cc("Transition","TransitionEnd")},Wf={},YT={};jr&&(YT=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function Eh(t){if(Wf[t])return Wf[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in YT)return Wf[t]=e[n];return t}var ZT=Eh("animationend"),XT=Eh("animationiteration"),JT=Eh("animationstart"),eS=Eh("transitionend"),tS=new Map,G_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){tS.set(t,e),Wi(e,[t])}for(var qf=0;qf<G_.length;qf++){var Hf=G_[qf],uP=Hf.toLowerCase(),cP=Hf[0].toUpperCase()+Hf.slice(1);Zs(uP,"on"+cP)}Zs(ZT,"onAnimationEnd");Zs(XT,"onAnimationIteration");Zs(JT,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(eS,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function Q_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ub(r,e,void 0,t),t.currentTarget=null}function nS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Q_(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Q_(s,a,c),i=u}}}if(ld)throw t=Qp,ld=!1,Qp=null,t}function Ke(t,e){var n=e[im];n===void 0&&(n=e[im]=new Set);var r=t+"__bubble";n.has(r)||(rS(e,t,2,!1),n.add(r))}function Kf(t,e,n){var r=0;e&&(r|=4),rS(n,t,r,e)}var dc="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[dc]){t[dc]=!0,cT.forEach(function(n){n!=="selectionchange"&&(dP.has(n)||Kf(n,!1,t),Kf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dc]||(e[dc]=!0,Kf("selectionchange",!1,e))}}function rS(t,e,n,r){switch(UT(e)){case 1:var s=xb;break;case 4:s=Cb;break;default:s=Pg}n=s.bind(null,e,n,t),s=void 0,!Gp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Gf(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}CT(function(){var c=i,h=Ag(n),f=[];e:{var g=tS.get(t);if(g!==void 0){var S=Dg,R=t;switch(t){case"keypress":if(Mc(n)===0)break e;case"keydown":case"keyup":S=$b;break;case"focusin":R="focus",S=$f;break;case"focusout":R="blur",S=$f;break;case"beforeblur":case"afterblur":S=$f;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=L_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=kb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=Wb;break;case ZT:case XT:case JT:S=Nb;break;case eS:S=Hb;break;case"scroll":S=Ab;break;case"wheel":S=Gb;break;case"copy":case"cut":case"paste":S=Ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=F_}var T=(e&4)!==0,A=!T&&t==="scroll",E=T?g!==null?g+"Capture":null:g;T=[];for(var y=c,C;y!==null;){C=y;var O=C.stateNode;if(C.tag===5&&O!==null&&(C=O,E!==null&&(O=Ul(y,E),O!=null&&T.push(Kl(y,O,C)))),A)break;y=y.return}0<T.length&&(g=new S(g,R,null,n,h),f.push({event:g,listeners:T}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",S=t==="mouseout"||t==="pointerout",g&&n!==Hp&&(R=n.relatedTarget||n.fromElement)&&(pi(R)||R[Fr]))break e;if((S||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,S?(R=n.relatedTarget||n.toElement,S=c,R=R?pi(R):null,R!==null&&(A=qi(R),R!==A||R.tag!==5&&R.tag!==6)&&(R=null)):(S=null,R=c),S!==R)){if(T=L_,O="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=F_,O="onPointerLeave",E="onPointerEnter",y="pointer"),A=S==null?g:To(S),C=R==null?g:To(R),g=new T(O,y+"leave",S,n,h),g.target=A,g.relatedTarget=C,O=null,pi(h)===c&&(T=new T(E,y+"enter",R,n,h),T.target=C,T.relatedTarget=A,O=T),A=O,S&&R)t:{for(T=S,E=R,y=0,C=T;C;C=oo(C))y++;for(C=0,O=E;O;O=oo(O))C++;for(;0<y-C;)T=oo(T),y--;for(;0<C-y;)E=oo(E),C--;for(;y--;){if(T===E||E!==null&&T===E.alternate)break t;T=oo(T),E=oo(E)}T=null}else T=null;S!==null&&Y_(f,g,S,T,!1),R!==null&&A!==null&&Y_(f,A,R,T,!0)}}e:{if(g=c?To(c):window,S=g.nodeName&&g.nodeName.toLowerCase(),S==="select"||S==="input"&&g.type==="file")var M=tP;else if(z_(g))if(HT)M=iP;else{M=rP;var U=nP}else(S=g.nodeName)&&S.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(M=sP);if(M&&(M=M(t,c))){qT(f,M,n,h);break e}U&&U(t,g,c),t==="focusout"&&(U=g._wrapperState)&&U.controlled&&g.type==="number"&&$p(g,"number",g.value)}switch(U=c?To(c):window,t){case"focusin":(z_(U)||U.contentEditable==="true")&&(wo=U,Jp=c,Tl=null);break;case"focusout":Tl=Jp=wo=null;break;case"mousedown":em=!0;break;case"contextmenu":case"mouseup":case"dragend":em=!1,K_(f,n,h);break;case"selectionchange":if(lP)break;case"keydown":case"keyup":K_(f,n,h)}var I;if(Vg)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else _o?BT(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(zT&&n.locale!=="ko"&&(_o||v!=="onCompositionStart"?v==="onCompositionEnd"&&_o&&(I=$T()):(Is=h,Ng="value"in Is?Is.value:Is.textContent,_o=!0)),U=fd(c,v),0<U.length&&(v=new j_(v,t,null,n,h),f.push({event:v,listeners:U}),I?v.data=I:(I=WT(n),I!==null&&(v.data=I)))),(I=Yb?Zb(t,n):Xb(t,n))&&(c=fd(c,"onBeforeInput"),0<c.length&&(h=new j_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=I))}nS(f,e)})}function Kl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ul(t,n),i!=null&&r.unshift(Kl(t,i,s)),i=Ul(t,e),i!=null&&r.push(Kl(t,i,s))),t=t.return}return r}function oo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=Ul(n,i),u!=null&&o.unshift(Kl(n,u,a))):s||(u=Ul(n,i),u!=null&&o.push(Kl(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var hP=/\r\n?/g,fP=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(hP,`
`).replace(fP,"")}function hc(t,e,n){if(e=Z_(e),Z_(t)!==e&&n)throw Error(W(425))}function pd(){}var tm=null,nm=null;function rm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sm=typeof setTimeout=="function"?setTimeout:void 0,pP=typeof clearTimeout=="function"?clearTimeout:void 0,X_=typeof Promise=="function"?Promise:void 0,mP=typeof queueMicrotask=="function"?queueMicrotask:typeof X_<"u"?function(t){return X_.resolve(null).then(t).catch(gP)}:sm;function gP(t){setTimeout(function(){throw t})}function Qf(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Bl(e)}function bs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function J_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),sr="__reactFiber$"+Ea,Gl="__reactProps$"+Ea,Fr="__reactContainer$"+Ea,im="__reactEvents$"+Ea,yP="__reactListeners$"+Ea,vP="__reactHandles$"+Ea;function pi(t){var e=t[sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Fr]||n[sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=J_(t);t!==null;){if(n=t[sr])return n;t=J_(t)}return e}t=n,n=t.parentNode}return null}function _u(t){return t=t[sr]||t[Fr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function To(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Th(t){return t[Gl]||null}var om=[],So=-1;function Xs(t){return{current:t}}function Ge(t){0>So||(t.current=om[So],om[So]=null,So--)}function We(t,e){So++,om[So]=t.current,t.current=e}var $s={},$t=Xs($s),sn=Xs(!1),bi=$s;function ea(t,e){var n=t.type.contextTypes;if(!n)return $s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function on(t){return t=t.childContextTypes,t!=null}function md(){Ge(sn),Ge($t)}function ew(t,e,n){if($t.current!==$s)throw Error(W(168));We($t,e),We(sn,n)}function sS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,nb(t)||"Unknown",s));return Je({},n,r)}function gd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,bi=$t.current,We($t,t),We(sn,sn.current),!0}function tw(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=sS(t,e,bi),r.__reactInternalMemoizedMergedChildContext=t,Ge(sn),Ge($t),We($t,t)):Ge(sn),We(sn,n)}var Ir=null,Sh=!1,Yf=!1;function iS(t){Ir===null?Ir=[t]:Ir.push(t)}function _P(t){Sh=!0,iS(t)}function Js(){if(!Yf&&Ir!==null){Yf=!0;var t=0,e=Ue;try{var n=Ir;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,Sh=!1}catch(s){throw Ir!==null&&(Ir=Ir.slice(t+1)),bT(Rg,Js),s}finally{Ue=e,Yf=!1}}return null}var Io=[],xo=0,yd=null,vd=0,In=[],xn=0,Pi=null,Ar=1,Rr="";function li(t,e){Io[xo++]=vd,Io[xo++]=yd,yd=t,vd=e}function oS(t,e,n){In[xn++]=Ar,In[xn++]=Rr,In[xn++]=Pi,Pi=t;var r=Ar;t=Rr;var s=32-Hn(r)-1;r&=~(1<<s),n+=1;var i=32-Hn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ar=1<<32-Hn(e)+s|n<<s|r,Rr=i+t}else Ar=1<<i|n<<s|r,Rr=t}function Lg(t){t.return!==null&&(li(t,1),oS(t,1,0))}function jg(t){for(;t===yd;)yd=Io[--xo],Io[xo]=null,vd=Io[--xo],Io[xo]=null;for(;t===Pi;)Pi=In[--xn],In[xn]=null,Rr=In[--xn],In[xn]=null,Ar=In[--xn],In[xn]=null}var mn=null,pn=null,Qe=!1,zn=null;function aS(t,e){var n=An(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function nw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mn=t,pn=bs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mn=t,pn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Pi!==null?{id:Ar,overflow:Rr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=An(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mn=t,pn=null,!0):!1;default:return!1}}function am(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lm(t){if(Qe){var e=pn;if(e){var n=e;if(!nw(t,e)){if(am(t))throw Error(W(418));e=bs(n.nextSibling);var r=mn;e&&nw(t,e)?aS(r,n):(t.flags=t.flags&-4097|2,Qe=!1,mn=t)}}else{if(am(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,mn=t}}}function rw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mn=t}function fc(t){if(t!==mn)return!1;if(!Qe)return rw(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rm(t.type,t.memoizedProps)),e&&(e=pn)){if(am(t))throw lS(),Error(W(418));for(;e;)aS(t,e),e=bs(e.nextSibling)}if(rw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pn=bs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pn=null}}else pn=mn?bs(t.stateNode.nextSibling):null;return!0}function lS(){for(var t=pn;t;)t=bs(t.nextSibling)}function ta(){pn=mn=null,Qe=!1}function Fg(t){zn===null?zn=[t]:zn.push(t)}var wP=Yr.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function pc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sw(t){var e=t._init;return e(t._payload)}function uS(t){function e(E,y){if(t){var C=E.deletions;C===null?(E.deletions=[y],E.flags|=16):C.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function s(E,y){return E=Os(E,y),E.index=0,E.sibling=null,E}function i(E,y,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<y?(E.flags|=2,y):C):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,C,O){return y===null||y.tag!==6?(y=rp(C,E.mode,O),y.return=E,y):(y=s(y,C),y.return=E,y)}function u(E,y,C,O){var M=C.type;return M===vo?h(E,y,C.props.children,O,C.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&sw(M)===y.type)?(O=s(y,C.props),O.ref=Za(E,y,C),O.return=E,O):(O=Bc(C.type,C.key,C.props,null,E.mode,O),O.ref=Za(E,y,C),O.return=E,O)}function c(E,y,C,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==C.containerInfo||y.stateNode.implementation!==C.implementation?(y=sp(C,E.mode,O),y.return=E,y):(y=s(y,C.children||[]),y.return=E,y)}function h(E,y,C,O,M){return y===null||y.tag!==7?(y=ki(C,E.mode,O,M),y.return=E,y):(y=s(y,C),y.return=E,y)}function f(E,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return y=rp(""+y,E.mode,C),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case rc:return C=Bc(y.type,y.key,y.props,null,E.mode,C),C.ref=Za(E,null,y),C.return=E,C;case yo:return y=sp(y,E.mode,C),y.return=E,y;case ds:var O=y._init;return f(E,O(y._payload),C)}if(ol(y)||Ha(y))return y=ki(y,E.mode,C,null),y.return=E,y;pc(E,y)}return null}function g(E,y,C,O){var M=y!==null?y.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(E,y,""+C,O);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case rc:return C.key===M?u(E,y,C,O):null;case yo:return C.key===M?c(E,y,C,O):null;case ds:return M=C._init,g(E,y,M(C._payload),O)}if(ol(C)||Ha(C))return M!==null?null:h(E,y,C,O,null);pc(E,C)}return null}function S(E,y,C,O,M){if(typeof O=="string"&&O!==""||typeof O=="number")return E=E.get(C)||null,a(y,E,""+O,M);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case rc:return E=E.get(O.key===null?C:O.key)||null,u(y,E,O,M);case yo:return E=E.get(O.key===null?C:O.key)||null,c(y,E,O,M);case ds:var U=O._init;return S(E,y,C,U(O._payload),M)}if(ol(O)||Ha(O))return E=E.get(C)||null,h(y,E,O,M,null);pc(y,O)}return null}function R(E,y,C,O){for(var M=null,U=null,I=y,v=y=0,x=null;I!==null&&v<C.length;v++){I.index>v?(x=I,I=null):x=I.sibling;var b=g(E,I,C[v],O);if(b===null){I===null&&(I=x);break}t&&I&&b.alternate===null&&e(E,I),y=i(b,y,v),U===null?M=b:U.sibling=b,U=b,I=x}if(v===C.length)return n(E,I),Qe&&li(E,v),M;if(I===null){for(;v<C.length;v++)I=f(E,C[v],O),I!==null&&(y=i(I,y,v),U===null?M=I:U.sibling=I,U=I);return Qe&&li(E,v),M}for(I=r(E,I);v<C.length;v++)x=S(I,E,v,C[v],O),x!==null&&(t&&x.alternate!==null&&I.delete(x.key===null?v:x.key),y=i(x,y,v),U===null?M=x:U.sibling=x,U=x);return t&&I.forEach(function(D){return e(E,D)}),Qe&&li(E,v),M}function T(E,y,C,O){var M=Ha(C);if(typeof M!="function")throw Error(W(150));if(C=M.call(C),C==null)throw Error(W(151));for(var U=M=null,I=y,v=y=0,x=null,b=C.next();I!==null&&!b.done;v++,b=C.next()){I.index>v?(x=I,I=null):x=I.sibling;var D=g(E,I,b.value,O);if(D===null){I===null&&(I=x);break}t&&I&&D.alternate===null&&e(E,I),y=i(D,y,v),U===null?M=D:U.sibling=D,U=D,I=x}if(b.done)return n(E,I),Qe&&li(E,v),M;if(I===null){for(;!b.done;v++,b=C.next())b=f(E,b.value,O),b!==null&&(y=i(b,y,v),U===null?M=b:U.sibling=b,U=b);return Qe&&li(E,v),M}for(I=r(E,I);!b.done;v++,b=C.next())b=S(I,E,v,b.value,O),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?v:b.key),y=i(b,y,v),U===null?M=b:U.sibling=b,U=b);return t&&I.forEach(function(P){return e(E,P)}),Qe&&li(E,v),M}function A(E,y,C,O){if(typeof C=="object"&&C!==null&&C.type===vo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case rc:e:{for(var M=C.key,U=y;U!==null;){if(U.key===M){if(M=C.type,M===vo){if(U.tag===7){n(E,U.sibling),y=s(U,C.props.children),y.return=E,E=y;break e}}else if(U.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ds&&sw(M)===U.type){n(E,U.sibling),y=s(U,C.props),y.ref=Za(E,U,C),y.return=E,E=y;break e}n(E,U);break}else e(E,U);U=U.sibling}C.type===vo?(y=ki(C.props.children,E.mode,O,C.key),y.return=E,E=y):(O=Bc(C.type,C.key,C.props,null,E.mode,O),O.ref=Za(E,y,C),O.return=E,E=O)}return o(E);case yo:e:{for(U=C.key;y!==null;){if(y.key===U)if(y.tag===4&&y.stateNode.containerInfo===C.containerInfo&&y.stateNode.implementation===C.implementation){n(E,y.sibling),y=s(y,C.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=sp(C,E.mode,O),y.return=E,E=y}return o(E);case ds:return U=C._init,A(E,y,U(C._payload),O)}if(ol(C))return R(E,y,C,O);if(Ha(C))return T(E,y,C,O);pc(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,y!==null&&y.tag===6?(n(E,y.sibling),y=s(y,C),y.return=E,E=y):(n(E,y),y=rp(C,E.mode,O),y.return=E,E=y),o(E)):n(E,y)}return A}var na=uS(!0),cS=uS(!1),_d=Xs(null),wd=null,Co=null,Ug=null;function $g(){Ug=Co=wd=null}function zg(t){var e=_d.current;Ge(_d),t._currentValue=e}function um(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){wd=t,Ug=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(Ug!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(wd===null)throw Error(W(308));Co=t,wd.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var mi=null;function Bg(t){mi===null?mi=[t]:mi.push(t)}function dS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Bg(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ur(t,r)}function Ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function Wg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ur(t,n)}return s=r.interleaved,s===null?(e.next=e,Bg(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ur(t,n)}function Lc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}function iw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ed(t,e,n,r){var s=t.updateQueue;hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,h=c=u=null,a=i;do{var g=a.lane,S=a.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:S,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var R=t,T=a;switch(g=e,S=n,T.tag){case 1:if(R=T.payload,typeof R=="function"){f=R.call(S,f,g);break e}f=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=T.payload,g=typeof R=="function"?R.call(S,f,g):R,g==null)break e;f=Je({},f,g);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else S={eventTime:S,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=S,u=f):h=h.next=S,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Di|=o,t.lanes=o,t.memoizedState=f}}function ow(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var wu={},lr=Xs(wu),Ql=Xs(wu),Yl=Xs(wu);function gi(t){if(t===wu)throw Error(W(174));return t}function qg(t,e){switch(We(Yl,e),We(Ql,t),We(lr,wu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bp(e,t)}Ge(lr),We(lr,e)}function ra(){Ge(lr),Ge(Ql),Ge(Yl)}function fS(t){gi(Yl.current);var e=gi(lr.current),n=Bp(e,t.type);e!==n&&(We(Ql,t),We(lr,n))}function Hg(t){Ql.current===t&&(Ge(lr),Ge(Ql))}var Ze=Xs(0);function Td(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zf=[];function Kg(){for(var t=0;t<Zf.length;t++)Zf[t]._workInProgressVersionPrimary=null;Zf.length=0}var jc=Yr.ReactCurrentDispatcher,Xf=Yr.ReactCurrentBatchConfig,Ni=0,Xe=null,mt=null,Tt=null,Sd=!1,Sl=!1,Zl=0,EP=0;function Ot(){throw Error(W(321))}function Gg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Qn(t[n],e[n]))return!1;return!0}function Qg(t,e,n,r,s,i){if(Ni=i,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,jc.current=t===null||t.memoizedState===null?xP:CP,t=n(r,s),Sl){i=0;do{if(Sl=!1,Zl=0,25<=i)throw Error(W(301));i+=1,Tt=mt=null,e.updateQueue=null,jc.current=AP,t=n(r,s)}while(Sl)}if(jc.current=Id,e=mt!==null&&mt.next!==null,Ni=0,Tt=mt=Xe=null,Sd=!1,e)throw Error(W(300));return t}function Yg(){var t=Zl!==0;return Zl=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Xe.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Nn(){if(mt===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Tt===null?Xe.memoizedState:Tt.next;if(e!==null)Tt=e,mt=t;else{if(t===null)throw Error(W(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Tt===null?Xe.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function Xl(t,e){return typeof e=="function"?e(t):e}function Jf(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var h=c.lane;if((Ni&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Xe.lanes|=h,Di|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,Qn(r,e.memoizedState)||(rn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Xe.lanes|=i,Di|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ep(t){var e=Nn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Qn(i,e.memoizedState)||(rn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pS(){}function mS(t,e){var n=Xe,r=Nn(),s=e(),i=!Qn(r.memoizedState,s);if(i&&(r.memoizedState=s,rn=!0),r=r.queue,Zg(vS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,Jl(9,yS.bind(null,n,r,s,e),void 0,null),St===null)throw Error(W(349));Ni&30||gS(n,e,s)}return s}function gS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yS(t,e,n,r){e.value=n,e.getSnapshot=r,_S(e)&&wS(t)}function vS(t,e,n){return n(function(){_S(e)&&wS(t)})}function _S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Qn(t,n)}catch{return!0}}function wS(t){var e=Ur(t,1);e!==null&&Kn(e,t,1,-1)}function aw(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:t},e.queue=t,t=t.dispatch=IP.bind(null,Xe,t),[e.memoizedState,t]}function Jl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ES(){return Nn().memoizedState}function Fc(t,e,n,r){var s=Jn();Xe.flags|=t,s.memoizedState=Jl(1|e,n,void 0,r===void 0?null:r)}function Ih(t,e,n,r){var s=Nn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Gg(r,o.deps)){s.memoizedState=Jl(e,n,i,r);return}}Xe.flags|=t,s.memoizedState=Jl(1|e,n,i,r)}function lw(t,e){return Fc(8390656,8,t,e)}function Zg(t,e){return Ih(2048,8,t,e)}function TS(t,e){return Ih(4,2,t,e)}function SS(t,e){return Ih(4,4,t,e)}function IS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xS(t,e,n){return n=n!=null?n.concat([t]):null,Ih(4,4,IS.bind(null,e,t),n)}function Xg(){}function CS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AS(t,e){var n=Nn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Gg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RS(t,e,n){return Ni&21?(Qn(n,e)||(n=DT(),Xe.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=n)}function TP(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Xf.transition;Xf.transition={};try{t(!1),e()}finally{Ue=n,Xf.transition=r}}function kS(){return Nn().memoizedState}function SP(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bS(t))PS(e,n);else if(n=dS(t,e,n,r),n!==null){var s=Qt();Kn(n,t,r,s),NS(n,e,r)}}function IP(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bS(t))PS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Qn(a,o)){var u=e.interleaved;u===null?(s.next=s,Bg(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=dS(t,e,s,r),n!==null&&(s=Qt(),Kn(n,t,r,s),NS(n,e,r))}}function bS(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function PS(t,e){Sl=Sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,kg(t,n)}}var Id={readContext:Pn,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},xP={readContext:Pn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:lw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fc(4194308,4,IS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fc(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SP.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:aw,useDebugValue:Xg,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=aw(!1),e=t[0];return t=TP.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,s=Jn();if(Qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),St===null)throw Error(W(349));Ni&30||gS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lw(vS.bind(null,r,i,t),[t]),r.flags|=2048,Jl(9,yS.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Jn(),e=St.identifierPrefix;if(Qe){var n=Rr,r=Ar;n=(r&~(1<<32-Hn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EP++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CP={readContext:Pn,useCallback:CS,useContext:Pn,useEffect:Zg,useImperativeHandle:xS,useInsertionEffect:TS,useLayoutEffect:SS,useMemo:AS,useReducer:Jf,useRef:ES,useState:function(){return Jf(Xl)},useDebugValue:Xg,useDeferredValue:function(t){var e=Nn();return RS(e,mt.memoizedState,t)},useTransition:function(){var t=Jf(Xl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:pS,useSyncExternalStore:mS,useId:kS,unstable_isNewReconciler:!1},AP={readContext:Pn,useCallback:CS,useContext:Pn,useEffect:Zg,useImperativeHandle:xS,useInsertionEffect:TS,useLayoutEffect:SS,useMemo:AS,useReducer:ep,useRef:ES,useState:function(){return ep(Xl)},useDebugValue:Xg,useDeferredValue:function(t){var e=Nn();return mt===null?e.memoizedState=t:RS(e,mt.memoizedState,t)},useTransition:function(){var t=ep(Xl)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:pS,useSyncExternalStore:mS,useId:kS,unstable_isNewReconciler:!1};function jn(t,e){if(t&&t.defaultProps){e=Je({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Je({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xh={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=Ds(t),i=Or(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Kn(e,t,s,r),Lc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=Ds(t),i=Or(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(Kn(e,t,s,r),Lc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=Ds(t),s=Or(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(Kn(e,t,r,n),Lc(e,t,r))}};function uw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ql(n,r)||!ql(s,i):!0}function DS(t,e,n){var r=!1,s=$s,i=e.contextType;return typeof i=="object"&&i!==null?i=Pn(i):(s=on(e)?bi:$t.current,r=e.contextTypes,i=(r=r!=null)?ea(t,s):$s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function cw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xh.enqueueReplaceState(e,e.state,null)}function dm(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Wg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Pn(i):(i=on(e)?bi:$t.current,s.context=ea(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(cm(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&xh.enqueueReplaceState(s,s.state,null),Ed(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sa(t,e){try{var n="",r=e;do n+=tb(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function tp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hm(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RP=typeof WeakMap=="function"?WeakMap:Map;function OS(t,e,n){n=Or(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Cd||(Cd=!0,Tm=r),hm(t,e)},n}function VS(t,e,n){n=Or(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hm(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hm(t,e),typeof r!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function dw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RP;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zP.bind(null,t,e,n),e.then(t,t))}function hw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Or(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var kP=Yr.ReactCurrentOwner,rn=!1;function Ht(t,e,n,r){e.child=t===null?cS(e,null,n,r):na(e,t.child,n,r)}function pw(t,e,n,r,s){n=n.render;var i=e.ref;return Oo(e,s),r=Qg(t,e,n,r,i,s),n=Yg(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(Qe&&n&&Lg(e),e.flags|=1,Ht(t,e,r,s),e.child)}function mw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!oy(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,MS(t,e,i,r,s)):(t=Bc(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ql,n(o,r)&&t.ref===e.ref)return $r(t,e,s)}return e.flags|=1,t=Os(i,r),t.ref=e.ref,t.return=e,e.child=t}function MS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ql(i,r)&&t.ref===e.ref)if(rn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,$r(t,e,s)}return fm(t,e,n,r,s)}function LS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(Ro,fn),fn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,We(Ro,fn),fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,We(Ro,fn),fn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,We(Ro,fn),fn|=r;return Ht(t,e,s,n),e.child}function jS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fm(t,e,n,r,s){var i=on(n)?bi:$t.current;return i=ea(e,i),Oo(e,s),n=Qg(t,e,n,r,i,s),r=Yg(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,$r(t,e,s)):(Qe&&r&&Lg(e),e.flags|=1,Ht(t,e,n,s),e.child)}function gw(t,e,n,r,s){if(on(n)){var i=!0;gd(e)}else i=!1;if(Oo(e,s),e.stateNode===null)Uc(t,e),DS(e,n,r),dm(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=on(n)?bi:$t.current,c=ea(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&cw(e,o,r,c),hs=!1;var g=e.memoizedState;o.state=g,Ed(e,r,o,s),u=e.memoizedState,a!==r||g!==u||sn.current||hs?(typeof h=="function"&&(cm(e,n,h,r),u=e.memoizedState),(a=hs||uw(e,n,a,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:jn(e.type,a),o.props=c,f=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Pn(u):(u=on(n)?bi:$t.current,u=ea(e,u));var S=n.getDerivedStateFromProps;(h=typeof S=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==u)&&cw(e,o,r,u),hs=!1,g=e.memoizedState,o.state=g,Ed(e,r,o,s);var R=e.memoizedState;a!==f||g!==R||sn.current||hs?(typeof S=="function"&&(cm(e,n,S,r),R=e.memoizedState),(c=hs||uw(e,n,c,r,g,R,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,R,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,R,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),o.props=r,o.state=R,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return pm(t,e,n,r,i,s)}function pm(t,e,n,r,s,i){jS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&tw(e,n,!1),$r(t,e,i);r=e.stateNode,kP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=na(e,t.child,null,i),e.child=na(e,null,a,i)):Ht(t,e,a,i),e.memoizedState=r.state,s&&tw(e,n,!0),e.child}function FS(t){var e=t.stateNode;e.pendingContext?ew(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ew(t,e.context,!1),qg(t,e.containerInfo)}function yw(t,e,n,r,s){return ta(),Fg(s),e.flags|=256,Ht(t,e,n,r),e.child}var mm={dehydrated:null,treeContext:null,retryLane:0};function gm(t){return{baseLanes:t,cachePool:null,transitions:null}}function US(t,e,n){var r=e.pendingProps,s=Ze.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),We(Ze,s&1),t===null)return lm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Rh(o,r,0,null),t=ki(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gm(n),e.memoizedState=mm,t):Jg(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bP(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Os(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Os(a,i):(i=ki(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gm(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mm,r}return i=t.child,t=i.sibling,r=Os(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Jg(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function mc(t,e,n,r){return r!==null&&Fg(r),na(e,t.child,null,n),t=Jg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bP(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=tp(Error(W(422))),mc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Rh({mode:"visible",children:r.children},s,0,null),i=ki(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&na(e,t.child,null,o),e.child.memoizedState=gm(o),e.memoizedState=mm,i);if(!(e.mode&1))return mc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=tp(i,r,void 0),mc(t,e,o,r)}if(a=(o&t.childLanes)!==0,rn||a){if(r=St,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ur(t,s),Kn(r,t,s,-1))}return iy(),r=tp(Error(W(421))),mc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,pn=bs(s.nextSibling),mn=e,Qe=!0,zn=null,t!==null&&(In[xn++]=Ar,In[xn++]=Rr,In[xn++]=Pi,Ar=t.id,Rr=t.overflow,Pi=e),e=Jg(e,r.children),e.flags|=4096,e)}function vw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),um(t.return,e,n)}function np(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function $S(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ht(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vw(t,n,e);else if(t.tag===19)vw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(We(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Td(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),np(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Td(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}np(e,!0,n,null,i);break;case"together":np(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Uc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Os(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PP(t,e,n){switch(e.tag){case 3:FS(e),ta();break;case 5:fS(e);break;case 1:on(e.type)&&gd(e);break;case 4:qg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;We(_d,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(We(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?US(t,e,n):(We(Ze,Ze.current&1),t=$r(t,e,n),t!==null?t.sibling:null);We(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return $S(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),We(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,LS(t,e,n)}return $r(t,e,n)}var zS,ym,BS,WS;zS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ym=function(){};BS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gi(lr.current);var i=null;switch(n){case"input":s=Fp(t,s),r=Fp(t,r),i=[];break;case"select":s=Je({},s,{value:void 0}),r=Je({},r,{value:void 0}),i=[];break;case"textarea":s=zp(t,s),r=zp(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=pd)}Wp(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jl.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ke("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};WS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xa(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NP(t,e,n){var r=e.pendingProps;switch(jg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return on(e.type)&&md(),Vt(e),null;case 3:return r=e.stateNode,ra(),Ge(sn),Ge($t),Kg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(fc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(xm(zn),zn=null))),ym(t,e),Vt(e),null;case 5:Hg(e);var s=gi(Yl.current);if(n=e.type,t!==null&&e.stateNode!=null)BS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Vt(e),null}if(t=gi(lr.current),fc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[sr]=e,r[Gl]=i,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<ll.length;s++)Ke(ll[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":A_(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":k_(r,i),Ke("invalid",r)}Wp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&hc(r.textContent,a,t),s=["children",""+a]):jl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":sc(r),R_(r,i,!0);break;case"textarea":sc(r),b_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=pd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sr]=e,t[Gl]=r,zS(t,e,!1,!1),e.stateNode=t;e:{switch(o=qp(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),s=r;break;case"iframe":case"object":case"embed":Ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<ll.length;s++)Ke(ll[s],t);s=r;break;case"source":Ke("error",t),s=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=r;break;case"details":Ke("toggle",t),s=r;break;case"input":A_(t,r),s=Fp(t,r),Ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Je({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":k_(t,r),s=zp(t,r),Ke("invalid",t);break;default:s=r}Wp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?ET(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_T(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fl(t,u):typeof u=="number"&&Fl(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(jl.hasOwnProperty(i)?u!=null&&i==="onScroll"&&Ke("scroll",t):u!=null&&Sg(t,i,u,o))}switch(n){case"input":sc(t),R_(t,r,!1);break;case"textarea":sc(t),b_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=pd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)WS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=gi(Yl.current),gi(lr.current),fc(e)){if(r=e.stateNode,n=e.memoizedProps,r[sr]=e,(i=r.nodeValue!==n)&&(t=mn,t!==null))switch(t.tag){case 3:hc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&hc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ge(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&pn!==null&&e.mode&1&&!(e.flags&128))lS(),ta(),e.flags|=98560,i=!1;else if(i=fc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[sr]=e}else ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else zn!==null&&(xm(zn),zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?yt===0&&(yt=3):iy())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return ra(),ym(t,e),t===null&&Hl(e.stateNode.containerInfo),Vt(e),null;case 10:return zg(e.type._context),Vt(e),null;case 17:return on(e.type)&&md(),Vt(e),null;case 19:if(Ge(Ze),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Xa(i,!1);else{if(yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Td(t),o!==null){for(e.flags|=128,Xa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return We(Ze,Ze.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>ia&&(e.flags|=128,r=!0,Xa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Td(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Vt(e),null}else 2*ut()-i.renderingStartTime>ia&&n!==1073741824&&(e.flags|=128,r=!0,Xa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=Ze.current,We(Ze,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return sy(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function DP(t,e){switch(jg(e),e.tag){case 1:return on(e.type)&&md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ra(),Ge(sn),Ge($t),Kg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Hg(e),null;case 13:if(Ge(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Ze),null;case 4:return ra(),null;case 10:return zg(e.type._context),null;case 22:case 23:return sy(),null;case 24:return null;default:return null}}var gc=!1,Ft=!1,OP=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ao(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function vm(t,e,n){try{n()}catch(r){it(t,e,r)}}var _w=!1;function VP(t,e){if(tm=dd,t=QT(),Mg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,f=t,g=null;t:for(;;){for(var S;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(S=f.firstChild)!==null;)g=f,f=S;for(;;){if(f===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++h===r&&(u=o),(S=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=S}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nm={focusedElem:t,selectionRange:n},dd=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var R=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var T=R.memoizedProps,A=R.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?T:jn(e.type,T),A);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(O){it(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return R=_w,_w=!1,R}function Il(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&vm(e,n,i)}s=s.next}while(s!==r)}}function Ch(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _m(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qS(t){var e=t.alternate;e!==null&&(t.alternate=null,qS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sr],delete e[Gl],delete e[im],delete e[yP],delete e[vP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function HS(t){return t.tag===5||t.tag===3||t.tag===4}function ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||HS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=pd));else if(r!==4&&(t=t.child,t!==null))for(wm(t,e,n),t=t.sibling;t!==null;)wm(t,e,n),t=t.sibling}function Em(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Em(t,e,n),t=t.sibling;t!==null;)Em(t,e,n),t=t.sibling}var xt=null,$n=!1;function is(t,e,n){for(n=n.child;n!==null;)KS(t,e,n),n=n.sibling}function KS(t,e,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(vh,n)}catch{}switch(n.tag){case 5:Ft||Ao(n,e);case 6:var r=xt,s=$n;xt=null,is(t,e,n),xt=r,$n=s,xt!==null&&($n?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&($n?(t=xt,n=n.stateNode,t.nodeType===8?Qf(t.parentNode,n):t.nodeType===1&&Qf(t,n),Bl(t)):Qf(xt,n.stateNode));break;case 4:r=xt,s=$n,xt=n.stateNode.containerInfo,$n=!0,is(t,e,n),xt=r,$n=s;break;case 0:case 11:case 14:case 15:if(!Ft&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&vm(n,e,o),s=s.next}while(s!==r)}is(t,e,n);break;case 1:if(!Ft&&(Ao(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Ft=(r=Ft)||n.memoizedState!==null,is(t,e,n),Ft=r):is(t,e,n);break;default:is(t,e,n)}}function Ew(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OP),e.forEach(function(r){var s=WP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ln(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:xt=a.stateNode,$n=!1;break e;case 3:xt=a.stateNode.containerInfo,$n=!0;break e;case 4:xt=a.stateNode.containerInfo,$n=!0;break e}a=a.return}if(xt===null)throw Error(W(160));KS(i,o,s),xt=null,$n=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){it(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)GS(e,t),e=e.sibling}function GS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ln(e,t),Xn(t),r&4){try{Il(3,t,t.return),Ch(3,t)}catch(T){it(t,t.return,T)}try{Il(5,t,t.return)}catch(T){it(t,t.return,T)}}break;case 1:Ln(e,t),Xn(t),r&512&&n!==null&&Ao(n,n.return);break;case 5:if(Ln(e,t),Xn(t),r&512&&n!==null&&Ao(n,n.return),t.flags&32){var s=t.stateNode;try{Fl(s,"")}catch(T){it(t,t.return,T)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&gT(s,i),qp(a,o);var c=qp(a,i);for(o=0;o<u.length;o+=2){var h=u[o],f=u[o+1];h==="style"?ET(s,f):h==="dangerouslySetInnerHTML"?_T(s,f):h==="children"?Fl(s,f):Sg(s,h,f,c)}switch(a){case"input":Up(s,i);break;case"textarea":yT(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?bo(s,!!i.multiple,S,!1):g!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gl]=i}catch(T){it(t,t.return,T)}}break;case 6:if(Ln(e,t),Xn(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(T){it(t,t.return,T)}}break;case 3:if(Ln(e,t),Xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(T){it(t,t.return,T)}break;case 4:Ln(e,t),Xn(t);break;case 13:Ln(e,t),Xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ny=ut())),r&4&&Ew(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ft=(c=Ft)||h,Ln(e,t),Ft=c):Ln(e,t),Xn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(f=ne=h;ne!==null;){switch(g=ne,S=g.child,g.tag){case 0:case 11:case 14:case 15:Il(4,g,g.return);break;case 1:Ao(g,g.return);var R=g.stateNode;if(typeof R.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(T){it(r,n,T)}}break;case 5:Ao(g,g.return);break;case 22:if(g.memoizedState!==null){Sw(f);continue}}S!==null?(S.return=g,ne=S):Sw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=wT("display",o))}catch(T){it(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){it(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ln(e,t),Xn(t),r&4&&Ew(t);break;case 21:break;default:Ln(e,t),Xn(t)}}function Xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(HS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fl(s,""),r.flags&=-33);var i=ww(t);Em(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=ww(t);wm(t,a,o);break;default:throw Error(W(161))}}catch(u){it(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MP(t,e,n){ne=t,QS(t)}function QS(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var s=ne,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||gc;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ft;a=gc;var c=Ft;if(gc=o,(Ft=u)&&!c)for(ne=s;ne!==null;)o=ne,u=o.child,o.tag===22&&o.memoizedState!==null?Iw(s):u!==null?(u.return=o,ne=u):Iw(s);for(;i!==null;)ne=i,QS(i),i=i.sibling;ne=s,gc=a,Ft=c}Tw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ne=i):Tw(t)}}function Tw(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ft||Ch(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ft)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ow(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ow(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ft||e.flags&512&&_m(e)}catch(g){it(e,e.return,g)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Sw(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Iw(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ch(4,e)}catch(u){it(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){it(e,s,u)}}var i=e.return;try{_m(e)}catch(u){it(e,i,u)}break;case 5:var o=e.return;try{_m(e)}catch(u){it(e,o,u)}}}catch(u){it(e,e.return,u)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var LP=Math.ceil,xd=Yr.ReactCurrentDispatcher,ey=Yr.ReactCurrentOwner,kn=Yr.ReactCurrentBatchConfig,Oe=0,St=null,ht=null,Rt=0,fn=0,Ro=Xs(0),yt=0,eu=null,Di=0,Ah=0,ty=0,xl=null,nn=null,ny=0,ia=1/0,Sr=null,Cd=!1,Tm=null,Ns=null,yc=!1,xs=null,Ad=0,Cl=0,Sm=null,$c=-1,zc=0;function Qt(){return Oe&6?ut():$c!==-1?$c:$c=ut()}function Ds(t){return t.mode&1?Oe&2&&Rt!==0?Rt&-Rt:wP.transition!==null?(zc===0&&(zc=DT()),zc):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:UT(t.type)),t):1}function Kn(t,e,n,r){if(50<Cl)throw Cl=0,Sm=null,Error(W(185));yu(t,n,r),(!(Oe&2)||t!==St)&&(t===St&&(!(Oe&2)&&(Ah|=n),yt===4&&ms(t,Rt)),an(t,r),n===1&&Oe===0&&!(e.mode&1)&&(ia=ut()+500,Sh&&Js()))}function an(t,e){var n=t.callbackNode;wb(t,e);var r=cd(t,t===St?Rt:0);if(r===0)n!==null&&D_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&D_(n),e===1)t.tag===0?_P(xw.bind(null,t)):iS(xw.bind(null,t)),mP(function(){!(Oe&6)&&Js()}),n=null;else{switch(OT(r)){case 1:n=Rg;break;case 4:n=PT;break;case 16:n=ud;break;case 536870912:n=NT;break;default:n=ud}n=rI(n,YS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function YS(t,e){if($c=-1,zc=0,Oe&6)throw Error(W(327));var n=t.callbackNode;if(Vo()&&t.callbackNode!==n)return null;var r=cd(t,t===St?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Rd(t,r);else{e=r;var s=Oe;Oe|=2;var i=XS();(St!==t||Rt!==e)&&(Sr=null,ia=ut()+500,Ri(t,e));do try{UP();break}catch(a){ZS(t,a)}while(!0);$g(),xd.current=i,Oe=s,ht!==null?e=0:(St=null,Rt=0,e=yt)}if(e!==0){if(e===2&&(s=Yp(t),s!==0&&(r=s,e=Im(t,s))),e===1)throw n=eu,Ri(t,0),ms(t,r),an(t,ut()),n;if(e===6)ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!jP(s)&&(e=Rd(t,r),e===2&&(i=Yp(t),i!==0&&(r=i,e=Im(t,i))),e===1))throw n=eu,Ri(t,0),ms(t,r),an(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:ui(t,nn,Sr);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=ny+500-ut(),10<e)){if(cd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sm(ui.bind(null,t,nn,Sr),e);break}ui(t,nn,Sr);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Hn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LP(r/1960))-r,10<r){t.timeoutHandle=sm(ui.bind(null,t,nn,Sr),r);break}ui(t,nn,Sr);break;case 5:ui(t,nn,Sr);break;default:throw Error(W(329))}}}return an(t,ut()),t.callbackNode===n?YS.bind(null,t):null}function Im(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Rd(t,e),t!==2&&(e=nn,nn=n,e!==null&&xm(e)),t}function xm(t){nn===null?nn=t:nn.push.apply(nn,t)}function jP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Qn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~ty,e&=~Ah,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Hn(e),r=1<<n;t[n]=-1,e&=~r}}function xw(t){if(Oe&6)throw Error(W(327));Vo();var e=cd(t,0);if(!(e&1))return an(t,ut()),null;var n=Rd(t,e);if(t.tag!==0&&n===2){var r=Yp(t);r!==0&&(e=r,n=Im(t,r))}if(n===1)throw n=eu,Ri(t,0),ms(t,e),an(t,ut()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ui(t,nn,Sr),an(t,ut()),null}function ry(t,e){var n=Oe;Oe|=1;try{return t(e)}finally{Oe=n,Oe===0&&(ia=ut()+500,Sh&&Js())}}function Oi(t){xs!==null&&xs.tag===0&&!(Oe&6)&&Vo();var e=Oe;Oe|=1;var n=kn.transition,r=Ue;try{if(kn.transition=null,Ue=1,t)return t()}finally{Ue=r,kn.transition=n,Oe=e,!(Oe&6)&&Js()}}function sy(){fn=Ro.current,Ge(Ro)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pP(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(jg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&md();break;case 3:ra(),Ge(sn),Ge($t),Kg();break;case 5:Hg(r);break;case 4:ra();break;case 13:Ge(Ze);break;case 19:Ge(Ze);break;case 10:zg(r.type._context);break;case 22:case 23:sy()}n=n.return}if(St=t,ht=t=Os(t.current,null),Rt=fn=e,yt=0,eu=null,ty=Ah=Di=0,nn=xl=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mi=null}return t}function ZS(t,e){do{var n=ht;try{if($g(),jc.current=Id,Sd){for(var r=Xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sd=!1}if(Ni=0,Tt=mt=Xe=null,Sl=!1,Zl=0,ey.current=null,n===null||n.return===null){yt=1,eu=e,ht=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Rt,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var S=hw(o);if(S!==null){S.flags&=-257,fw(S,o,a,i,e),S.mode&1&&dw(i,c,e),e=S,u=c;var R=e.updateQueue;if(R===null){var T=new Set;T.add(u),e.updateQueue=T}else R.add(u);break e}else{if(!(e&1)){dw(i,c,e),iy();break e}u=Error(W(426))}}else if(Qe&&a.mode&1){var A=hw(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),fw(A,o,a,i,e),Fg(sa(u,a));break e}}i=u=sa(u,a),yt!==4&&(yt=2),xl===null?xl=[i]:xl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=OS(i,u,e);iw(i,E);break e;case 1:a=u;var y=i.type,C=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ns===null||!Ns.has(C)))){i.flags|=65536,e&=-e,i.lanes|=e;var O=VS(i,a,e);iw(i,O);break e}}i=i.return}while(i!==null)}eI(n)}catch(M){e=M,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function XS(){var t=xd.current;return xd.current=Id,t===null?Id:t}function iy(){(yt===0||yt===3||yt===2)&&(yt=4),St===null||!(Di&268435455)&&!(Ah&268435455)||ms(St,Rt)}function Rd(t,e){var n=Oe;Oe|=2;var r=XS();(St!==t||Rt!==e)&&(Sr=null,Ri(t,e));do try{FP();break}catch(s){ZS(t,s)}while(!0);if($g(),Oe=n,xd.current=r,ht!==null)throw Error(W(261));return St=null,Rt=0,yt}function FP(){for(;ht!==null;)JS(ht)}function UP(){for(;ht!==null&&!db();)JS(ht)}function JS(t){var e=nI(t.alternate,t,fn);t.memoizedProps=t.pendingProps,e===null?eI(t):ht=e,ey.current=null}function eI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DP(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yt=6,ht=null;return}}else if(n=NP(n,e,fn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);yt===0&&(yt=5)}function ui(t,e,n){var r=Ue,s=kn.transition;try{kn.transition=null,Ue=1,$P(t,e,n,r)}finally{kn.transition=s,Ue=r}return null}function $P(t,e,n,r){do Vo();while(xs!==null);if(Oe&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Eb(t,i),t===St&&(ht=St=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yc||(yc=!0,rI(ud,function(){return Vo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=kn.transition,kn.transition=null;var o=Ue;Ue=1;var a=Oe;Oe|=4,ey.current=null,VP(t,n),GS(n,t),aP(nm),dd=!!tm,nm=tm=null,t.current=n,MP(n),hb(),Oe=a,Ue=o,kn.transition=i}else t.current=n;if(yc&&(yc=!1,xs=t,Ad=s),i=t.pendingLanes,i===0&&(Ns=null),mb(n.stateNode),an(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Cd)throw Cd=!1,t=Tm,Tm=null,t;return Ad&1&&t.tag!==0&&Vo(),i=t.pendingLanes,i&1?t===Sm?Cl++:(Cl=0,Sm=t):Cl=0,Js(),null}function Vo(){if(xs!==null){var t=OT(Ad),e=kn.transition,n=Ue;try{if(kn.transition=null,Ue=16>t?16:t,xs===null)var r=!1;else{if(t=xs,xs=null,Ad=0,Oe&6)throw Error(W(331));var s=Oe;for(Oe|=4,ne=t.current;ne!==null;){var i=ne,o=i.child;if(ne.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(ne=c;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Il(8,h,i)}var f=h.child;if(f!==null)f.return=h,ne=f;else for(;ne!==null;){h=ne;var g=h.sibling,S=h.return;if(qS(h),h===c){ne=null;break}if(g!==null){g.return=S,ne=g;break}ne=S}}}var R=i.alternate;if(R!==null){var T=R.child;if(T!==null){R.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}ne=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ne=o;else e:for(;ne!==null;){if(i=ne,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Il(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,ne=E;break e}ne=i.return}}var y=t.current;for(ne=y;ne!==null;){o=ne;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ne=C;else e:for(o=y;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ch(9,a)}}catch(M){it(a,a.return,M)}if(a===o){ne=null;break e}var O=a.sibling;if(O!==null){O.return=a.return,ne=O;break e}ne=a.return}}if(Oe=s,Js(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(vh,t)}catch{}r=!0}return r}finally{Ue=n,kn.transition=e}}return!1}function Cw(t,e,n){e=sa(n,e),e=OS(t,e,1),t=Ps(t,e,1),e=Qt(),t!==null&&(yu(t,1,e),an(t,e))}function it(t,e,n){if(t.tag===3)Cw(t,t,n);else for(;e!==null;){if(e.tag===3){Cw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))){t=sa(n,t),t=VS(e,t,1),e=Ps(e,t,1),t=Qt(),e!==null&&(yu(e,1,t),an(e,t));break}}e=e.return}}function zP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Rt&n)===n&&(yt===4||yt===3&&(Rt&130023424)===Rt&&500>ut()-ny?Ri(t,0):ty|=n),an(t,e)}function tI(t,e){e===0&&(t.mode&1?(e=ac,ac<<=1,!(ac&130023424)&&(ac=4194304)):e=1);var n=Qt();t=Ur(t,e),t!==null&&(yu(t,e,n),an(t,n))}function BP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),tI(t,n)}function WP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),tI(t,n)}var nI;nI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)rn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rn=!1,PP(t,e,n);rn=!!(t.flags&131072)}else rn=!1,Qe&&e.flags&1048576&&oS(e,vd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Uc(t,e),t=e.pendingProps;var s=ea(e,$t.current);Oo(e,n),s=Qg(null,e,r,t,s,n);var i=Yg();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(i=!0,gd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Wg(e),s.updater=xh,e.stateNode=s,s._reactInternals=e,dm(e,r,t,n),e=pm(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&Lg(e),Ht(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Uc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=HP(r),t=jn(r,t),s){case 0:e=fm(null,e,r,t,n);break e;case 1:e=gw(null,e,r,t,n);break e;case 11:e=pw(null,e,r,t,n);break e;case 14:e=mw(null,e,r,jn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),fm(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),gw(t,e,r,s,n);case 3:e:{if(FS(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hS(t,e),Ed(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sa(Error(W(423)),e),e=yw(t,e,r,n,s);break e}else if(r!==s){s=sa(Error(W(424)),e),e=yw(t,e,r,n,s);break e}else for(pn=bs(e.stateNode.containerInfo.firstChild),mn=e,Qe=!0,zn=null,n=cS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ta(),r===s){e=$r(t,e,n);break e}Ht(t,e,r,n)}e=e.child}return e;case 5:return fS(e),t===null&&lm(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rm(r,s)?o=null:i!==null&&rm(r,i)&&(e.flags|=32),jS(t,e),Ht(t,e,o,n),e.child;case 6:return t===null&&lm(e),null;case 13:return US(t,e,n);case 4:return qg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=na(e,null,r,n):Ht(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),pw(t,e,r,s,n);case 7:return Ht(t,e,e.pendingProps,n),e.child;case 8:return Ht(t,e,e.pendingProps.children,n),e.child;case 12:return Ht(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,We(_d,r._currentValue),r._currentValue=o,i!==null)if(Qn(i.value,o)){if(i.children===s.children&&!sn.current){e=$r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Or(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),um(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),um(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ht(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oo(e,n),s=Pn(s),r=r(s),e.flags|=1,Ht(t,e,r,n),e.child;case 14:return r=e.type,s=jn(r,e.pendingProps),s=jn(r.type,s),mw(t,e,r,s,n);case 15:return MS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jn(r,s),Uc(t,e),e.tag=1,on(r)?(t=!0,gd(e)):t=!1,Oo(e,n),DS(e,r,s),dm(e,r,s,n),pm(null,e,r,!0,t,n);case 19:return $S(t,e,n);case 22:return LS(t,e,n)}throw Error(W(156,e.tag))};function rI(t,e){return bT(t,e)}function qP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,n,r){return new qP(t,e,n,r)}function oy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return oy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===xg)return 11;if(t===Cg)return 14}return 2}function Os(t,e){var n=t.alternate;return n===null?(n=An(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bc(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")oy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case vo:return ki(n.children,s,i,e);case Ig:o=8,s|=8;break;case Vp:return t=An(12,n,e,s|2),t.elementType=Vp,t.lanes=i,t;case Mp:return t=An(13,n,e,s),t.elementType=Mp,t.lanes=i,t;case Lp:return t=An(19,n,e,s),t.elementType=Lp,t.lanes=i,t;case fT:return Rh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dT:o=10;break e;case hT:o=9;break e;case xg:o=11;break e;case Cg:o=14;break e;case ds:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=An(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ki(t,e,n,r){return t=An(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=An(22,t,r,e),t.elementType=fT,t.lanes=n,t.stateNode={isHidden:!1},t}function rp(t,e,n){return t=An(6,t,null,e),t.lanes=n,t}function sp(t,e,n){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ay(t,e,n,r,s,i,o,a,u){return t=new KP(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=An(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wg(i),t}function GP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sI(t){if(!t)return $s;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(on(n))return sS(t,n,e)}return e}function iI(t,e,n,r,s,i,o,a,u){return t=ay(n,r,!0,t,s,i,o,a,u),t.context=sI(null),n=t.current,r=Qt(),s=Ds(n),i=Or(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,yu(t,s,r),an(t,r),t}function kh(t,e,n,r){var s=e.current,i=Qt(),o=Ds(s);return n=sI(n),e.context===null?e.context=n:e.pendingContext=n,e=Or(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(Kn(t,s,o,i),Lc(t,s,o)),o}function kd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Aw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ly(t,e){Aw(t,e),(t=t.alternate)&&Aw(t,e)}function QP(){return null}var oI=typeof reportError=="function"?reportError:function(t){console.error(t)};function uy(t){this._internalRoot=t}bh.prototype.render=uy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));kh(t,e,null,null)};bh.prototype.unmount=uy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oi(function(){kh(null,t,null,null)}),e[Fr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=LT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&FT(t)}};function cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rw(){}function YP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=kd(o);i.call(c)}}var o=iI(e,r,t,0,null,!1,!1,"",Rw);return t._reactRootContainer=o,t[Fr]=o.current,Hl(t.nodeType===8?t.parentNode:t),Oi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=kd(u);a.call(c)}}var u=ay(t,0,!1,null,null,!1,!1,"",Rw);return t._reactRootContainer=u,t[Fr]=u.current,Hl(t.nodeType===8?t.parentNode:t),Oi(function(){kh(e,u,n,r)}),u}function Nh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=kd(o);a.call(u)}}kh(e,o,t,s)}else o=YP(n,e,t,s,r);return kd(o)}VT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=al(e.pendingLanes);n!==0&&(kg(e,n|1),an(e,ut()),!(Oe&6)&&(ia=ut()+500,Js()))}break;case 13:Oi(function(){var r=Ur(t,1);if(r!==null){var s=Qt();Kn(r,t,1,s)}}),ly(t,1)}};bg=function(t){if(t.tag===13){var e=Ur(t,134217728);if(e!==null){var n=Qt();Kn(e,t,134217728,n)}ly(t,134217728)}};MT=function(t){if(t.tag===13){var e=Ds(t),n=Ur(t,e);if(n!==null){var r=Qt();Kn(n,t,e,r)}ly(t,e)}};LT=function(){return Ue};jT=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Kp=function(t,e,n){switch(e){case"input":if(Up(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Th(r);if(!s)throw Error(W(90));mT(r),Up(r,s)}}}break;case"textarea":yT(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};IT=ry;xT=Oi;var ZP={usingClientEntryPoint:!1,Events:[_u,To,Th,TT,ST,ry]},Ja={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XP={bundleType:Ja.bundleType,version:Ja.version,rendererPackageName:Ja.rendererPackageName,rendererConfig:Ja.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=RT(t),t===null?null:t.stateNode},findFiberByHostInstance:Ja.findFiberByHostInstance||QP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{vh=vc.inject(XP),ar=vc}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cy(e))throw Error(W(200));return GP(t,e,null,n)};vn.createRoot=function(t,e){if(!cy(t))throw Error(W(299));var n=!1,r="",s=oI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ay(t,1,!1,null,null,n,!1,r,s),t[Fr]=e.current,Hl(t.nodeType===8?t.parentNode:t),new uy(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=RT(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return Oi(t)};vn.hydrate=function(t,e,n){if(!Ph(e))throw Error(W(200));return Nh(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!cy(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=oI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=iI(e,null,t,1,n??null,s,!1,i,o),t[Fr]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bh(e)};vn.render=function(t,e,n){if(!Ph(e))throw Error(W(200));return Nh(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(W(40));return t._reactRootContainer?(Oi(function(){Nh(null,null,t,!1,function(){t._reactRootContainer=null,t[Fr]=null})}),!0):!1};vn.unstable_batchedUpdates=ry;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ph(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Nh(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function aI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aI)}catch(t){console.error(t)}}aI(),aT.exports=vn;var Dh=aT.exports;const JP=GE(Dh);var lI,kw=Dh;lI=kw.createRoot,kw.hydrateRoot;function eN(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",u=t.split("/");for(u[0]||u.shift();s=u.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var uI={exports:{}},cI={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oa=w;function tN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nN=typeof Object.is=="function"?Object.is:tN,rN=oa.useState,sN=oa.useEffect,iN=oa.useLayoutEffect,oN=oa.useDebugValue;function aN(t,e){var n=e(),r=rN({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return iN(function(){s.value=n,s.getSnapshot=e,ip(s)&&i({inst:s})},[t,n,e]),sN(function(){return ip(s)&&i({inst:s}),t(function(){ip(s)&&i({inst:s})})},[t]),oN(n),n}function ip(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nN(t,n)}catch{return!0}}function lN(t,e){return e()}var uN=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lN:aN;cI.useSyncExternalStore=oa.useSyncExternalStore!==void 0?oa.useSyncExternalStore:uN;uI.exports=cI;var cN=uI.exports;const dN=iT.useInsertionEffect,hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fN=hN?w.useLayoutEffect:w.useEffect,pN=dN||fN,dI=t=>{const e=w.useRef([t,(...n)=>e[0](...n)]).current;return pN(()=>{e[0]=t}),e[1]},mN="popstate",dy="pushState",hy="replaceState",gN="hashchange",bw=[mN,dy,hy,gN],yN=t=>{for(const e of bw)addEventListener(e,t);return()=>{for(const e of bw)removeEventListener(e,t)}},hI=(t,e)=>cN.useSyncExternalStore(yN,t,e),vN=()=>location.search,_N=({ssrSearch:t=""}={})=>hI(vN,()=>t),Pw=()=>location.pathname,wN=({ssrPath:t}={})=>hI(Pw,t?()=>t:Pw),EN=(t,{replace:e=!1,state:n=null}={})=>history[e?hy:dy](n,"",t),TN=(t={})=>[wN(t),EN],Nw=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Nw]>"u"){for(const t of[dy,hy]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Nw,{value:!0})}const SN=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",fI=(t="")=>t==="/"?"":t,IN=(t,e)=>t[0]==="~"?t.slice(1):fI(e)+t,xN=(t="",e)=>SN(Dw(fI(t)),Dw(e)),Dw=t=>{try{return decodeURI(t)}catch{return t}},pI={hook:TN,searchHook:_N,parser:eN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},mI=w.createContext(pI),Eu=()=>w.useContext(mI),gI={},yI=w.createContext(gI),CN=()=>w.useContext(yI),Oh=t=>{const[e,n]=t.hook(t);return[xN(t.base,e),dI((r,s)=>n(IN(r,t.base),s))]},AN=()=>Oh(Eu()),vI=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...u]=o;return a!==void 0?[!0,(()=>{const c=i!==!1?Object.fromEntries(i.map((f,g)=>[f,u[g]])):o.groups;let h={...u};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},RN=({children:t,...e})=>{var h,f;const n=Eu(),r=e.hook?pI:n;let s=r;const[i,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((f=e.hook)==null?void 0:f.hrefs);let a=w.useRef({}),u=a.current,c=u;for(let g in r){const S=g==="base"?r[g]+(e[g]||""):e[g]||r[g];u===c&&S!==c[g]&&(a.current=c={...c}),c[g]=S,S!==r[g]&&(s=c)}return w.createElement(mI.Provider,{value:s,children:t})},Ow=({children:t,component:e},n)=>e?w.createElement(e,{params:n}):typeof t=="function"?t(n):t,kN=t=>{let e=w.useRef(gI),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},ai=({path:t,nest:e,match:n,...r})=>{const s=Eu(),[i]=Oh(s),[o,a,u]=n??vI(s.parser,t,i,e),c=kN({...CN(),...a});if(!o)return null;const h=u?w.createElement(RN,{base:u},Ow(r,c)):Ow(r,c);return w.createElement(yI.Provider,{value:c,children:h})},el=w.forwardRef((t,e)=>{const n=Eu(),[r,s]=Oh(n),{to:i="",href:o=i,onClick:a,asChild:u,children:c,className:h,replace:f,state:g,...S}=t,R=dI(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(a==null||a(A),A.defaultPrevented||(A.preventDefault(),s(o,t)))}),T=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return u&&w.isValidElement(c)?w.cloneElement(c,{onClick:R,href:T}):w.createElement("a",{...S,onClick:R,href:T,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})}),_I=t=>Array.isArray(t)?t.flatMap(e=>_I(e&&e.type===w.Fragment?e.props.children:e)):[t],bN=({children:t,location:e})=>{const n=Eu(),[r]=Oh(n);for(const s of _I(t)){let i=0;if(w.isValidElement(s)&&(i=vI(n.parser,s.props.path,e||r,s.props.nest))[0])return w.cloneElement(s,{match:i})}return null};var Vh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Mh=typeof window>"u"||"Deno"in globalThis;function Fn(){}function PN(t,e){return typeof t=="function"?t(e):t}function NN(t){return typeof t=="number"&&t>=0&&t!==1/0}function DN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vw(t,e){return typeof t=="function"?t(e):t}function ON(t,e){return typeof t=="function"?t(e):t}function Mw(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==fy(o,e.options))return!1}else if(!nu(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function Lw(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(tu(e.options.mutationKey)!==tu(i))return!1}else if(!nu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function fy(t,e){return((e==null?void 0:e.queryKeyHashFn)||tu)(t)}function tu(t){return JSON.stringify(t,(e,n)=>Cm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function nu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nu(t[n],e[n])):!1}function wI(t,e){if(t===e)return t;const n=jw(t)&&jw(e);if(n||Cm(t)&&Cm(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let u=0;for(let c=0;c<o;c++){const h=n?c:i[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,u++):(a[h]=wI(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&u++)}return s===o&&u===s?t:a}return e}function jw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Cm(t){if(!Fw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Fw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Fw(t){return Object.prototype.toString.call(t)==="[object Object]"}function VN(t){return new Promise(e=>{setTimeout(e,t)})}function MN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?wI(t,e):e}function LN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function jN(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var py=Symbol();function EI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===py?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ii,_s,Wo,UE,FN=(UE=class extends Vh{constructor(){super();Le(this,Ii);Le(this,_s);Le(this,Wo);Ee(this,Wo,e=>{if(!Mh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,_s)||this.setEventListener(z(this,Wo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,_s))==null||e.call(this),Ee(this,_s,void 0))}setEventListener(e){var n;Ee(this,Wo,e),(n=z(this,_s))==null||n.call(this),Ee(this,_s,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,Ii)!==e&&(Ee(this,Ii,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,Ii)=="boolean"?z(this,Ii):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ii=new WeakMap,_s=new WeakMap,Wo=new WeakMap,UE),TI=new FN,qo,ws,Ho,$E,UN=($E=class extends Vh{constructor(){super();Le(this,qo,!0);Le(this,ws);Le(this,Ho);Ee(this,Ho,e=>{if(!Mh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,ws)||this.setEventListener(z(this,Ho))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,ws))==null||e.call(this),Ee(this,ws,void 0))}setEventListener(e){var n;Ee(this,Ho,e),(n=z(this,ws))==null||n.call(this),Ee(this,ws,e(this.setOnline.bind(this)))}setOnline(e){z(this,qo)!==e&&(Ee(this,qo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,qo)}},qo=new WeakMap,ws=new WeakMap,Ho=new WeakMap,$E),bd=new UN;function $N(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function zN(t){return Math.min(1e3*2**t,3e4)}function SI(t){return(t??"online")==="online"?bd.isOnline():!0}var II=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function op(t){return t instanceof II}function xI(t){let e=!1,n=0,r=!1,s;const i=$N(),o=T=>{var A;r||(g(new II(T)),(A=t.abort)==null||A.call(t))},a=()=>{e=!0},u=()=>{e=!1},c=()=>TI.isFocused()&&(t.networkMode==="always"||bd.isOnline())&&t.canRun(),h=()=>SI(t.networkMode)&&t.canRun(),f=T=>{var A;r||(r=!0,(A=t.onSuccess)==null||A.call(t,T),s==null||s(),i.resolve(T))},g=T=>{var A;r||(r=!0,(A=t.onError)==null||A.call(t,T),s==null||s(),i.reject(T))},S=()=>new Promise(T=>{var A;s=E=>{(r||c())&&T(E)},(A=t.onPause)==null||A.call(t)}).then(()=>{var T;s=void 0,r||(T=t.onContinue)==null||T.call(t)}),R=()=>{if(r)return;let T;const A=n===0?t.initialPromise:void 0;try{T=A??t.fn()}catch(E){T=Promise.reject(E)}Promise.resolve(T).then(f).catch(E=>{var U;if(r)return;const y=t.retry??(Mh?0:3),C=t.retryDelay??zN,O=typeof C=="function"?C(n,E):C,M=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,E);if(e||!M){g(E);return}n++,(U=t.onFail)==null||U.call(t,n,E),VN(O).then(()=>c()?void 0:S()).then(()=>{e?g(E):R()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:u,canStart:h,start:()=>(h()?R():S().then(R),i)}}function BN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(u=>{n(u)})})})};return{batch:a=>{let u;e++;try{u=a()}finally{e--,e||o()}return u},batchCalls:a=>(...u)=>{i(()=>{a(...u)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Gt=BN(),xi,zE,CI=(zE=class{constructor(){Le(this,xi)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),NN(this.gcTime)&&Ee(this,xi,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Mh?1/0:5*60*1e3))}clearGcTimeout(){z(this,xi)&&(clearTimeout(z(this,xi)),Ee(this,xi,void 0))}},xi=new WeakMap,zE),Ko,Go,Tn,Lt,pu,Ci,Un,Er,BE,WN=(BE=class extends CI{constructor(n){super();Le(this,Un);Le(this,Ko);Le(this,Go);Le(this,Tn);Le(this,Lt);Le(this,pu);Le(this,Ci);Ee(this,Ci,!1),Ee(this,pu,n.defaultOptions),this.setOptions(n.options),this.observers=[],Ee(this,Tn,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Ee(this,Ko,HN(this.options)),this.state=n.state??z(this,Ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Lt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,pu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,Tn).remove(this)}setData(n,r){const s=MN(this.state.data,n,this.options);return Dt(this,Un,Er).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Dt(this,Un,Er).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=z(this,Lt))==null?void 0:s.promise;return(i=z(this,Lt))==null||i.cancel(n),r?r.then(Fn).catch(Fn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Ko))}isActive(){return this.observers.some(n=>ON(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===py||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!DN(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,Tn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Lt)&&(z(this,Ci)?z(this,Lt).cancel({revert:!0}):z(this,Lt).cancelRetry()),this.scheduleGc()),z(this,Tn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,Un,Er).call(this,{type:"invalidate"})}fetch(n,r){var c,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Lt))return z(this,Lt).continueRetry(),z(this,Lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(S=>S.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(Ee(this,Ci,!0),s.signal)})},o=()=>{const g=EI(this.options,r),S={queryKey:this.queryKey,meta:this.meta};return i(S),Ee(this,Ci,!1),this.options.persister?this.options.persister(g,S,this):g(S)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(a),(c=this.options.behavior)==null||c.onFetch(a,this),Ee(this,Go,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&Dt(this,Un,Er).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const u=g=>{var S,R,T,A;op(g)&&g.silent||Dt(this,Un,Er).call(this,{type:"error",error:g}),op(g)||((R=(S=z(this,Tn).config).onError)==null||R.call(S,g,this),(A=(T=z(this,Tn).config).onSettled)==null||A.call(T,this.state.data,g,this)),this.scheduleGc()};return Ee(this,Lt,xI({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var S,R,T,A;if(g===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(E){u(E);return}(R=(S=z(this,Tn).config).onSuccess)==null||R.call(S,g,this),(A=(T=z(this,Tn).config).onSettled)==null||A.call(T,g,this.state.error,this),this.scheduleGc()},onError:u,onFail:(g,S)=>{Dt(this,Un,Er).call(this,{type:"failed",failureCount:g,error:S})},onPause:()=>{Dt(this,Un,Er).call(this,{type:"pause"})},onContinue:()=>{Dt(this,Un,Er).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),z(this,Lt).start()}},Ko=new WeakMap,Go=new WeakMap,Tn=new WeakMap,Lt=new WeakMap,pu=new WeakMap,Ci=new WeakMap,Un=new WeakSet,Er=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...qN(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return op(i)&&i.revert&&z(this,Go)?{...z(this,Go),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Gt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),z(this,Tn).notify({query:this,type:"updated",action:n})})},BE);function qN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:SI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var tr,WE,KN=(WE=class extends Vh{constructor(e={}){super();Le(this,tr);this.config=e,Ee(this,tr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??fy(s,n);let o=this.get(i);return o||(o=new WN({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){z(this,tr).has(e.queryHash)||(z(this,tr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,tr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,tr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,tr).get(e)}getAll(){return[...z(this,tr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Mw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Mw(e,r)):n}notify(e){Gt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Gt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},tr=new WeakMap,WE),nr,qt,Ai,rr,us,qE,GN=(qE=class extends CI{constructor(n){super();Le(this,rr);Le(this,nr);Le(this,qt);Le(this,Ai);this.mutationId=n.mutationId,Ee(this,qt,n.mutationCache),Ee(this,nr,[]),this.state=n.state||QN(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,nr).includes(n)||(z(this,nr).push(n),this.clearGcTimeout(),z(this,qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){Ee(this,nr,z(this,nr).filter(r=>r!==n)),this.scheduleGc(),z(this,qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,nr).length||(this.state.status==="pending"?this.scheduleGc():z(this,qt).remove(this))}continue(){var n;return((n=z(this,Ai))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,a,u,c,h,f,g,S,R,T,A,E,y,C,O,M,U,I,v;Ee(this,Ai,xI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(x,b)=>{Dt(this,rr,us).call(this,{type:"failed",failureCount:x,error:b})},onPause:()=>{Dt(this,rr,us).call(this,{type:"pause"})},onContinue:()=>{Dt(this,rr,us).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,qt).canRun(this)}));const r=this.state.status==="pending",s=!z(this,Ai).canStart();try{if(!r){Dt(this,rr,us).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=z(this,qt).config).onMutate)==null?void 0:o.call(i,n,this));const b=await((u=(a=this.options).onMutate)==null?void 0:u.call(a,n));b!==this.state.context&&Dt(this,rr,us).call(this,{type:"pending",context:b,variables:n,isPaused:s})}const x=await z(this,Ai).start();return await((h=(c=z(this,qt).config).onSuccess)==null?void 0:h.call(c,x,n,this.state.context,this)),await((g=(f=this.options).onSuccess)==null?void 0:g.call(f,x,n,this.state.context)),await((R=(S=z(this,qt).config).onSettled)==null?void 0:R.call(S,x,null,this.state.variables,this.state.context,this)),await((A=(T=this.options).onSettled)==null?void 0:A.call(T,x,null,n,this.state.context)),Dt(this,rr,us).call(this,{type:"success",data:x}),x}catch(x){try{throw await((y=(E=z(this,qt).config).onError)==null?void 0:y.call(E,x,n,this.state.context,this)),await((O=(C=this.options).onError)==null?void 0:O.call(C,x,n,this.state.context)),await((U=(M=z(this,qt).config).onSettled)==null?void 0:U.call(M,void 0,x,this.state.variables,this.state.context,this)),await((v=(I=this.options).onSettled)==null?void 0:v.call(I,void 0,x,n,this.state.context)),x}finally{Dt(this,rr,us).call(this,{type:"error",error:x})}}finally{z(this,qt).runNext(this)}}},nr=new WeakMap,qt=new WeakMap,Ai=new WeakMap,rr=new WeakSet,us=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Gt.batch(()=>{z(this,nr).forEach(s=>{s.onMutationUpdate(n)}),z(this,qt).notify({mutation:this,type:"updated",action:n})})},qE);function QN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var hn,mu,HE,YN=(HE=class extends Vh{constructor(e={}){super();Le(this,hn);Le(this,mu);this.config=e,Ee(this,hn,new Map),Ee(this,mu,Date.now())}build(e,n,r){const s=new GN({mutationCache:this,mutationId:++tc(this,mu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=_c(e),r=z(this,hn).get(n)??[];r.push(e),z(this,hn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=_c(e);if(z(this,hn).has(n)){const s=(r=z(this,hn).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?z(this,hn).delete(n):z(this,hn).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=z(this,hn).get(_c(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=z(this,hn).get(_c(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Gt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...z(this,hn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Lw(n,r))}findAll(e={}){return this.getAll().filter(n=>Lw(e,n))}notify(e){Gt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Gt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fn))))}},hn=new WeakMap,mu=new WeakMap,HE);function _c(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Uw(t){return{onFetch:(e,n)=>{var h,f,g,S,R;const r=e.options,s=(g=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:g.direction,i=((S=e.state.data)==null?void 0:S.pages)||[],o=((R=e.state.data)==null?void 0:R.pageParams)||[];let a={pages:[],pageParams:[]},u=0;const c=async()=>{let T=!1;const A=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?T=!0:e.signal.addEventListener("abort",()=>{T=!0}),e.signal)})},E=EI(e.options,e.fetchOptions),y=async(C,O,M)=>{if(T)return Promise.reject();if(O==null&&C.pages.length)return Promise.resolve(C);const U={queryKey:e.queryKey,pageParam:O,direction:M?"backward":"forward",meta:e.options.meta};A(U);const I=await E(U),{maxPages:v}=e.options,x=M?jN:LN;return{pages:x(C.pages,I,v),pageParams:x(C.pageParams,O,v)}};if(s&&i.length){const C=s==="backward",O=C?ZN:$w,M={pages:i,pageParams:o},U=O(r,M);a=await y(M,U,C)}else{const C=t??i.length;do{const O=u===0?o[0]??r.initialPageParam:$w(r,a);if(u>0&&O==null)break;a=await y(a,O),u++}while(u<C)}return a};e.options.persister?e.fetchFn=()=>{var T,A;return(A=(T=e.options).persister)==null?void 0:A.call(T,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function $w(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function ZN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var rt,Es,Ts,Qo,Yo,Ss,Zo,Xo,KE,XN=(KE=class{constructor(t={}){Le(this,rt);Le(this,Es);Le(this,Ts);Le(this,Qo);Le(this,Yo);Le(this,Ss);Le(this,Zo);Le(this,Xo);Ee(this,rt,t.queryCache||new KN),Ee(this,Es,t.mutationCache||new YN),Ee(this,Ts,t.defaultOptions||{}),Ee(this,Qo,new Map),Ee(this,Yo,new Map),Ee(this,Ss,0)}mount(){tc(this,Ss)._++,z(this,Ss)===1&&(Ee(this,Zo,TI.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rt).onFocus())})),Ee(this,Xo,bd.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,rt).onOnline())})))}unmount(){var t,e;tc(this,Ss)._--,z(this,Ss)===0&&((t=z(this,Zo))==null||t.call(this),Ee(this,Zo,void 0),(e=z(this,Xo))==null||e.call(this),Ee(this,Xo,void 0))}isFetching(t){return z(this,rt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=z(this,rt).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Vw(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return z(this,rt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=z(this,rt).get(r.queryHash),i=s==null?void 0:s.state.data,o=PN(e,i);if(o!==void 0)return z(this,rt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Gt.batch(()=>z(this,rt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,rt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,rt);Gt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,rt),r={type:"active",...t};return Gt.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Gt.batch(()=>z(this,rt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Fn).catch(Fn)}invalidateQueries(t={},e={}){return Gt.batch(()=>{if(z(this,rt).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Gt.batch(()=>z(this,rt).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Fn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Fn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,rt).build(this,e);return n.isStaleByTime(Vw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fn).catch(Fn)}fetchInfiniteQuery(t){return t.behavior=Uw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fn).catch(Fn)}ensureInfiniteQueryData(t){return t.behavior=Uw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bd.isOnline()?z(this,Es).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,rt)}getMutationCache(){return z(this,Es)}getDefaultOptions(){return z(this,Ts)}setDefaultOptions(t){Ee(this,Ts,t)}setQueryDefaults(t,e){z(this,Qo).set(tu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Qo).values()];let n={};return e.forEach(r=>{nu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){z(this,Yo).set(tu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Yo).values()];let n={};return e.forEach(r=>{nu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,Ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===py&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,Ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,rt).clear(),z(this,Es).clear()}},rt=new WeakMap,Es=new WeakMap,Ts=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,Ss=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,KE),JN=w.createContext(void 0),eD=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(JN.Provider,{value:t,children:e}));const tD=new XN({defaultOptions:{queries:{queryFn:async({queryKey:t})=>{const e=await fetch(t[0],{credentials:"include"});if(!e.ok)throw e.status>=500?new Error(`${e.status}: ${e.statusText}`):new Error(`${e.status}: ${await e.text()}`);return e.json()},refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),nD=1,rD=1e6;let ap=0;function sD(){return ap=(ap+1)%Number.MAX_SAFE_INTEGER,ap.toString()}const lp=new Map,zw=t=>{if(lp.has(t))return;const e=setTimeout(()=>{lp.delete(t),Al({type:"REMOVE_TOAST",toastId:t})},rD);lp.set(t,e)},iD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nD)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?zw(n):t.toasts.forEach(r=>{zw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Wc=[];let qc={toasts:[]};function Al(t){qc=iD(qc,t),Wc.forEach(e=>{e(qc)})}function oD({...t}){const e=sD(),n=s=>Al({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Al({type:"DISMISS_TOAST",toastId:e});return Al({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Zr(){const[t,e]=w.useState(qc);return w.useEffect(()=>(Wc.push(e),()=>{const n=Wc.indexOf(e);n>-1&&Wc.splice(n,1)}),[t]),{...t,toast:oD,dismiss:n=>Al({type:"DISMISS_TOAST",toastId:n})}}function ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function aD(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function AI(...t){return e=>t.forEach(n=>aD(n,e))}function ln(...t){return w.useCallback(AI(...t),t)}function lD(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),u=n.length;n=[...n,o];function c(f){const{scope:g,children:S,...R}=f,T=(g==null?void 0:g[t][u])||a,A=w.useMemo(()=>R,Object.values(R));return m.jsx(T.Provider,{value:A,children:S})}function h(f,g){const S=(g==null?void 0:g[t][u])||a,R=w.useContext(S);if(R)return R;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,uD(s,...e)]}function uD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Vi=w.forwardRef((t,e)=>{const{children:n,...r}=t,s=w.Children.toArray(n),i=s.find(cD);if(i){const o=i.props.children,a=s.map(u=>u===i?w.Children.count(o)>1?w.Children.only(null):w.isValidElement(o)?o.props.children:null:u);return m.jsx(Am,{...r,ref:e,children:w.isValidElement(o)?w.cloneElement(o,void 0,a):null})}return m.jsx(Am,{...r,ref:e,children:n})});Vi.displayName="Slot";var Am=w.forwardRef((t,e)=>{const{children:n,...r}=t;if(w.isValidElement(n)){const s=hD(n);return w.cloneElement(n,{...dD(r,n.props),ref:e?AI(e,s):s})}return w.Children.count(n)>1?w.Children.only(null):null});Am.displayName="SlotClone";var RI=({children:t})=>m.jsx(m.Fragment,{children:t});function cD(t){return w.isValidElement(t)&&t.type===RI}function dD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kI(t){const e=t+"CollectionProvider",[n,r]=lD(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=S=>{const{scope:R,children:T}=S,A=pe.useRef(null),E=pe.useRef(new Map).current;return m.jsx(s,{scope:R,itemMap:E,collectionRef:A,children:T})};o.displayName=e;const a=t+"CollectionSlot",u=pe.forwardRef((S,R)=>{const{scope:T,children:A}=S,E=i(a,T),y=ln(R,E.collectionRef);return m.jsx(Vi,{ref:y,children:A})});u.displayName=a;const c=t+"CollectionItemSlot",h="data-radix-collection-item",f=pe.forwardRef((S,R)=>{const{scope:T,children:A,...E}=S,y=pe.useRef(null),C=ln(R,y),O=i(c,T);return pe.useEffect(()=>(O.itemMap.set(y,{ref:y,...E}),()=>void O.itemMap.delete(y))),m.jsx(Vi,{[h]:"",ref:C,children:A})});f.displayName=c;function g(S){const R=i(t+"CollectionConsumer",S);return pe.useCallback(()=>{const A=R.collectionRef.current;if(!A)return[];const E=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(R.itemMap.values()).sort((O,M)=>E.indexOf(O.ref.current)-E.indexOf(M.ref.current))},[R.collectionRef,R.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},g,r]}function fD(t,e){const n=w.createContext(e),r=i=>{const{children:o,...a}=i,u=w.useMemo(()=>a,Object.values(a));return m.jsx(n.Provider,{value:u,children:o})};r.displayName=t+"Provider";function s(i){const o=w.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Lh(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),u=n.length;n=[...n,o];const c=f=>{var E;const{scope:g,children:S,...R}=f,T=((E=g==null?void 0:g[t])==null?void 0:E[u])||a,A=w.useMemo(()=>R,Object.values(R));return m.jsx(T.Provider,{value:A,children:S})};c.displayName=i+"Provider";function h(f,g){var T;const S=((T=g==null?void 0:g[t])==null?void 0:T[u])||a,R=w.useContext(S);if(R)return R;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,pD(s,...e)]}function pD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var mD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tt=mD.reduce((t,e)=>{const n=w.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?Vi:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(a,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bI(t,e){t&&Dh.flushSync(()=>t.dispatchEvent(e))}function Dn(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function gD(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t);w.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var yD="DismissableLayer",Rm="dismissableLayer.update",vD="dismissableLayer.pointerDownOutside",_D="dismissableLayer.focusOutside",Bw,PI=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),my=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...u}=t,c=w.useContext(PI),[h,f]=w.useState(null),g=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,S]=w.useState({}),R=ln(e,I=>f(I)),T=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=T.indexOf(A),y=h?T.indexOf(h):-1,C=c.layersWithOutsidePointerEventsDisabled.size>0,O=y>=E,M=ED(I=>{const v=I.target,x=[...c.branches].some(b=>b.contains(v));!O||x||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},g),U=TD(I=>{const v=I.target;[...c.branches].some(b=>b.contains(v))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},g);return gD(I=>{y===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},g),w.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Bw=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),Ww(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Bw)}},[h,g,n,c]),w.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),Ww())},[h,c]),w.useEffect(()=>{const I=()=>S({});return document.addEventListener(Rm,I),()=>document.removeEventListener(Rm,I)},[]),m.jsx(tt.div,{...u,ref:R,style:{pointerEvents:C?O?"auto":"none":void 0,...t.style},onFocusCapture:ze(t.onFocusCapture,U.onFocusCapture),onBlurCapture:ze(t.onBlurCapture,U.onBlurCapture),onPointerDownCapture:ze(t.onPointerDownCapture,M.onPointerDownCapture)})});my.displayName=yD;var wD="DismissableLayerBranch",NI=w.forwardRef((t,e)=>{const n=w.useContext(PI),r=w.useRef(null),s=ln(e,r);return w.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),m.jsx(tt.div,{...t,ref:s})});NI.displayName=wD;function ED(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=w.useRef(!1),s=w.useRef(()=>{});return w.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let u=function(){DI(vD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=u,e.addEventListener("click",s.current,{once:!0})):u()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function TD(t,e=globalThis==null?void 0:globalThis.document){const n=Dn(t),r=w.useRef(!1);return w.useEffect(()=>{const s=i=>{i.target&&!r.current&&DI(_D,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ww(){const t=new CustomEvent(Rm);document.dispatchEvent(t)}function DI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bI(s,i):s.dispatchEvent(i)}var SD=my,ID=NI,ru=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},xD="Portal",gy=w.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=w.useState(!1);ru(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?JP.createPortal(m.jsx(tt.div,{...r,ref:e}),o):null});gy.displayName=xD;function CD(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Ta=t=>{const{present:e,children:n}=t,r=AD(e),s=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),i=ln(r.ref,RD(s));return typeof n=="function"||r.isPresent?w.cloneElement(s,{ref:i}):null};Ta.displayName="Presence";function AD(t){const[e,n]=w.useState(),r=w.useRef({}),s=w.useRef(t),i=w.useRef("none"),o=t?"mounted":"unmounted",[a,u]=CD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const c=wc(r.current);i.current=a==="mounted"?c:"none"},[a]),ru(()=>{const c=r.current,h=s.current;if(h!==t){const g=i.current,S=wc(c);t?u("MOUNT"):S==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&g!==S?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,u]),ru(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=S=>{const T=wc(r.current).includes(S.animationName);if(S.target===e&&T&&(u("ANIMATION_END"),!s.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},g=S=>{S.target===e&&(i.current=wc(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:w.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function wc(t){return(t==null?void 0:t.animationName)||"none"}function RD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jh({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=kD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=Dn(n),u=w.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,u]}function kD({defaultProp:t,onChange:e}){const n=w.useState(t),[r]=n,s=w.useRef(r),i=Dn(e);return w.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var bD="VisuallyHidden",yy=w.forwardRef((t,e)=>m.jsx(tt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));yy.displayName=bD;var vy="ToastProvider",[_y,PD,ND]=kI("Toast"),[OI,g$]=Lh("Toast",[ND]),[DD,Fh]=OI(vy),VI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,u]=w.useState(null),[c,h]=w.useState(0),f=w.useRef(!1),g=w.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vy}\`. Expected non-empty \`string\`.`),m.jsx(_y.Provider,{scope:e,children:m.jsx(DD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:u,onToastAdd:w.useCallback(()=>h(S=>S+1),[]),onToastRemove:w.useCallback(()=>h(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:o})})};VI.displayName=vy;var MI="ToastViewport",OD=["F8"],km="toast.viewportPause",bm="toast.viewportResume",LI=w.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=OD,label:s="Notifications ({hotkey})",...i}=t,o=Fh(MI,n),a=PD(n),u=w.useRef(null),c=w.useRef(null),h=w.useRef(null),f=w.useRef(null),g=ln(e,f,o.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=o.toastCount>0;w.useEffect(()=>{const A=E=>{var C;r.length!==0&&r.every(O=>E[O]||E.code===O)&&((C=f.current)==null||C.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),w.useEffect(()=>{const A=u.current,E=f.current;if(R&&A&&E){const y=()=>{if(!o.isClosePausedRef.current){const U=new CustomEvent(km);E.dispatchEvent(U),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const U=new CustomEvent(bm);E.dispatchEvent(U),o.isClosePausedRef.current=!1}},O=U=>{!A.contains(U.relatedTarget)&&C()},M=()=>{A.contains(document.activeElement)||C()};return A.addEventListener("focusin",y),A.addEventListener("focusout",O),A.addEventListener("pointermove",y),A.addEventListener("pointerleave",M),window.addEventListener("blur",y),window.addEventListener("focus",C),()=>{A.removeEventListener("focusin",y),A.removeEventListener("focusout",O),A.removeEventListener("pointermove",y),A.removeEventListener("pointerleave",M),window.removeEventListener("blur",y),window.removeEventListener("focus",C)}}},[R,o.isClosePausedRef]);const T=w.useCallback(({tabbingDirection:A})=>{const y=a().map(C=>{const O=C.ref.current,M=[O,...KD(O)];return A==="forwards"?M:M.reverse()});return(A==="forwards"?y.reverse():y).flat()},[a]);return w.useEffect(()=>{const A=f.current;if(A){const E=y=>{var M,U,I;const C=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!C){const v=document.activeElement,x=y.shiftKey;if(y.target===A&&x){(M=c.current)==null||M.focus();return}const P=T({tabbingDirection:x?"backwards":"forwards"}),k=P.findIndex(Z=>Z===v);up(P.slice(k+1))?y.preventDefault():x?(U=c.current)==null||U.focus():(I=h.current)==null||I.focus()}};return A.addEventListener("keydown",E),()=>A.removeEventListener("keydown",E)}},[a,T]),m.jsxs(ID,{ref:u,role:"region","aria-label":s.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:R?void 0:"none"},children:[R&&m.jsx(Pm,{ref:c,onFocusFromOutsideViewport:()=>{const A=T({tabbingDirection:"forwards"});up(A)}}),m.jsx(_y.Slot,{scope:n,children:m.jsx(tt.ol,{tabIndex:-1,...i,ref:g})}),R&&m.jsx(Pm,{ref:h,onFocusFromOutsideViewport:()=>{const A=T({tabbingDirection:"backwards"});up(A)}})]})});LI.displayName=MI;var jI="ToastFocusProxy",Pm=w.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fh(jI,n);return m.jsx(yy,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Pm.displayName=jI;var Uh="Toast",VD="toast.swipeStart",MD="toast.swipeMove",LD="toast.swipeCancel",jD="toast.swipeEnd",FI=w.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,u]=jh({prop:r,defaultProp:s,onChange:i});return m.jsx(Ta,{present:n||a,children:m.jsx($D,{open:a,...o,ref:e,onClose:()=>u(!1),onPause:Dn(t.onPause),onResume:Dn(t.onResume),onSwipeStart:ze(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ze(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});FI.displayName=Uh;var[FD,UD]=OI(Uh,{onClose(){}}),$D=w.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:u,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:S,...R}=t,T=Fh(Uh,n),[A,E]=w.useState(null),y=ln(e,Z=>E(Z)),C=w.useRef(null),O=w.useRef(null),M=s||T.duration,U=w.useRef(0),I=w.useRef(M),v=w.useRef(0),{onToastAdd:x,onToastRemove:b}=T,D=Dn(()=>{var ye;(A==null?void 0:A.contains(document.activeElement))&&((ye=T.viewport)==null||ye.focus()),o()}),P=w.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(v.current),U.current=new Date().getTime(),v.current=window.setTimeout(D,Z))},[D]);w.useEffect(()=>{const Z=T.viewport;if(Z){const ye=()=>{P(I.current),c==null||c()},Te=()=>{const Me=new Date().getTime()-U.current;I.current=I.current-Me,window.clearTimeout(v.current),u==null||u()};return Z.addEventListener(km,Te),Z.addEventListener(bm,ye),()=>{Z.removeEventListener(km,Te),Z.removeEventListener(bm,ye)}}},[T.viewport,M,u,c,P]),w.useEffect(()=>{i&&!T.isClosePausedRef.current&&P(M)},[i,M,T.isClosePausedRef,P]),w.useEffect(()=>(x(),()=>b()),[x,b]);const k=w.useMemo(()=>A?HI(A):null,[A]);return T.viewport?m.jsxs(m.Fragment,{children:[k&&m.jsx(zD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:k}),m.jsx(FD,{scope:n,onClose:D,children:Dh.createPortal(m.jsx(_y.ItemSlot,{scope:n,children:m.jsx(SD,{asChild:!0,onEscapeKeyDown:ze(a,()=>{T.isFocusedToastEscapeKeyDownRef.current||D(),T.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":T.swipeDirection,...R,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ze(t.onKeyDown,Z=>{Z.key==="Escape"&&(a==null||a(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(T.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ze(t.onPointerDown,Z=>{Z.button===0&&(C.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:ze(t.onPointerMove,Z=>{if(!C.current)return;const ye=Z.clientX-C.current.x,Te=Z.clientY-C.current.y,Me=!!O.current,K=["left","right"].includes(T.swipeDirection),re=["left","up"].includes(T.swipeDirection)?Math.min:Math.max,ae=K?re(0,ye):0,Se=K?0:re(0,Te),be=Z.pointerType==="touch"?10:2,$e={x:ae,y:Se},Bt={originalEvent:Z,delta:$e};Me?(O.current=$e,Ec(MD,f,Bt,{discrete:!1})):qw($e,T.swipeDirection,be)?(O.current=$e,Ec(VD,h,Bt,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(ye)>be||Math.abs(Te)>be)&&(C.current=null)}),onPointerUp:ze(t.onPointerUp,Z=>{const ye=O.current,Te=Z.target;if(Te.hasPointerCapture(Z.pointerId)&&Te.releasePointerCapture(Z.pointerId),O.current=null,C.current=null,ye){const Me=Z.currentTarget,K={originalEvent:Z,delta:ye};qw(ye,T.swipeDirection,T.swipeThreshold)?Ec(jD,S,K,{discrete:!0}):Ec(LD,g,K,{discrete:!0}),Me.addEventListener("click",re=>re.preventDefault(),{once:!0})}})})})}),T.viewport)})]}):null}),zD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fh(Uh,e),[i,o]=w.useState(!1),[a,u]=w.useState(!1);return qD(()=>o(!0)),w.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:m.jsx(gy,{asChild:!0,children:m.jsx(yy,{...r,children:i&&m.jsxs(m.Fragment,{children:[s.label," ",n]})})})},BD="ToastTitle",UI=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(tt.div,{...r,ref:e})});UI.displayName=BD;var WD="ToastDescription",$I=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return m.jsx(tt.div,{...r,ref:e})});$I.displayName=WD;var zI="ToastAction",BI=w.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?m.jsx(qI,{altText:n,asChild:!0,children:m.jsx(wy,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${zI}\`. Expected non-empty \`string\`.`),null)});BI.displayName=zI;var WI="ToastClose",wy=w.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=UD(WI,n);return m.jsx(qI,{asChild:!0,children:m.jsx(tt.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,s.onClose)})})});wy.displayName=WI;var qI=w.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return m.jsx(tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function HI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),HD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...HI(r))}}),e}function Ec(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?bI(s,i):s.dispatchEvent(i)}var qw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function qD(t=()=>{}){const e=Dn(t);ru(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function HD(t){return t.nodeType===t.ELEMENT_NODE}function KD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function up(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var GD=VI,KI=LI,GI=FI,QI=UI,YI=$I,ZI=BI,XI=wy;function JI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=JI(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function QD(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=JI(t))&&(r&&(r+=" "),r+=e);return r}const Hw=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,Kw=QD,Ey=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Kw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const g=Hw(h)||Hw(f);return s[c][g]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,g]=h;return g===void 0||(c[f]=g),c},{}),u=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:g,...S}=h;return Object.entries(S).every(R=>{let[T,A]=R;return Array.isArray(A)?A.includes({...i,...a}[T]):{...i,...a}[T]===A})?[...c,f,g]:c},[]);return Kw(t,o,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ex=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},u)=>w.createElement("svg",{ref:u,...ZD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ex("lucide",s),...a},[...o.map(([c,h])=>w.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=(t,e)=>{const n=w.forwardRef(({className:r,...s},i)=>w.createElement(XD,{ref:i,iconNode:e,className:ex(`lucide-${YD(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Sa("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eO=Sa("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tO=Sa("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=Sa("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=Sa("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Sa("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=nx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sO(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=nx(t))&&(r&&(r+=" "),r+=e);return r}const Ty="-",iO=t=>{const e=aO(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Ty);return a[0]===""&&a.length!==1&&a.shift(),rx(a,e)||oO(o)},getConflictingClassGroupIds:(o,a)=>{const u=n[o]||[];return a&&r[o]?[...u,...r[o]]:u}}},rx=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?rx(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Ty);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Gw=/^\[(.+)\]$/,oO=t=>{if(Gw.test(t)){const e=Gw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},aO=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uO(Object.entries(t.classGroups),n).forEach(([i,o])=>{Nm(o,r,i,e)}),r},Nm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:Qw(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(lO(s)){Nm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Nm(o,Qw(e,i),n,r)})})},Qw=(t,e)=>{let n=t;return e.split(Ty).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},lO=t=>t.isThemeGetter,uO=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,cO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},sx="!",dO=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const u=[];let c=0,h=0,f;for(let A=0;A<a.length;A++){let E=a[A];if(c===0){if(E===s&&(r||a.slice(A,A+i)===e)){u.push(a.slice(h,A)),h=A+i;continue}if(E==="/"){f=A;continue}}E==="["?c++:E==="]"&&c--}const g=u.length===0?a:a.substring(h),S=g.startsWith(sx),R=S?g.substring(1):g,T=f&&f>h?f-h:void 0;return{modifiers:u,hasImportantModifier:S,baseClassName:R,maybePostfixModifierPosition:T}};return n?a=>n({className:a,parseClassName:o}):o},hO=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fO=t=>({cache:cO(t.cacheSize),parseClassName:dO(t),...iO(t)}),pO=/\s+/,mO=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(pO);let a="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:S}=n(c);let R=!!S,T=r(R?g.substring(0,S):g);if(!T){if(!R){a=c+(a.length>0?" "+a:a);continue}if(T=r(g),!T){a=c+(a.length>0?" "+a:a);continue}R=!1}const A=hO(h).join(":"),E=f?A+sx:A,y=E+T;if(i.includes(y))continue;i.push(y);const C=s(T,R);for(let O=0;O<C.length;++O){const M=C[O];i.push(E+M)}a=c+(a.length>0?" "+a:a)}return a};function gO(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=ix(e))&&(r&&(r+=" "),r+=n);return r}const ix=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=ix(t[r]))&&(n&&(n+=" "),n+=e);return n};function yO(t,...e){let n,r,s,i=o;function o(u){const c=e.reduce((h,f)=>f(h),t());return n=fO(c),r=n.cache.get,s=n.cache.set,i=a,a(u)}function a(u){const c=r(u);if(c)return c;const h=mO(u,n);return s(u,h),h}return function(){return i(gO.apply(null,arguments))}}const He=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ox=/^\[(?:([a-z-]+):)?(.+)\]$/i,vO=/^\d+\/\d+$/,_O=new Set(["px","full","screen"]),wO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,EO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_r=t=>Mo(t)||_O.has(t)||vO.test(t),os=t=>Ia(t,"length",NO),Mo=t=>!!t&&!Number.isNaN(Number(t)),cp=t=>Ia(t,"number",Mo),tl=t=>!!t&&Number.isInteger(Number(t)),xO=t=>t.endsWith("%")&&Mo(t.slice(0,-1)),we=t=>ox.test(t),as=t=>wO.test(t),CO=new Set(["length","size","percentage"]),AO=t=>Ia(t,CO,ax),RO=t=>Ia(t,"position",ax),kO=new Set(["image","url"]),bO=t=>Ia(t,kO,OO),PO=t=>Ia(t,"",DO),nl=()=>!0,Ia=(t,e,n)=>{const r=ox.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},NO=t=>EO.test(t)&&!TO.test(t),ax=()=>!1,DO=t=>SO.test(t),OO=t=>IO.test(t),VO=()=>{const t=He("colors"),e=He("spacing"),n=He("blur"),r=He("brightness"),s=He("borderColor"),i=He("borderRadius"),o=He("borderSpacing"),a=He("borderWidth"),u=He("contrast"),c=He("grayscale"),h=He("hueRotate"),f=He("invert"),g=He("gap"),S=He("gradientColorStops"),R=He("gradientColorStopPositions"),T=He("inset"),A=He("margin"),E=He("opacity"),y=He("padding"),C=He("saturate"),O=He("scale"),M=He("sepia"),U=He("skew"),I=He("space"),v=He("translate"),x=()=>["auto","contain","none"],b=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",we,e],P=()=>[we,e],k=()=>["",_r,os],Z=()=>["auto",Mo,we],ye=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Te=()=>["solid","dashed","dotted","double","none"],Me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],re=()=>["","0",we],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>[Mo,we];return{cacheSize:500,separator:":",theme:{colors:[nl],spacing:[_r,os],blur:["none","",as,we],brightness:Se(),borderColor:[t],borderRadius:["none","","full",as,we],borderSpacing:P(),borderWidth:k(),contrast:Se(),grayscale:re(),hueRotate:Se(),invert:re(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[xO,os],inset:D(),margin:D(),opacity:Se(),padding:P(),saturate:Se(),scale:Se(),sepia:re(),skew:Se(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",we]}],container:["container"],columns:[{columns:[as]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ye(),we]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tl,we]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",we]}],grow:[{grow:re()}],shrink:[{shrink:re()}],order:[{order:["first","last","none",tl,we]}],"grid-cols":[{"grid-cols":[nl]}],"col-start-end":[{col:["auto",{span:["full",tl,we]},we]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[nl]}],"row-start-end":[{row:["auto",{span:[tl,we]},we]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",we]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",we]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",we,e]}],"min-w":[{"min-w":[we,e,"min","max","fit"]}],"max-w":[{"max-w":[we,e,"none","full","min","max","fit","prose",{screen:[as]},as]}],h:[{h:[we,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[we,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[we,e,"auto","min","max","fit"]}],"font-size":[{text:["base",as,os]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[nl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",we]}],"line-clamp":[{"line-clamp":["none",Mo,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_r,we]}],"list-image":[{"list-image":["none",we]}],"list-style-type":[{list:["none","disc","decimal",we]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_r,os]}],"underline-offset":[{"underline-offset":["auto",_r,we]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",we]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",we]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ye(),RO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[S]}],"gradient-via":[{via:[S]}],"gradient-to":[{to:[S]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...Te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:Te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Te()]}],"outline-offset":[{"outline-offset":[_r,we]}],"outline-w":[{outline:[_r,os]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[_r,os]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",as,PO]}],"shadow-color":[{shadow:[nl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...Me(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Me()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",as,we]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",we]}],duration:[{duration:Se()}],ease:[{ease:["linear","in","out","in-out",we]}],delay:[{delay:Se()}],animate:[{animate:["none","spin","ping","pulse","bounce",we]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[O]}],"scale-x":[{"scale-x":[O]}],"scale-y":[{"scale-y":[O]}],rotate:[{rotate:[tl,we]}],"translate-x":[{"translate-x":[v]}],"translate-y":[{"translate-y":[v]}],"skew-x":[{"skew-x":[U]}],"skew-y":[{"skew-y":[U]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",we]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",we]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",we]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_r,os,cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MO=yO(VO);function ge(...t){return MO(sO(t))}const LO=GD,lx=w.forwardRef(({className:t,...e},n)=>m.jsx(KI,{ref:n,className:ge("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));lx.displayName=KI.displayName;const jO=Ey("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ux=w.forwardRef(({className:t,variant:e,...n},r)=>m.jsx(GI,{ref:r,className:ge(jO({variant:e}),t),...n}));ux.displayName=GI.displayName;const FO=w.forwardRef(({className:t,...e},n)=>m.jsx(ZI,{ref:n,className:ge("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));FO.displayName=ZI.displayName;const cx=w.forwardRef(({className:t,...e},n)=>m.jsx(XI,{ref:n,className:ge("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(tx,{className:"h-4 w-4"})}));cx.displayName=XI.displayName;const dx=w.forwardRef(({className:t,...e},n)=>m.jsx(QI,{ref:n,className:ge("text-sm font-semibold",t),...e}));dx.displayName=QI.displayName;const hx=w.forwardRef(({className:t,...e},n)=>m.jsx(YI,{ref:n,className:ge("text-sm opacity-90",t),...e}));hx.displayName=YI.displayName;function UO(){const{toasts:t}=Zr();return m.jsxs(LO,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return m.jsxs(ux,{...i,children:[m.jsxs("div",{className:"grid gap-1",children:[n&&m.jsx(dx,{children:n}),r&&m.jsx(hx,{children:r})]}),s,m.jsx(cx,{})]},e)}),m.jsx(lx,{})]})}const Sy=Ey("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),at=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Vi:"button";return m.jsx(o,{className:ge(Sy({variant:e,size:n,className:t})),ref:i,...s})});at.displayName="Button";var Yw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},$O=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},px={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,S=c&63;u||(S=64,o||(g=64)),r.push(n[h],n[f],n[g],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$O(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new zO;const g=i<<2|a>>4;if(r.push(g),c!==64){const S=a<<4&240|c>>2;if(r.push(S),f!==64){const R=c<<6&192|f;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(t){const e=fx(t);return px.encodeByteArray(e,!0)},Pd=function(t){return BO(t).replace(/\./g,"")},mx=function(t){try{return px.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=()=>WO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof Yw>"u")return;const t=Yw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mx(t[1]);return e&&JSON.parse(e)},$h=()=>{try{return qO()||HO()||KO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gx=t=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},GO=t=>{const e=gx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yx=()=>{var t;return(t=$h())===null||t===void 0?void 0:t.config},vx=t=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pd(JSON.stringify(n)),Pd(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function XO(){var t;const e=(t=$h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tV(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nV(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rV(){return!XO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sV(){try{return typeof indexedDB=="object"}catch{return!1}}function iV(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="FirebaseError";class Xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oV,Object.setPrototypeOf(this,Xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?aV(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Xr(s,a,r)}}function aV(t,e){return t.replace(lV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lV=/\{\$([^}]+)}/g;function uV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Zw(i)&&Zw(o)){if(!Nd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Zw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function cl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cV(t,e){const n=new dV(t,e);return n.subscribe.bind(n)}class dV{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hV(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=dp),s.error===void 0&&(s.error=dp),s.complete===void 0&&(s.complete=dp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hV(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Mi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new QO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mV(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pV(t){return t===ci?void 0:t}function mV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const yV={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},vV=Ce.INFO,_V={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_V[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Iy{constructor(e){this.name=e,this._logLevel=vV,this._logHandler=wV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const EV=(t,e)=>e.some(n=>t instanceof n);let Xw,Jw;function TV(){return Xw||(Xw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SV(){return Jw||(Jw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _x=new WeakMap,Dm=new WeakMap,wx=new WeakMap,hp=new WeakMap,xy=new WeakMap;function IV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Vs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_x.set(n,t)}).catch(()=>{}),xy.set(e,t),e}function xV(t){if(Dm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Dm.set(t,e)}let Om={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Dm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CV(t){Om=t(Om)}function AV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(fp(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),Vs(r)}:SV().includes(t)?function(...e){return t.apply(fp(this),e),Vs(_x.get(this))}:function(...e){return Vs(t.apply(fp(this),e))}}function RV(t){return typeof t=="function"?AV(t):(t instanceof IDBTransaction&&xV(t),EV(t,TV())?new Proxy(t,Om):t)}function Vs(t){if(t instanceof IDBRequest)return IV(t);if(hp.has(t))return hp.get(t);const e=RV(t);return e!==t&&(hp.set(t,e),xy.set(e,t)),e}const fp=t=>xy.get(t);function kV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Vs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Vs(o.result),u.oldVersion,u.newVersion,Vs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const bV=["get","getKey","getAll","getAllKeys","count"],PV=["put","add","delete","clear"],pp=new Map;function e0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=PV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||bV.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return pp.set(e,i),i}CV(t=>({...t,get:(e,n,r)=>e0(e,n)||t.get(e,n,r),has:(e,n)=>!!e0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function DV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",t0="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr=new Iy("@firebase/app"),OV="@firebase/app-compat",VV="@firebase/analytics-compat",MV="@firebase/analytics",LV="@firebase/app-check-compat",jV="@firebase/app-check",FV="@firebase/auth",UV="@firebase/auth-compat",$V="@firebase/database",zV="@firebase/data-connect",BV="@firebase/database-compat",WV="@firebase/functions",qV="@firebase/functions-compat",HV="@firebase/installations",KV="@firebase/installations-compat",GV="@firebase/messaging",QV="@firebase/messaging-compat",YV="@firebase/performance",ZV="@firebase/performance-compat",XV="@firebase/remote-config",JV="@firebase/remote-config-compat",e2="@firebase/storage",t2="@firebase/storage-compat",n2="@firebase/firestore",r2="@firebase/vertexai",s2="@firebase/firestore-compat",i2="firebase",o2="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="[DEFAULT]",a2={[Vm]:"fire-core",[OV]:"fire-core-compat",[MV]:"fire-analytics",[VV]:"fire-analytics-compat",[jV]:"fire-app-check",[LV]:"fire-app-check-compat",[FV]:"fire-auth",[UV]:"fire-auth-compat",[$V]:"fire-rtdb",[zV]:"fire-data-connect",[BV]:"fire-rtdb-compat",[WV]:"fire-fn",[qV]:"fire-fn-compat",[HV]:"fire-iid",[KV]:"fire-iid-compat",[GV]:"fire-fcm",[QV]:"fire-fcm-compat",[YV]:"fire-perf",[ZV]:"fire-perf-compat",[XV]:"fire-rc",[JV]:"fire-rc-compat",[e2]:"fire-gcs",[t2]:"fire-gcs-compat",[n2]:"fire-fst",[s2]:"fire-fst-compat",[r2]:"fire-vertex","fire-js":"fire-js",[i2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd=new Map,l2=new Map,Lm=new Map;function n0(t,e){try{t.container.addComponent(e)}catch(n){zr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function aa(t){const e=t.name;if(Lm.has(e))return zr.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,t);for(const n of Dd.values())n0(n,t);for(const n of l2.values())n0(n,t);return!0}function Cy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Wn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Tu("app","Firebase",u2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=o2;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=yx()),!n)throw Ms.create("no-options");const i=Dd.get(s);if(i){if(Nd(n,i.options)&&Nd(r,i.config))return i;throw Ms.create("duplicate-app",{appName:s})}const o=new gV(s);for(const u of Lm.values())o.addComponent(u);const a=new c2(n,r,o);return Dd.set(s,a),a}function Tx(t=Mm){const e=Dd.get(t);if(!e&&t===Mm&&yx())return Ex();if(!e)throw Ms.create("no-app",{appName:t});return e}function Ls(t,e,n){var r;let s=(r=a2[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zr.warn(a.join(" "));return}aa(new Mi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2="firebase-heartbeat-database",h2=1,su="firebase-heartbeat-store";let mp=null;function Sx(){return mp||(mp=kV(d2,h2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),mp}async function f2(t){try{const n=(await Sx()).transaction(su),r=await n.objectStore(su).get(Ix(t));return await n.done,r}catch(e){if(e instanceof Xr)zr.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zr.warn(n.message)}}}async function r0(t,e){try{const r=(await Sx()).transaction(su,"readwrite");await r.objectStore(su).put(e,Ix(t)),await r.done}catch(n){if(n instanceof Xr)zr.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zr.warn(r.message)}}}function Ix(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2=1024,m2=30*24*60*60*1e3;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new v2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=m2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s0(),{heartbeatsToSend:r,unsentEntries:s}=y2(this._heartbeatsCache.heartbeats),i=Pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return zr.warn(n),""}}}function s0(){return new Date().toISOString().substring(0,10)}function y2(t,e=p2){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),i0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),i0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class v2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sV()?iV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await f2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function i0(t){return Pd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(t){aa(new Mi("platform-logger",e=>new NV(e),"PRIVATE")),aa(new Mi("heartbeat",e=>new g2(e),"PRIVATE")),Ls(Vm,t0,t),Ls(Vm,t0,"esm2017"),Ls("fire-js","")}_2("");var w2="firebase",E2="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(w2,E2,"app");var ir=function(){return ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ir.apply(this,arguments)};function Iu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function T2(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S2=xx,Cx=new Tu("auth","Firebase",xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Iy("@firebase/auth");function I2(t,...e){Od.logLevel<=Ce.WARN&&Od.warn(`Auth (${xa}): ${t}`,...e)}function Hc(t,...e){Od.logLevel<=Ce.ERROR&&Od.error(`Auth (${xa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw Ry(t,...e)}function Gn(t,...e){return Ry(t,...e)}function Ay(t,e,n){const r=Object.assign(Object.assign({},S2()),{[e]:n});return new Tu("auth","Firebase",r).create(e,{appName:t.name})}function Vr(t){return Ay(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x2(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&On(t,"argument-error"),Ay(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ry(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Cx.create(t,...e)}function ue(t,e,...n){if(!t)throw Ry(e,...n)}function kr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function Br(t,e){t||kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function C2(){return o0()==="http:"||o0()==="https:"}function o0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||eV()||"connection"in navigator)?navigator.onLine:!0}function R2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Br(n>e,"Short delay should be less than long delay!"),this.isMobile=ZO()||tV()}get(){return A2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){Br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new xu(3e4,6e4);function Jr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Yn(t,e,n,r,s={}){return Rx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Su(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return JO()||(c.referrerPolicy="no-referrer"),Ax.fetch()(kx(t,t.config.apiHost,n,a),c)})}async function Rx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},k2),e);try{const s=new N2(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Tc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Tc(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Tc(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ay(t,h,c);On(t,h)}}catch(s){if(s instanceof Xr)throw s;On(t,"network-request-failed",{message:String(s)})}}async function Cu(t,e,n,r,s={}){const i=await Yn(t,e,n,r,s);return"mfaPendingCredential"in i&&On(t,"multi-factor-auth-required",{_serverResponse:i}),i}function kx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ky(t.config,s):`${t.config.apiScheme}://${s}`}function P2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Gn(this.auth,"network-request-failed")),b2.get())})}}function Tc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Gn(t,e,r);return s.customData._tokenResponse=n,s}function a0(t){return t!==void 0&&t.enterprise!==void 0}class D2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O2(t,e){return Yn(t,"GET","/v2/recaptchaConfig",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(t,e){return Yn(t,"POST","/v1/accounts:delete",e)}async function bx(t,e){return Yn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function M2(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=by(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Rl(gp(s.auth_time)),issuedAtTime:Rl(gp(s.iat)),expirationTime:Rl(gp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function by(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=mx(n);return s?JSON.parse(s):(Hc("Failed to decode base64 JWT payload"),null)}catch(s){return Hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function l0(t){const e=by(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Li(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xr&&L2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vd(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Li(t,bx(n,{idToken:r}));ue(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Px(i.providerUserInfo):[],a=U2(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Fm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function F2(t){const e=ft(t);await Vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U2(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Px(t){return t.map(e=>{var{providerId:n}=e,r=Iu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(t,e){const n=await Rx(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=kx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ax.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function z2(t,e){return Yn(t,"POST","/v2/accounts:revokeToken",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):l0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=l0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $2(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Lo;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class br{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Iu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Fm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Li(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return M2(this,e)}reload(){return F2(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new br(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Vr(this.auth));const e=await this.getIdToken();return await Li(this,V2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,S=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,R=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:C,emailVerified:O,isAnonymous:M,providerData:U,stsTokenManager:I}=n;ue(C&&I,e,"internal-error");const v=Lo.fromJSON(this.name,I);ue(typeof C=="string",e,"internal-error"),ls(f,e.name),ls(g,e.name),ue(typeof O=="boolean",e,"internal-error"),ue(typeof M=="boolean",e,"internal-error"),ls(S,e.name),ls(R,e.name),ls(T,e.name),ls(A,e.name),ls(E,e.name),ls(y,e.name);const x=new br({uid:C,auth:e,email:g,emailVerified:O,displayName:f,isAnonymous:M,photoURL:R,phoneNumber:S,tenantId:T,stsTokenManager:v,createdAt:E,lastLoginAt:y});return U&&Array.isArray(U)&&(x.providerData=U.map(b=>Object.assign({},b))),A&&(x._redirectEventId=A),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new Lo;s.updateFromServerResponse(n);const i=new br({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Vd(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Px(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Lo;a.updateFromIdToken(r);const u=new br({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Fm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=new Map;function Pr(t){Br(t instanceof Function,"Expected a class definition");let e=u0.get(t);return e?(Br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,u0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nx.type="NONE";const c0=Nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(t,e,n){return`firebase:${t}:${e}:${n}`}class jo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Kc(this.userKey,s.apiKey,i),this.fullPersistenceKey=Kc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?br._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new jo(Pr(c0),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Pr(c0);const o=Kc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const f=br._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new jo(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new jo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jx(e))return"Blackberry";if(Fx(e))return"Webos";if(Ox(e))return"Safari";if((e.includes("chrome/")||Vx(e))&&!e.includes("edge/"))return"Chrome";if(Lx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dx(t=zt()){return/firefox\//i.test(t)}function Ox(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vx(t=zt()){return/crios\//i.test(t)}function Mx(t=zt()){return/iemobile/i.test(t)}function Lx(t=zt()){return/android/i.test(t)}function jx(t=zt()){return/blackberry/i.test(t)}function Fx(t=zt()){return/webos/i.test(t)}function Py(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B2(t=zt()){var e;return Py(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function W2(){return nV()&&document.documentMode===10}function Ux(t=zt()){return Py(t)||Lx(t)||Fx(t)||jx(t)||/windows phone/i.test(t)||Mx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e=[]){let n;switch(t){case"Browser":n=d0(zt());break;case"Worker":n=`${d0(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H2(t,e={}){return Yn(t,"GET","/v2/passwordPolicy",Jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=6;class G2{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:K2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new q2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bx(this,{idToken:e}),r=await br._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Wn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Vr(this));const n=e?ft(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Vr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Vr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await H2(this),n=new G2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await z2(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[Pr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&I2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return ft(t)}class h0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cV(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y2(t){zh=t}function zx(t){return zh.loadJS(t)}function Z2(){return zh.recaptchaEnterpriseScript}function X2(){return zh.gapiScript}function J2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class eM{constructor(){this.enterprise=new tM}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tM{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nM="recaptcha-enterprise",Bx="NO_RECAPTCHA";class rM{constructor(e){this.type=nM,this.auth=es(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{O2(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new D2(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;a0(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Bx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eM().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&a0(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Z2();u.length!==0&&(u+=a),zx(u).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function f0(t,e,n,r=!1,s=!1){const i=new rM(t);let o;if(s)o=Bx;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const u=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Md(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await f0(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await f0(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t,e){const n=Cy(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Nd(i,e??{}))return s;On(s,"already-initialized")}return n.initialize({options:e})}function iM(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oM(t,e,n){const r=es(t);ue(r._canInitEmulator,r,"emulator-config-failed"),ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=Wx(e),{host:o,port:a}=aM(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),lM()}function Wx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aM(t){const e=Wx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:p0(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:p0(o)}}}function p0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lM(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return kr("not implemented")}_getIdTokenResponse(e){return kr("not implemented")}_linkToIdToken(e,n){return kr("not implemented")}_getReauthenticationResolver(e){return kr("not implemented")}}async function uM(t,e){return Yn(t,"POST","/v1/accounts:update",e)}async function cM(t,e){return Yn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dM(t,e){return Cu(t,"POST","/v1/accounts:signInWithPassword",Jr(t,e))}async function qx(t,e){return Yn(t,"POST","/v1/accounts:sendOobCode",Jr(t,e))}async function hM(t,e){return qx(t,e)}async function fM(t,e){return qx(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pM(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}async function mM(t,e){return Cu(t,"POST","/v1/accounts:signInWithEmailLink",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends Ny{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new iu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new iu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,n,"signInWithPassword",dM);case"emailLink":return pM(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Md(e,r,"signUpPassword",cM);case"emailLink":return mM(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return Cu(t,"POST","/v1/accounts:signInWithIdp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gM="http://localhost";class ji extends Ny{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ji(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Iu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ji(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Fo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:gM,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vM(t){const e=ul(cl(t)).link,n=e?ul(cl(e)).deep_link_id:null,r=ul(cl(t)).deep_link_id;return(r?ul(cl(r)).link:null)||r||n||e||t}class Dy{constructor(e){var n,r,s,i,o,a;const u=ul(cl(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,f=yM((s=u.mode)!==null&&s!==void 0?s:null);ue(c&&h&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vM(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.providerId=Hi.PROVIDER_ID}static credential(e,n){return iu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dy.parseLink(n);return ue(r,"argument-error"),iu._fromEmailAndCode(e,r.code,r.tenantId)}}Hi.PROVIDER_ID="password";Hi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Oy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Au{constructor(){super("facebook.com")}static credential(e){return ji._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xr.credential(e.oauthAccessToken)}catch{return null}}}xr.FACEBOOK_SIGN_IN_METHOD="facebook.com";xr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ji._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.GOOGLE_SIGN_IN_METHOD="google.com";Cr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Au{constructor(){super("github.com")}static credential(e){return ji._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.GITHUB_SIGN_IN_METHOD="github.com";gs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Au{constructor(){super("twitter.com")}static credential(e,n){return ji._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(t,e){return Cu(t,"POST","/v1/accounts:signUp",Jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await br._fromIdTokenResponse(e,r,s),o=m0(r);return new Fi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=m0(r);return new Fi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function m0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld extends Xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ld.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ld(e,n,r,s)}}function Hx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Ld._fromErrorAndOperation(t,i,e,r):i})}async function wM(t,e,n=!1){const r=await Li(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e,n=!1){const{auth:r}=t;if(Wn(r.app))return Promise.reject(Vr(r));const s="reauthenticate";try{const i=await Li(t,Hx(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=by(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Fi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&On(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e,n=!1){if(Wn(t.app))return Promise.reject(Vr(t));const r="signIn",s=await Hx(t,r,e),i=await Fi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function EM(t,e){return Gx(es(t),e)}async function TM(t,e){return Kx(ft(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SM(t,e,n){const r=es(t);await Md(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",fM)}async function IM(t,e,n){if(Wn(t.app))return Promise.reject(Vr(t));const r=es(t),o=await Md(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_M).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Qx(t),u}),a=await Fi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function xM(t,e,n){return Wn(t.app)?Promise.reject(Vr(t)):EM(ft(t),Hi.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qx(t),r})}async function Yx(t,e){const n=ft(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await hM(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(t,e){return Yn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Li(r,CM(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function AM(t,e){return RM(ft(t),null,e)}async function RM(t,e,n){const{auth:r}=t,i={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(i.password=n);const o=await Li(t,uM(r,i));await t._updateTokensIfNecessary(o,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t,e){return ft(t).setPersistence(e)}function bM(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function PM(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function NM(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function DM(t){return ft(t).signOut()}async function OM(t){return ft(t).delete()}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM=1e3,MM=10;class Xx extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ux(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);W2()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,MM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xx.type="LOCAL";const Jx=Xx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eC.type="SESSION";const tC=eC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Wh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await LM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Vy("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(g.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function FM(t){ur().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function UM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $M(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function zM(){return nC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebaseLocalStorageDb",BM=1,Fd="firebaseLocalStorage",sC="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(t,e){return t.transaction([Fd],e?"readwrite":"readonly").objectStore(Fd)}function WM(){const t=indexedDB.deleteDatabase(rC);return new Ru(t).toPromise()}function Um(){const t=indexedDB.open(rC,BM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Fd,{keyPath:sC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Fd)?e(r):(r.close(),await WM(),e(await Um()))})})}async function g0(t,e,n){const r=qh(t,!0).put({[sC]:e,value:n});return new Ru(r).toPromise()}async function qM(t,e){const n=qh(t,!1).get(e),r=await new Ru(n).toPromise();return r===void 0?null:r.value}function y0(t,e){const n=qh(t,!0).delete(e);return new Ru(n).toPromise()}const HM=800,KM=3;class iC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(zM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UM(),!this.activeServiceWorker)return;this.sender=new jM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$M()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await g0(e,jd,"1"),await y0(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>g0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>qM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>y0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=qh(s,!1).getAll();return new Ru(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iC.type="LOCAL";const GM=iC;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(t,e){return e?Pr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My extends Ny{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QM(t){return Gx(t.auth,new My(t),t.bypassAuthState)}function YM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),Kx(n,new My(t),t.bypassAuthState)}async function ZM(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),wM(n,new My(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QM;case"linkViaPopup":case"linkViaRedirect":return ZM;case"reauthViaPopup":case"reauthViaRedirect":return YM;default:On(this.auth,"internal-error")}}resolve(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XM=new xu(2e3,1e4);async function lC(t,e,n){if(Wn(t.app))return Promise.reject(Gn(t,"operation-not-supported-in-this-environment"));const r=es(t);x2(t,e,Oy);const s=oC(r,n);return new yi(r,"signInViaPopup",e,s).executeNotNull()}class yi extends aC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,yi.currentPopupAction&&yi.currentPopupAction.cancel(),yi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){Br(this.filter.length===1,"Popup operations only handle one event");const e=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Gn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Gn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XM.get())};e()}}yi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="pendingRedirect",Gc=new Map;class eL extends aC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const r=await tL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tL(t,e){const n=sL(e),r=rL(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function nL(t,e){Gc.set(t._key(),e)}function rL(t){return Pr(t._redirectPersistence)}function sL(t){return Kc(JM,t.config.apiKey,t.name)}async function iL(t,e,n=!1){if(Wn(t.app))return Promise.reject(Vr(t));const r=es(t),s=oC(r,e),o=await new eL(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oL=10*60*1e3;class aL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Gn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oL&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uL(t,e={}){return Yn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dL=/^https?/;async function hL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uL(t);for(const n of e)try{if(fL(n))return}catch{}On(t,"unauthorized-domain")}function fL(t){const e=jm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!dL.test(n))return!1;if(cL.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL=new xu(3e4,6e4);function _0(){const t=ur().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function mL(t){return new Promise((e,n)=>{var r,s,i;function o(){_0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_0(),n(Gn(t,"network-request-failed"))},timeout:pL.get()})}if(!((s=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=ur().gapi)===null||i===void 0)&&i.load)o();else{const a=J2("iframefcb");return ur()[a]=()=>{gapi.load?o():n(Gn(t,"network-request-failed"))},zx(`${X2()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Qc=null,e})}let Qc=null;function gL(t){return Qc=Qc||mL(t),Qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=new xu(5e3,15e3),vL="__/auth/iframe",_L="emulator/auth/iframe",wL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TL(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ky(e,_L):`https://${t.config.authDomain}/${vL}`,r={apiKey:e.apiKey,appName:t.name,v:xa},s=EL.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Su(r).slice(1)}`}async function SL(t){const e=await gL(t),n=ur().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:TL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wL,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Gn(t,"network-request-failed"),a=ur().setTimeout(()=>{i(o)},yL.get());function u(){ur().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xL=500,CL=600,AL="_blank",RL="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kL(t,e,n,r=xL,s=CL){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},IL),{width:r.toString(),height:s.toString(),top:i,left:o}),c=zt().toLowerCase();n&&(a=Vx(c)?AL:n),Dx(c)&&(e=e||RL,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[S,R])=>`${g}${S}=${R},`,"");if(B2(c)&&a!=="_self")return bL(e||"",a),new w0(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new w0(f)}function bL(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="__/auth/handler",NL="emulator/auth/handler",DL=encodeURIComponent("fac");async function E0(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xa,eventId:s};if(e instanceof Oy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uV(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Au){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${DL}=${encodeURIComponent(u)}`:"";return`${OL(t)}?${Su(a).slice(1)}${c}`}function OL({config:t}){return t.emulator?ky(t,NL):`https://${t.authDomain}/${PL}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class VL{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tC,this._completeRedirectFn=iL,this._overrideRedirectResult=nL}async _openPopup(e,n,r,s){var i;Br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await E0(e,n,r,jm(),s);return kL(e,o,Vy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await E0(e,n,r,jm(),s);return FM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SL(e),r=new aL(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yp,{type:yp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[yp];o!==void 0&&n(!!o),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ux()||Ox()||Py()}}const ML=VL;var T0="@firebase/auth",S0="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FL(t){aa(new Mi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$x(t)},c=new Q2(r,s,i,u);return iM(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),aa(new Mi("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(r=>new LL(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(T0,S0,jL(t)),Ls(T0,S0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=5*60,$L=vx("authIdTokenMaxAge")||UL;let I0=null;const zL=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$L)return;const s=n==null?void 0:n.token;I0!==s&&(I0=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function BL(t=Tx()){const e=Cy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sM(t,{popupRedirectResolver:ML,persistence:[GM,Jx,tC]}),r=vx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=zL(i.toString());PM(n,o,()=>o(n.currentUser)),bM(n,a=>o(a))}}const s=gx("auth");return s&&oM(n,`http://${s}`),n}function WL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y2({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Gn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",WL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FL("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,cC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function x(){}x.prototype=v.prototype,I.D=v.prototype,I.prototype=new x,I.prototype.constructor=I,I.C=function(b,D,P){for(var k=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)k[Z-2]=arguments[Z];return v.prototype[D].apply(b,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,x){x||(x=0);var b=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)b[D]=v.charCodeAt(x++)|v.charCodeAt(x++)<<8|v.charCodeAt(x++)<<16|v.charCodeAt(x++)<<24;else for(D=0;16>D;++D)b[D]=v[x++]|v[x++]<<8|v[x++]<<16|v[x++]<<24;v=I.g[0],x=I.g[1],D=I.g[2];var P=I.g[3],k=v+(P^x&(D^P))+b[0]+3614090360&4294967295;v=x+(k<<7&4294967295|k>>>25),k=P+(D^v&(x^D))+b[1]+3905402710&4294967295,P=v+(k<<12&4294967295|k>>>20),k=D+(x^P&(v^x))+b[2]+606105819&4294967295,D=P+(k<<17&4294967295|k>>>15),k=x+(v^D&(P^v))+b[3]+3250441966&4294967295,x=D+(k<<22&4294967295|k>>>10),k=v+(P^x&(D^P))+b[4]+4118548399&4294967295,v=x+(k<<7&4294967295|k>>>25),k=P+(D^v&(x^D))+b[5]+1200080426&4294967295,P=v+(k<<12&4294967295|k>>>20),k=D+(x^P&(v^x))+b[6]+2821735955&4294967295,D=P+(k<<17&4294967295|k>>>15),k=x+(v^D&(P^v))+b[7]+4249261313&4294967295,x=D+(k<<22&4294967295|k>>>10),k=v+(P^x&(D^P))+b[8]+1770035416&4294967295,v=x+(k<<7&4294967295|k>>>25),k=P+(D^v&(x^D))+b[9]+2336552879&4294967295,P=v+(k<<12&4294967295|k>>>20),k=D+(x^P&(v^x))+b[10]+4294925233&4294967295,D=P+(k<<17&4294967295|k>>>15),k=x+(v^D&(P^v))+b[11]+2304563134&4294967295,x=D+(k<<22&4294967295|k>>>10),k=v+(P^x&(D^P))+b[12]+1804603682&4294967295,v=x+(k<<7&4294967295|k>>>25),k=P+(D^v&(x^D))+b[13]+4254626195&4294967295,P=v+(k<<12&4294967295|k>>>20),k=D+(x^P&(v^x))+b[14]+2792965006&4294967295,D=P+(k<<17&4294967295|k>>>15),k=x+(v^D&(P^v))+b[15]+1236535329&4294967295,x=D+(k<<22&4294967295|k>>>10),k=v+(D^P&(x^D))+b[1]+4129170786&4294967295,v=x+(k<<5&4294967295|k>>>27),k=P+(x^D&(v^x))+b[6]+3225465664&4294967295,P=v+(k<<9&4294967295|k>>>23),k=D+(v^x&(P^v))+b[11]+643717713&4294967295,D=P+(k<<14&4294967295|k>>>18),k=x+(P^v&(D^P))+b[0]+3921069994&4294967295,x=D+(k<<20&4294967295|k>>>12),k=v+(D^P&(x^D))+b[5]+3593408605&4294967295,v=x+(k<<5&4294967295|k>>>27),k=P+(x^D&(v^x))+b[10]+38016083&4294967295,P=v+(k<<9&4294967295|k>>>23),k=D+(v^x&(P^v))+b[15]+3634488961&4294967295,D=P+(k<<14&4294967295|k>>>18),k=x+(P^v&(D^P))+b[4]+3889429448&4294967295,x=D+(k<<20&4294967295|k>>>12),k=v+(D^P&(x^D))+b[9]+568446438&4294967295,v=x+(k<<5&4294967295|k>>>27),k=P+(x^D&(v^x))+b[14]+3275163606&4294967295,P=v+(k<<9&4294967295|k>>>23),k=D+(v^x&(P^v))+b[3]+4107603335&4294967295,D=P+(k<<14&4294967295|k>>>18),k=x+(P^v&(D^P))+b[8]+1163531501&4294967295,x=D+(k<<20&4294967295|k>>>12),k=v+(D^P&(x^D))+b[13]+2850285829&4294967295,v=x+(k<<5&4294967295|k>>>27),k=P+(x^D&(v^x))+b[2]+4243563512&4294967295,P=v+(k<<9&4294967295|k>>>23),k=D+(v^x&(P^v))+b[7]+1735328473&4294967295,D=P+(k<<14&4294967295|k>>>18),k=x+(P^v&(D^P))+b[12]+2368359562&4294967295,x=D+(k<<20&4294967295|k>>>12),k=v+(x^D^P)+b[5]+4294588738&4294967295,v=x+(k<<4&4294967295|k>>>28),k=P+(v^x^D)+b[8]+2272392833&4294967295,P=v+(k<<11&4294967295|k>>>21),k=D+(P^v^x)+b[11]+1839030562&4294967295,D=P+(k<<16&4294967295|k>>>16),k=x+(D^P^v)+b[14]+4259657740&4294967295,x=D+(k<<23&4294967295|k>>>9),k=v+(x^D^P)+b[1]+2763975236&4294967295,v=x+(k<<4&4294967295|k>>>28),k=P+(v^x^D)+b[4]+1272893353&4294967295,P=v+(k<<11&4294967295|k>>>21),k=D+(P^v^x)+b[7]+4139469664&4294967295,D=P+(k<<16&4294967295|k>>>16),k=x+(D^P^v)+b[10]+3200236656&4294967295,x=D+(k<<23&4294967295|k>>>9),k=v+(x^D^P)+b[13]+681279174&4294967295,v=x+(k<<4&4294967295|k>>>28),k=P+(v^x^D)+b[0]+3936430074&4294967295,P=v+(k<<11&4294967295|k>>>21),k=D+(P^v^x)+b[3]+3572445317&4294967295,D=P+(k<<16&4294967295|k>>>16),k=x+(D^P^v)+b[6]+76029189&4294967295,x=D+(k<<23&4294967295|k>>>9),k=v+(x^D^P)+b[9]+3654602809&4294967295,v=x+(k<<4&4294967295|k>>>28),k=P+(v^x^D)+b[12]+3873151461&4294967295,P=v+(k<<11&4294967295|k>>>21),k=D+(P^v^x)+b[15]+530742520&4294967295,D=P+(k<<16&4294967295|k>>>16),k=x+(D^P^v)+b[2]+3299628645&4294967295,x=D+(k<<23&4294967295|k>>>9),k=v+(D^(x|~P))+b[0]+4096336452&4294967295,v=x+(k<<6&4294967295|k>>>26),k=P+(x^(v|~D))+b[7]+1126891415&4294967295,P=v+(k<<10&4294967295|k>>>22),k=D+(v^(P|~x))+b[14]+2878612391&4294967295,D=P+(k<<15&4294967295|k>>>17),k=x+(P^(D|~v))+b[5]+4237533241&4294967295,x=D+(k<<21&4294967295|k>>>11),k=v+(D^(x|~P))+b[12]+1700485571&4294967295,v=x+(k<<6&4294967295|k>>>26),k=P+(x^(v|~D))+b[3]+2399980690&4294967295,P=v+(k<<10&4294967295|k>>>22),k=D+(v^(P|~x))+b[10]+4293915773&4294967295,D=P+(k<<15&4294967295|k>>>17),k=x+(P^(D|~v))+b[1]+2240044497&4294967295,x=D+(k<<21&4294967295|k>>>11),k=v+(D^(x|~P))+b[8]+1873313359&4294967295,v=x+(k<<6&4294967295|k>>>26),k=P+(x^(v|~D))+b[15]+4264355552&4294967295,P=v+(k<<10&4294967295|k>>>22),k=D+(v^(P|~x))+b[6]+2734768916&4294967295,D=P+(k<<15&4294967295|k>>>17),k=x+(P^(D|~v))+b[13]+1309151649&4294967295,x=D+(k<<21&4294967295|k>>>11),k=v+(D^(x|~P))+b[4]+4149444226&4294967295,v=x+(k<<6&4294967295|k>>>26),k=P+(x^(v|~D))+b[11]+3174756917&4294967295,P=v+(k<<10&4294967295|k>>>22),k=D+(v^(P|~x))+b[2]+718787259&4294967295,D=P+(k<<15&4294967295|k>>>17),k=x+(P^(D|~v))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+P&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var x=v-this.blockSize,b=this.B,D=this.h,P=0;P<v;){if(D==0)for(;P<=x;)s(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<v;)if(b[D++]=I.charCodeAt(P++),D==this.blockSize){s(this,b),D=0;break}}else for(;P<v;)if(b[D++]=I[P++],D==this.blockSize){s(this,b),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var x=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=x&255,x/=256;for(this.u(I),I=Array(16),v=x=0;4>v;++v)for(var b=0;32>b;b+=8)I[x++]=this.g[v]>>>b&255;return I};function i(I,v){var x=a;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=v(I)}function o(I,v){this.h=v;for(var x=[],b=!0,D=I.length-1;0<=D;D--){var P=I[D]|0;b&&P==v||(x[D]=P,b=!1)}this.g=x}var a={};function u(I){return-128<=I&&128>I?i(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(c(-I));for(var v=[],x=1,b=0;I>=x;b++)v[b]=I/x|0,x*=4294967296;return new o(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(v,8)),b=f,D=0;D<I.length;D+=8){var P=Math.min(8,I.length-D),k=parseInt(I.substring(D,D+P),v);8>P?(P=c(Math.pow(v,P)),b=b.j(P).add(c(k))):(b=b.j(x),b=b.add(c(k)))}return b}var f=u(0),g=u(1),S=u(16777216);t=o.prototype,t.m=function(){if(T(this))return-A(this).m();for(var I=0,v=1,x=0;x<this.g.length;x++){var b=this.i(x);I+=(0<=b?b:4294967296+b)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var v=c(Math.pow(I,6)),x=this,b="";;){var D=O(x,v).g;x=E(x,D.j(v));var P=((0<x.g.length?x.g[0]:x.h)>>>0).toString(I);if(x=D,R(x))return P+b;for(;6>P.length;)P="0"+P;b=P+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=E(this,I),T(I)?-1:R(I)?0:1};function A(I){for(var v=I.g.length,x=[],b=0;b<v;b++)x[b]=~I.g[b];return new o(x,~I.h).add(g)}t.abs=function(){return T(this)?A(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],b=0,D=0;D<=v;D++){var P=b+(this.i(D)&65535)+(I.i(D)&65535),k=(P>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);b=k>>>16,P&=65535,k&=65535,x[D]=k<<16|P}return new o(x,x[x.length-1]&-2147483648?-1:0)};function E(I,v){return I.add(A(v))}t.j=function(I){if(R(this)||R(I))return f;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(S)&&0>I.l(S))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,x=[],b=0;b<2*v;b++)x[b]=0;for(b=0;b<this.g.length;b++)for(var D=0;D<I.g.length;D++){var P=this.i(b)>>>16,k=this.i(b)&65535,Z=I.i(D)>>>16,ye=I.i(D)&65535;x[2*b+2*D]+=k*ye,y(x,2*b+2*D),x[2*b+2*D+1]+=P*ye,y(x,2*b+2*D+1),x[2*b+2*D+1]+=k*Z,y(x,2*b+2*D+1),x[2*b+2*D+2]+=P*Z,y(x,2*b+2*D+2)}for(b=0;b<v;b++)x[b]=x[2*b+1]<<16|x[2*b];for(b=v;b<2*v;b++)x[b]=0;return new o(x,0)};function y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function C(I,v){this.g=I,this.h=v}function O(I,v){if(R(v))throw Error("division by zero");if(R(I))return new C(f,f);if(T(I))return v=O(A(I),v),new C(A(v.g),A(v.h));if(T(v))return v=O(I,A(v)),new C(A(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var x=g,b=v;0>=b.l(I);)x=M(x),b=M(b);var D=U(x,1),P=U(b,1);for(b=U(b,2),x=U(x,2);!R(b);){var k=P.add(b);0>=k.l(I)&&(D=D.add(x),P=k),b=U(b,1),x=U(x,1)}return v=E(I,D.j(v)),new C(D,v)}for(D=f;0<=I.l(v);){for(x=Math.max(1,Math.floor(I.m()/v.m())),b=Math.ceil(Math.log(x)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),P=c(x),k=P.j(v);T(k)||0<k.l(I);)x-=b,P=c(x),k=P.j(v);R(P)&&(P=g),D=D.add(P),I=E(I,k)}return new C(D,I)}t.A=function(I){return O(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],b=0;b<v;b++)x[b]=this.i(b)&I.i(b);return new o(x,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],b=0;b<v;b++)x[b]=this.i(b)|I.i(b);return new o(x,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),x=[],b=0;b<v;b++)x[b]=this.i(b)^I.i(b);return new o(x,this.h^I.h)};function M(I){for(var v=I.g.length+1,x=[],b=0;b<v;b++)x[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(x,I.h)}function U(I,v){var x=v>>5;v%=32;for(var b=I.g.length-x,D=[],P=0;P<b;P++)D[P]=0<v?I.i(P+x)>>>v|I.i(P+x+1)<<32-v:I.i(P+x);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,js=o}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dC,dl,hC,Yc,$m,fC,pC,mC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(l,d){if(d)e:{var p=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var V=l[_];if(!(V in p))break e;p=p[V]}l=l[l.length-1],_=p[l],d=d(_),d!=_&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var p=0,_=!1,V={next:function(){if(!_&&p<l.length){var j=p++;return{value:d(j,l[j]),done:!1}}return _=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(l){return l||function(){return i(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,_),l.apply(d,V)}}return function(){return l.apply(d,arguments)}}function g(l,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,g.apply(null,arguments)}function S(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function R(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(_,V,j){for(var G=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)G[Be-2]=arguments[Be];return d.prototype[V].apply(_,G)}}function T(l){const d=l.length;if(0<d){const p=Array(d);for(let _=0;_<d;_++)p[_]=l[_];return p}return[]}function A(l,d){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const V=l.length||0,j=_.length||0;l.length=V+j;for(let G=0;G<j;G++)l[V+G]=_[G]}else l.push(_)}}class E{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(l){return/^[\s\xa0]*$/.test(l)}function C(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function O(l){return O[" "](l),l}O[" "]=function(){};var M=C().indexOf("Gecko")!=-1&&!(C().toLowerCase().indexOf("webkit")!=-1&&C().indexOf("Edge")==-1)&&!(C().indexOf("Trident")!=-1||C().indexOf("MSIE")!=-1)&&C().indexOf("Edge")==-1;function U(l,d,p){for(const _ in l)d.call(p,l[_],_,l)}function I(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function v(l){const d={};for(const p in l)d[p]=l[p];return d}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(l,d){let p,_;for(let V=1;V<arguments.length;V++){_=arguments[V];for(p in _)l[p]=_[p];for(let j=0;j<x.length;j++)p=x[j],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function D(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function P(l){a.setTimeout(()=>{throw l},0)}function k(){var l=re;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Z{constructor(){this.h=this.g=null}add(d,p){const _=ye.get();_.set(d,p),this.h?this.h.next=_:this.g=_,this.h=_}}var ye=new E(()=>new Te,l=>l.reset());class Te{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Me,K=!1,re=new Z,ae=()=>{const l=a.Promise.resolve(void 0);Me=()=>{l.then(Se)}};var Se=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(p){P(p)}var d=ye;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}K=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $e(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}$e.prototype.h=function(){this.defaultPrevented=!0};var Bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function Vn(l,d){if($e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{O(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:cn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Vn.aa.h.call(this)}}R(Vn,$e);var cn={2:"touch",3:"pen",4:"mouse"};Vn.prototype.h=function(){Vn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),ba=0;function Mu(l,d,p,_,V){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!_,this.ha=V,this.key=++ba,this.da=this.fa=!1}function Zi(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ti(l){this.src=l,this.g={},this.h=0}ti.prototype.add=function(l,d,p,_,V){var j=l.toString();l=this.g[j],l||(l=this.g[j]=[],this.h++);var G=Xi(l,d,_,V);return-1<G?(d=l[G],p||(d.fa=!1)):(d=new Mu(d,this.src,j,!!_,V),d.fa=p,l.push(d)),d};function Pa(l,d){var p=d.type;if(p in l.g){var _=l.g[p],V=Array.prototype.indexOf.call(_,d,void 0),j;(j=0<=V)&&Array.prototype.splice.call(_,V,1),j&&(Zi(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Xi(l,d,p,_){for(var V=0;V<l.length;++V){var j=l[V];if(!j.da&&j.listener==d&&j.capture==!!p&&j.ha==_)return V}return-1}var Ji="closure_lm_"+(1e6*Math.random()|0),Lu={};function gf(l,d,p,_,V){if(Array.isArray(d)){for(var j=0;j<d.length;j++)gf(l,d[j],p,_,V);return null}return p=_e(p),l&&l[wn]?l.K(d,p,c(_)?!!_.capture:!!_,V):Rv(l,d,p,!1,_,V)}function Rv(l,d,p,_,V,j){if(!d)throw Error("Invalid event type");var G=c(V)?!!V.capture:!!V,Be=H(l);if(Be||(l[Ji]=Be=new ti(l)),p=Be.add(d,p,_,G,j),p.proxy)return p;if(_=N(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)Bt||(V=G),V===void 0&&(V=!1),l.addEventListener(d.toString(),_,V);else if(l.attachEvent)l.attachEvent(X(d.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function N(){function l(p){return d.call(l.src,l.listener,p)}const d=Y;return l}function L(l,d,p,_,V){if(Array.isArray(d))for(var j=0;j<d.length;j++)L(l,d[j],p,_,V);else _=c(_)?!!_.capture:!!_,p=_e(p),l&&l[wn]?(l=l.i,d=String(d).toString(),d in l.g&&(j=l.g[d],p=Xi(j,p,_,V),-1<p&&(Zi(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete l.g[d],l.h--)))):l&&(l=H(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Xi(d,p,_,V)),(p=-1<l?d[l]:null)&&F(p))}function F(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[wn])Pa(d.i,l);else{var p=l.type,_=l.proxy;d.removeEventListener?d.removeEventListener(p,_,l.capture):d.detachEvent?d.detachEvent(X(p),_):d.addListener&&d.removeListener&&d.removeListener(_),(p=H(d))?(Pa(p,l),p.h==0&&(p.src=null,d[Ji]=null)):Zi(l)}}}function X(l){return l in Lu?Lu[l]:Lu[l]="on"+l}function Y(l,d){if(l.da)l=!0;else{d=new Vn(d,this);var p=l.listener,_=l.ha||l.src;l.fa&&F(l),l=p.call(_,d)}return l}function H(l){return l=l[Ji],l instanceof ti?l:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(l){return typeof l=="function"?l:(l[oe]||(l[oe]=function(d){return l.handleEvent(d)}),l[oe])}function Re(){be.call(this),this.i=new ti(this),this.M=this,this.F=null}R(Re,be),Re.prototype[wn]=!0,Re.prototype.removeEventListener=function(l,d,p,_){L(this,l,d,p,_)};function Pe(l,d){var p,_=l.F;if(_)for(p=[];_;_=_.F)p.push(_);if(l=l.M,_=d.type||d,typeof d=="string")d=new $e(d,l);else if(d instanceof $e)d.target=d.target||l;else{var V=d;d=new $e(_,l),b(d,V)}if(V=!0,p)for(var j=p.length-1;0<=j;j--){var G=d.g=p[j];V=En(G,_,!0,d)&&V}if(G=d.g=l,V=En(G,_,!0,d)&&V,V=En(G,_,!1,d)&&V,p)for(j=0;j<p.length;j++)G=d.g=p[j],V=En(G,_,!1,d)&&V}Re.prototype.N=function(){if(Re.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],_=0;_<p.length;_++)Zi(p[_]);delete l.g[d],l.h--}}this.F=null},Re.prototype.K=function(l,d,p,_){return this.i.add(String(l),d,!1,p,_)},Re.prototype.L=function(l,d,p,_){return this.i.add(String(l),d,!0,p,_)};function En(l,d,p,_){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,j=0;j<d.length;++j){var G=d[j];if(G&&!G.da&&G.capture==p){var Be=G.listener,It=G.ha||G.src;G.fa&&Pa(l.i,G),V=Be.call(It,_)!==!1&&V}}return V&&!_.defaultPrevented}function ju(l,d,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function eo(l){l.g=ju(()=>{l.g=null,l.i&&(l.i=!1,eo(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Na extends be{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:eo(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ni(l){be.call(this),this.h=l,this.g={}}R(ni,be);var Da=[];function Fu(l){U(l.g,function(d,p){this.g.hasOwnProperty(p)&&F(d)},l),l.g={}}ni.prototype.N=function(){ni.aa.N.call(this),Fu(this)},ni.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=a.JSON.stringify,nk=a.JSON.parse,rk=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function yf(){}yf.prototype.h=null;function kv(l){return l.h||(l.h=l.i())}function bv(){}var Oa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vf(){$e.call(this,"d")}R(vf,$e);function _f(){$e.call(this,"c")}R(_f,$e);var ri={},Pv=null;function Uu(){return Pv=Pv||new Re}ri.La="serverreachability";function Nv(l){$e.call(this,ri.La,l)}R(Nv,$e);function Va(l){const d=Uu();Pe(d,new Nv(d))}ri.STAT_EVENT="statevent";function Dv(l,d){$e.call(this,ri.STAT_EVENT,l),this.stat=d}R(Dv,$e);function Wt(l){const d=Uu();Pe(d,new Dv(d,l))}ri.Ma="timingevent";function Ov(l,d){$e.call(this,ri.Ma,l),this.size=d}R(Ov,$e);function Ma(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function La(){this.g=!0}La.prototype.xa=function(){this.g=!1};function sk(l,d,p,_,V,j){l.info(function(){if(l.g)if(j)for(var G="",Be=j.split("&"),It=0;It<Be.length;It++){var Ve=Be[It].split("=");if(1<Ve.length){var Pt=Ve[0];Ve=Ve[1];var Nt=Pt.split("_");G=2<=Nt.length&&Nt[1]=="type"?G+(Pt+"="+Ve+"&"):G+(Pt+"=redacted&")}}else G=null;else G=j;return"XMLHTTP REQ ("+_+") [attempt "+V+"]: "+d+`
`+p+`
`+G})}function ik(l,d,p,_,V,j,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+V+"]: "+d+`
`+p+`
`+j+" "+G})}function no(l,d,p,_){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+ak(l,p)+(_?" "+_:"")})}function ok(l,d){l.info(function(){return"TIMEOUT: "+d})}La.prototype.info=function(){};function ak(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var _=p[l];if(!(2>_.length)){var V=_[1];if(Array.isArray(V)&&!(1>V.length)){var j=V[0];if(j!="noop"&&j!="stop"&&j!="close")for(var G=1;G<V.length;G++)V[G]=""}}}}return to(p)}catch{return d}}var $u={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wf;function zu(){}R(zu,yf),zu.prototype.g=function(){return new XMLHttpRequest},zu.prototype.i=function(){return{}},wf=new zu;function ns(l,d,p,_){this.j=l,this.i=d,this.l=p,this.R=_||1,this.U=new ni(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}var Lv={},Ef={};function Tf(l,d,p){l.L=1,l.v=Hu(yr(d)),l.m=p,l.P=!0,jv(l,null)}function jv(l,d){l.F=Date.now(),Bu(l),l.A=yr(l.v);var p=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Xv(p.i,"t",_),l.C=0,p=l.j.J,l.h=new Mv,l.g=g_(l.j,p?d:null,!l.m),0<l.O&&(l.M=new Na(g(l.Y,l,l.g),l.O)),d=l.U,p=l.g,_=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(Da[0]=V.toString()),V=Da);for(var j=0;j<V.length;j++){var G=gf(p,V[j],_||d.handleEvent,!1,d.h||d);if(!G)break;d.g[G.key]=G}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Va(),sk(l.i,l.u,l.A,l.l,l.R,l.m)}ns.prototype.ca=function(l){l=l.target;const d=this.M;d&&vr(l)==3?d.j():this.Y(l)},ns.prototype.Y=function(l){try{if(l==this.g)e:{const Nt=vr(this.g);var d=this.g.Ba();const io=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||i_(this.g)))){this.J||Nt!=4||d==7||(d==8||0>=io?Va(3):Va(2)),Sf(this);var p=this.g.Z();this.X=p;t:if(Fv(this)){var _=i_(this.g);l="";var V=_.length,j=vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){si(this),ja(this);var G="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,l+=this.h.i.decode(_[d],{stream:!(j&&d==V-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=p==200,ik(this.i,this.u,this.A,this.l,this.R,Nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,It=this.g;if((Be=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Be)){var Ve=Be;break t}}Ve=null}if(p=Ve)no(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,If(this,p);else{this.o=!1,this.s=3,Wt(12),si(this),ja(this);break e}}if(this.P){p=!0;let Mn;for(;!this.J&&this.C<G.length;)if(Mn=lk(this,G),Mn==Ef){Nt==4&&(this.s=4,Wt(14),p=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==Lv){this.s=4,Wt(15),no(this.i,this.l,G,"[Invalid Chunk]"),p=!1;break}else no(this.i,this.l,Mn,null),If(this,Mn);if(Fv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||G.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)no(this.i,this.l,G,"[Invalid Chunked Response]"),si(this),ja(this);else if(0<G.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),bf(Pt),Pt.M=!0,Wt(11))}}else no(this.i,this.l,G,null),If(this,G);Nt==4&&si(this),this.o&&!this.J&&(Nt==4?h_(this.j,this):(this.o=!1,Bu(this)))}else xk(this.g),p==400&&0<G.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),si(this),ja(this)}}}catch{}finally{}};function Fv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function lk(l,d){var p=l.C,_=d.indexOf(`
`,p);return _==-1?Ef:(p=Number(d.substring(p,_)),isNaN(p)?Lv:(_+=1,_+p>d.length?Ef:(d=d.slice(_,_+p),l.C=_+p,d)))}ns.prototype.cancel=function(){this.J=!0,si(this)};function Bu(l){l.S=Date.now()+l.I,Uv(l,l.I)}function Uv(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Ma(g(l.ba,l),d)}function Sf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}ns.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(ok(this.i,this.A),this.L!=2&&(Va(),Wt(17)),si(this),this.s=2,ja(this)):Uv(this,this.S-l)};function ja(l){l.j.G==0||l.J||h_(l.j,l)}function si(l){Sf(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Fu(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function If(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||xf(p.h,l))){if(!l.K&&xf(p.h,l)&&p.G==3){try{var _=p.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var V=_;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Xu(p),Yu(p);else break e;kf(p),Wt(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ma(g(p.Za,p),6e3));if(1>=Bv(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else oi(p,11)}else if((l.K||p.g==l)&&Xu(p),!y(d))for(V=p.Da.g.parse(d),d=0;d<V.length;d++){let Ve=V[d];if(p.T=Ve[0],Ve=Ve[1],p.G==2)if(Ve[0]=="c"){p.K=Ve[1],p.ia=Ve[2];const Pt=Ve[3];Pt!=null&&(p.la=Pt,p.j.info("VER="+p.la));const Nt=Ve[4];Nt!=null&&(p.Aa=Nt,p.j.info("SVER="+p.Aa));const io=Ve[5];io!=null&&typeof io=="number"&&0<io&&(_=1.5*io,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Mn=l.g;if(Mn){const ec=Mn.g?Mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ec){var j=_.h;j.g||ec.indexOf("spdy")==-1&&ec.indexOf("quic")==-1&&ec.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Cf(j,j.h),j.h=null))}if(_.D){const Pf=Mn.g?Mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Pf&&(_.ya=Pf,qe(_.I,_.D,Pf))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var G=l;if(_.qa=m_(_,_.J?_.ia:null,_.W),G.K){Wv(_.h,G);var Be=G,It=_.L;It&&(Be.I=It),Be.B&&(Sf(Be),Bu(Be)),_.g=G}else c_(_);0<p.i.length&&Zu(p)}else Ve[0]!="stop"&&Ve[0]!="close"||oi(p,7);else p.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?oi(p,7):Rf(p):Ve[0]!="noop"&&p.l&&p.l.ta(Ve),p.v=0)}}Va(4)}catch{}}var uk=class{constructor(l,d){this.g=l,this.map=d}};function $v(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Bv(l){return l.h?1:l.g?l.g.size:0}function xf(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Cf(l,d){l.g?l.g.add(d):l.h=d}function Wv(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}$v.prototype.cancel=function(){if(this.i=qv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function qv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return T(l.i)}function ck(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],p=l.length,_=0;_<p;_++)d.push(l[_]);return d}d=[],p=0;for(_ in l)d[p++]=l[_];return d}function dk(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const _ in l)d[p++]=_;return d}}}function Hv(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=dk(l),_=ck(l),V=_.length,j=0;j<V;j++)d.call(void 0,_[j],p&&p[j],l)}var Kv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hk(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var _=l[p].indexOf("="),V=null;if(0<=_){var j=l[p].substring(0,_);V=l[p].substring(_+1)}else j=l[p];d(j,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ii(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ii){this.h=l.h,Wu(this,l.j),this.o=l.o,this.g=l.g,qu(this,l.s),this.l=l.l;var d=l.i,p=new $a;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Gv(this,p),this.m=l.m}else l&&(d=String(l).match(Kv))?(this.h=!1,Wu(this,d[1]||"",!0),this.o=Fa(d[2]||""),this.g=Fa(d[3]||"",!0),qu(this,d[4]),this.l=Fa(d[5]||"",!0),Gv(this,d[6]||"",!0),this.m=Fa(d[7]||"")):(this.h=!1,this.i=new $a(null,this.h))}ii.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ua(d,Qv,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ua(d,Qv,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ua(p,p.charAt(0)=="/"?mk:pk,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ua(p,yk)),l.join("")};function yr(l){return new ii(l)}function Wu(l,d,p){l.j=p?Fa(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function qu(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Gv(l,d,p){d instanceof $a?(l.i=d,vk(l.i,l.h)):(p||(d=Ua(d,gk)),l.i=new $a(d,l.h))}function qe(l,d,p){l.i.set(d,p)}function Hu(l){return qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Fa(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ua(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,fk),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function fk(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Qv=/[#\/\?@]/g,pk=/[#\?:]/g,mk=/[#\?]/g,gk=/[#\?@]/g,yk=/#/g;function $a(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function rs(l){l.g||(l.g=new Map,l.h=0,l.i&&hk(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=$a.prototype,t.add=function(l,d){rs(this),this.i=null,l=ro(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Yv(l,d){rs(l),d=ro(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Zv(l,d){return rs(l),d=ro(l,d),l.g.has(d)}t.forEach=function(l,d){rs(this),this.g.forEach(function(p,_){p.forEach(function(V){l.call(d,V,_,this)},this)},this)},t.na=function(){rs(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let _=0;_<d.length;_++){const V=l[_];for(let j=0;j<V.length;j++)p.push(d[_])}return p},t.V=function(l){rs(this);let d=[];if(typeof l=="string")Zv(this,l)&&(d=d.concat(this.g.get(ro(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return rs(this),this.i=null,l=ro(this,l),Zv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Xv(l,d,p){Yv(l,d),0<p.length&&(l.i=null,l.g.set(ro(l,d),T(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var _=d[p];const j=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var V=j;G[_]!==""&&(V+="="+encodeURIComponent(String(G[_]))),l.push(V)}}return this.i=l.join("&")};function ro(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function vk(l,d){d&&!l.j&&(rs(l),l.i=null,l.g.forEach(function(p,_){var V=_.toLowerCase();_!=V&&(Yv(this,_),Xv(this,V,p))},l)),l.j=d}function _k(l,d){const p=new La;if(a.Image){const _=new Image;_.onload=S(ss,p,"TestLoadImage: loaded",!0,d,_),_.onerror=S(ss,p,"TestLoadImage: error",!1,d,_),_.onabort=S(ss,p,"TestLoadImage: abort",!1,d,_),_.ontimeout=S(ss,p,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else d(!1)}function wk(l,d){const p=new La,_=new AbortController,V=setTimeout(()=>{_.abort(),ss(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:_.signal}).then(j=>{clearTimeout(V),j.ok?ss(p,"TestPingServer: ok",!0,d):ss(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),ss(p,"TestPingServer: error",!1,d)})}function ss(l,d,p,_,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),_(p)}catch{}}function Ek(){this.g=new rk}function Tk(l,d,p){const _=p||"";try{Hv(l,function(V,j){let G=V;c(V)&&(G=to(V)),d.push(_+j+"="+encodeURIComponent(G))})}catch(V){throw d.push(_+"type="+encodeURIComponent("_badmap")),V}}function Ku(l){this.l=l.Ub||null,this.j=l.eb||!1}R(Ku,yf),Ku.prototype.g=function(){return new Gu(this.l,this.j)},Ku.prototype.i=function(l){return function(){return l}}({});function Gu(l,d){Re.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Gu,Re),t=Gu.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Ba(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,za(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ba(this)),this.g&&(this.readyState=3,Ba(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?za(this):Ba(this),this.readyState==3&&Jv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,za(this))},t.Qa=function(l){this.g&&(this.response=l,za(this))},t.ga=function(){this.g&&za(this)};function za(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ba(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function Ba(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function e_(l){let d="";return U(l,function(p,_){d+=_,d+=":",d+=p,d+=`\r
`}),d}function Af(l,d,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=e_(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):qe(l,d,p))}function nt(l){Re.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(nt,Re);var Sk=/^https?$/i,Ik=["POST","PUT"];t=nt.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wf.g(),this.v=this.o?kv(this.o):kv(wf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(j){t_(this,j);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var V in _)p.set(V,_[V]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const j of _.keys())p.set(j,_.get(j));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ik,d,void 0))||_||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,G]of p)this.g.setRequestHeader(j,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{s_(this),this.u=!0,this.g.send(l),this.u=!1}catch(j){t_(this,j)}};function t_(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,n_(l),Qu(l)}function n_(l){l.A||(l.A=!0,Pe(l,"complete"),Pe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Pe(this,"complete"),Pe(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?r_(this):this.bb())},t.bb=function(){r_(this)};function r_(l){if(l.h&&typeof o<"u"&&(!l.v[1]||vr(l)!=4||l.Z()!=2)){if(l.u&&vr(l)==4)ju(l.Ea,0,l);else if(Pe(l,"readystatechange"),vr(l)==4){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var _;if(_=G===0){var V=String(l.D).match(Kv)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),_=!Sk.test(V?V.toLowerCase():"")}p=_}if(p)Pe(l,"complete"),Pe(l,"success");else{l.m=6;try{var j=2<vr(l)?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.Z()+"]",n_(l)}}finally{Qu(l)}}}}function Qu(l,d){if(l.g){s_(l);const p=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Pe(l,"ready");try{p.onreadystatechange=_}catch{}}}function s_(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function vr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),nk(d)}};function i_(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function xk(l){const d={};l=(l.g&&2<=vr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(y(l[_]))continue;var p=D(l[_]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=d[V]||[];d[V]=j,j.push(p)}I(d,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function o_(l){this.Aa=0,this.i=[],this.j=new La,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wa("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wa("baseRetryDelayMs",5e3,l),this.cb=Wa("retryDelaySeedMs",1e4,l),this.Wa=Wa("forwardChannelMaxRetries",2,l),this.wa=Wa("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new $v(l&&l.concurrentRequestLimit),this.Da=new Ek,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=o_.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,_){Wt(0),this.W=l,this.H=d||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=m_(this,null,this.W),Zu(this)};function Rf(l){if(a_(l),l.G==3){var d=l.U++,p=yr(l.I);if(qe(p,"SID",l.K),qe(p,"RID",d),qe(p,"TYPE","terminate"),qa(l,p),d=new ns(l,l.j,d),d.L=2,d.v=Hu(yr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=g_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Bu(d)}p_(l)}function Yu(l){l.g&&(bf(l),l.g.cancel(),l.g=null)}function a_(l){Yu(l),l.u&&(a.clearTimeout(l.u),l.u=null),Xu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Zu(l){if(!zv(l.h)&&!l.s){l.s=!0;var d=l.Ga;Me||ae(),K||(Me(),K=!0),re.add(d,l),l.B=0}}function Ck(l,d){return Bv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Ma(g(l.Ga,l,d),f_(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new ns(this,this.j,l);let j=this.o;if(this.S&&(j?(j=v(j),b(j,this.S)):j=this.S),this.m!==null||this.O||(V.H=j,j=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=u_(this,V,d),p=yr(this.I),qe(p,"RID",l),qe(p,"CVER",22),this.D&&qe(p,"X-HTTP-Session-Id",this.D),qa(this,p),j&&(this.O?d="headers="+encodeURIComponent(String(e_(j)))+"&"+d:this.m&&Af(p,this.m,j)),Cf(this.h,V),this.Ua&&qe(p,"TYPE","init"),this.P?(qe(p,"$req",d),qe(p,"SID","null"),V.T=!0,Tf(V,p,null)):Tf(V,p,d),this.G=2}}else this.G==3&&(l?l_(this,l):this.i.length==0||zv(this.h)||l_(this))};function l_(l,d){var p;d?p=d.l:p=l.U++;const _=yr(l.I);qe(_,"SID",l.K),qe(_,"RID",p),qe(_,"AID",l.T),qa(l,_),l.m&&l.o&&Af(_,l.m,l.o),p=new ns(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=u_(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Cf(l.h,p),Tf(p,_,d)}function qa(l,d){l.H&&U(l.H,function(p,_){qe(d,_,p)}),l.l&&Hv({},function(p,_){qe(d,_,p)})}function u_(l,d,p){p=Math.min(l.i.length,p);var _=l.l?g(l.l.Na,l.l,l):null;e:{var V=l.i;let j=-1;for(;;){const G=["count="+p];j==-1?0<p?(j=V[0].g,G.push("ofs="+j)):j=0:G.push("ofs="+j);let Be=!0;for(let It=0;It<p;It++){let Ve=V[It].g;const Pt=V[It].map;if(Ve-=j,0>Ve)j=Math.max(0,V[It].g-100),Be=!1;else try{Tk(Pt,G,"req"+Ve+"_")}catch{_&&_(Pt)}}if(Be){_=G.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,_}function c_(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;Me||ae(),K||(Me(),K=!0),re.add(d,l),l.v=0}}function kf(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Ma(g(l.Fa,l),f_(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,d_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Ma(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),Yu(this),d_(this))};function bf(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function d_(l){l.g=new ns(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=yr(l.qa);qe(d,"RID","rpc"),qe(d,"SID",l.K),qe(d,"AID",l.T),qe(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&qe(d,"TO",l.ja),qe(d,"TYPE","xmlhttp"),qa(l,d),l.m&&l.o&&Af(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=Hu(yr(d)),p.m=null,p.P=!0,jv(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),kf(this),Wt(19))};function Xu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function h_(l,d){var p=null;if(l.g==d){Xu(l),bf(l),l.g=null;var _=2}else if(xf(l.h,d))p=d.D,Wv(l.h,d),_=1;else return;if(l.G!=0){if(d.o)if(_==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var V=l.B;_=Uu(),Pe(_,new Ov(_,p)),Zu(l)}else c_(l);else if(V=d.s,V==3||V==0&&0<d.X||!(_==1&&Ck(l,d)||_==2&&kf(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),V){case 1:oi(l,5);break;case 4:oi(l,10);break;case 3:oi(l,6);break;default:oi(l,2)}}}function f_(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function oi(l,d){if(l.j.info("Error code "+d),d==2){var p=g(l.fb,l),_=l.Xa;const V=!_;_=new ii(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Wu(_,"https"),Hu(_),V?_k(_.toString(),p):wk(_.toString(),p)}else Wt(2);l.G=0,l.l&&l.l.sa(d),p_(l),a_(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function p_(l){if(l.G=0,l.ka=[],l.l){const d=qv(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function m_(l,d,p){var _=p instanceof ii?yr(p):new ii(p);if(_.g!="")d&&(_.g=d+"."+_.g),qu(_,_.s);else{var V=a.location;_=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var j=new ii(null);_&&Wu(j,_),d&&(j.g=d),V&&qu(j,V),p&&(j.l=p),_=j}return p=l.D,d=l.ya,p&&d&&qe(_,p,d),qe(_,"VER",l.la),qa(l,_),_}function g_(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new nt(new Ku({eb:p})):new nt(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function y_(){}t=y_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ju(){}Ju.prototype.g=function(l,d){return new dn(l,d)};function dn(l,d){Re.call(this),this.g=new o_(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new so(this)}R(dn,Re),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Rf(this.g)},dn.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=to(l),l=p);d.i.push(new uk(d.Ya++,l)),d.G==3&&Zu(d)},dn.prototype.N=function(){this.g.l=null,delete this.j,Rf(this.g),delete this.g,dn.aa.N.call(this)};function v_(l){vf.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}R(v_,vf);function __(){_f.call(this),this.status=1}R(__,_f);function so(l){this.g=l}R(so,y_),so.prototype.ua=function(){Pe(this.g,"a")},so.prototype.ta=function(l){Pe(this.g,new v_(l))},so.prototype.sa=function(l){Pe(this.g,new __)},so.prototype.ra=function(){Pe(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,mC=function(){return new Ju},pC=function(){return Uu()},fC=ri,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$u.NO_ERROR=0,$u.TIMEOUT=8,$u.HTTP_ERROR=6,Yc=$u,Vv.COMPLETE="complete",hC=Vv,bv.EventType=Oa,Oa.OPEN="a",Oa.CLOSE="b",Oa.ERROR="c",Oa.MESSAGE="d",Re.prototype.listen=Re.prototype.K,dl=bv,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,dC=nt}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jt.UNAUTHENTICATED=new jt(null),jt.GOOGLE_CREDENTIALS=new jt("google-credentials-uid"),jt.FIRST_PARTY=new jt("first-party-uid"),jt.MOCK_USER=new jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ca="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new Iy("@firebase/firestore");function ho(){return Ui.logLevel}function ee(t,...e){if(Ui.logLevel<=Ce.DEBUG){const n=e.map(Ly);Ui.debug(`Firestore (${Ca}): ${t}`,...n)}}function Wr(t,...e){if(Ui.logLevel<=Ce.ERROR){const n=e.map(Ly);Ui.error(`Firestore (${Ca}): ${t}`,...n)}}function la(t,...e){if(Ui.logLevel<=Ce.WARN){const n=e.map(Ly);Ui.warn(`Firestore (${Ca}): ${t}`,...n)}}function Ly(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t="Unexpected state"){const e=`FIRESTORE (${Ca}) INTERNAL ASSERTION FAILED: `+t;throw Wr(e),new Error(e)}function Fe(t,e){t||de()}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(jt.UNAUTHENTICATED))}shutdown(){}}class HL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KL{constructor(e){this.t=e,this.currentUser=jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Fe(typeof r.accessToken=="string"),new gC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string"),new jt(e)}}class GL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class QL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new GL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Fe(this.o===void 0);const r=i=>{i.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string"),this.R=n.token,new YL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=XL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function ua(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new vt(0,0))}static max(){return new fe(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(),r===void 0?r=e.length-n:r>e.length-n&&de(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=er.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=er.isNumericId(e),s=er.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?er.extractNumericId(e).compare(er.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class Ye extends er{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const JL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends er{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return JL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ie(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ie(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ie(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(Ye.fromString(e))}static fromName(e){return new le(Ye.fromString(e).popFirst(5))}static empty(){return new le(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new Ye(e.slice()))}}function ej(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new zs(s,le.empty(),e)}function tj(t){return new zs(t.readTime,t.key,-1)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(fe.min(),le.empty(),-1)}static max(){return new zs(fe.max(),le.empty(),-1)}}function nj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==rj)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ij(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ra(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hh.oe=-1;function Kh(t){return t==null}function Ud(t){return t===0&&1/t==-1/0}function oj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ud(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=A0(e)),e=lj(t.get(n),e);return A0(e)}function lj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case"":n+="";break;default:n+=i}}return n}function A0(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=s??Ct.EMPTY,this.right=i??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new qn([])}unionWith(e){let n=new _t(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new _C("Invalid base64 string: "+i):i}}(e);return new bt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bt.EMPTY_BYTE_STRING=new bt("");const uj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bs(t){if(Fe(!!t),typeof t=="string"){let e=0;const n=uj.exec(t);if(Fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?bt.fromBase64String(t):bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Gh(t){const e=t.mapValue.fields.__previous_value__;return jy(e)?Gh(e):e}function ou(t){const e=Bs(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class au{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jy(t)?4:hj(t)?9007199254740991:dj(t)?10:11:de()}function pr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ou(t).isEqual(ou(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Bs(s.timestampValue),a=Bs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ws(s.bytesValue).isEqual(Ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?Ud(o)===Ud(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ua(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(R0(o)!==R0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!pr(o[u],a[u])))return!1;return!0}(t,e);default:return de()}}function lu(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),u=lt(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return b0(t.timestampValue,e.timestampValue);case 4:return b0(ou(t),ou(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ws(i),u=Ws(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=ke(a[c],u[c]);if(h!==0)return h}return ke(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ke(lt(i.latitude),lt(o.latitude));return a!==0?a:ke(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return P0(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,h;const f=i.fields||{},g=o.fields||{},S=(a=f.value)===null||a===void 0?void 0:a.arrayValue,R=(u=g.value)===null||u===void 0?void 0:u.arrayValue,T=ke(((c=S==null?void 0:S.values)===null||c===void 0?void 0:c.length)||0,((h=R==null?void 0:R.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:P0(S,R)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===xc.mapValue&&o===xc.mapValue)return 0;if(i===xc.mapValue)return 1;if(o===xc.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const g=ke(u[f],h[f]);if(g!==0)return g;const S=ca(a[u[f]],c[h[f]]);if(S!==0)return S}return ke(u.length,h.length)}(t.mapValue,e.mapValue);default:throw de()}}function b0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Bs(t),r=Bs(e),s=ke(n.seconds,r.seconds);return s!==0?s:ke(n.nanos,r.nanos)}function P0(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ca(n[s],r[s]);if(i)return i}return ke(n.length,r.length)}function da(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Bs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ws(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=zm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${zm(n.fields[o])}`;return s+"}"}(t.mapValue):de()}function Zc(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Gh(t);return e?16+Zc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ws(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Zc(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ki(r.fields,(i,o)=>{s+=i.length+Zc(o)}),s}(t.mapValue);default:throw de()}}function Bm(t){return!!t&&"integerValue"in t}function Fy(t){return!!t&&"arrayValue"in t}function N0(t){return!!t&&"nullValue"in t}function D0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xc(t){return!!t&&"mapValue"in t}function dj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ki(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Cn(kl(this.value))}}function wC(t){const e=[];return Ki(t.fields,(n,r)=>{const s=new At([n]);if(Xc(r)){const i=wC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ut(e,0,fe.min(),fe.min(),fe.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,s){return new Ut(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Ut(e,2,n,fe.min(),fe.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,fe.min(),fe.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n){this.position=e,this.inclusive=n}}function O0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n="asc"){this.field=e,this.dir=n}}function fj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{}class gt extends EC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mj(e,n,r):n==="array-contains"?new vj(e,r):n==="in"?new _j(e,r):n==="not-in"?new wj(e,r):n==="array-contains-any"?new Ej(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gj(e,r):new yj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends EC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new mr(e,n)}matches(e){return TC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function TC(t){return t.op==="and"}function SC(t){return pj(t)&&TC(t)}function pj(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Wm(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+da(t.value);if(SC(t))return t.filters.map(e=>Wm(e)).join(",");{const e=t.filters.map(n=>Wm(n)).join(",");return`${t.op}(${e})`}}function IC(t,e){return t instanceof gt?function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&pr(r.value,s.value)}(t,e):t instanceof mr?function(r,s){return s instanceof mr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&IC(o,s.filters[a]),!0):!1}(t,e):void de()}function xC(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${da(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(xC).join(" ,")+"}"}(t):"Filter"}class mj extends gt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class gj extends gt{constructor(e,n){super(e,"in",n),this.keys=CC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class yj extends gt{constructor(e,n){super(e,"not-in",n),this.keys=CC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function CC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class vj extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fy(n)&&lu(n.arrayValue,this.value)}}class _j extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class wj extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!lu(this.value.arrayValue,n)}}class Ej extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function M0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Tj(t,e,n,r,s,i,o)}function Uy(t){const e=me(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>da(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>da(r)).join(",")),e.ue=n}return e.ue}function $y(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!IC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V0(t.startAt,e.startAt)&&V0(t.endAt,e.endAt)}function qm(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sj(t,e,n,r,s,i,o,a){return new Qh(t,e,n,r,s,i,o,a)}function zy(t){return new Qh(t)}function L0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Ij(t){return t.collectionGroup!==null}function bl(t){const e=me(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new _t(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new zd(i,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new zd(At.keyField(),r))}return e.ce}function cr(t){const e=me(t);return e.le||(e.le=xj(e,bl(t))),e.le}function xj(t,e){if(t.limitType==="F")return M0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new zd(s.field,i)});const n=t.endAt?new $d(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $d(t.startAt.position,t.startAt.inclusive):null;return M0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hm(t,e,n){return new Qh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yh(t,e){return $y(cr(t),cr(e))&&t.limitType===e.limitType}function AC(t){return`${Uy(cr(t))}|lt:${t.limitType}`}function fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xC(s)).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>da(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>da(s)).join(",")),`Target(${r})`}(cr(t))}; limitType=${t.limitType})`}function Zh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=O0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,bl(r),s)||r.endAt&&!function(o,a,u){const c=O0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,bl(r),s))}(t,e)}function Cj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RC(t){return(e,n)=>{let r=!1;for(const s of bl(t)){const i=Aj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Aj(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?ca(u,c):de()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return vC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=new et(le.comparator);function qr(){return Rj}const kC=new et(le.comparator);function hl(...t){let e=kC;for(const n of t)e=e.insert(n.key,n);return e}function bC(t){let e=kC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Pl()}function PC(){return Pl()}function Pl(){return new Gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const kj=new et(le.comparator),bj=new _t(le.comparator);function Ae(...t){let e=bj;for(const n of t)e=e.add(n);return e}const Pj=new _t(ke);function Nj(){return Pj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ud(e)?"-0":e}}function NC(t){return{integerValue:""+t}}function Dj(t,e){return oj(e)?NC(e):By(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function Oj(t,e,n){return t instanceof Bd?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&jy(i)&&(i=Gh(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof uu?OC(t,e):t instanceof cu?VC(t,e):function(s,i){const o=DC(s,i),a=j0(o)+j0(s.Pe);return Bm(o)&&Bm(s.Pe)?NC(a):By(s.serializer,a)}(t,e)}function Vj(t,e,n){return t instanceof uu?OC(t,e):t instanceof cu?VC(t,e):n}function DC(t,e){return t instanceof Wd?function(r){return Bm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Bd extends Xh{}class uu extends Xh{constructor(e){super(),this.elements=e}}function OC(t,e){const n=MC(e);for(const r of t.elements)n.some(s=>pr(s,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends Xh{constructor(e){super(),this.elements=e}}function VC(t,e){let n=MC(e);for(const r of t.elements)n=n.filter(s=>!pr(s,r));return{arrayValue:{values:n}}}class Wd extends Xh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function j0(t){return lt(t.integerValue||t.doubleValue)}function MC(t){return Fy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Mj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof uu&&s instanceof uu||r instanceof cu&&s instanceof cu?ua(r.elements,s.elements,pr):r instanceof Wd&&s instanceof Wd?pr(r.Pe,s.Pe):r instanceof Bd&&s instanceof Bd}(t.transform,e.transform)}class Lj{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jh{}function LC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wy(t.key,dr.none()):new ku(t.key,t.data,dr.none());{const n=t.data,r=Cn.empty();let s=new _t(At.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qi(t.key,r,new qn(s.toArray()),dr.none())}}function jj(t,e,n){t instanceof ku?function(s,i,o){const a=s.value.clone(),u=U0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qi?function(s,i,o){if(!Jc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=U0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(jC(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof ku?function(i,o,a,u){if(!Jc(i.precondition,o))return a;const c=i.value.clone(),h=$0(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qi?function(i,o,a,u){if(!Jc(i.precondition,o))return a;const c=$0(i.fieldTransforms,u,o),h=o.data;return h.setAll(jC(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Jc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Fj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=DC(r.transform,s||null);i!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,i))}return n||null}function F0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ua(r,s,(i,o)=>Mj(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ku extends Jh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qi extends Jh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function jC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function U0(t,e,n){const r=new Map;Fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Vj(o,a,n[s]))}return r}function $0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Oj(i,o,e))}return r}class Wy extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uj extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $j{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&jj(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=PC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=LC(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(n,r)=>F0(n,r))&&ua(this.baseMutations,e.baseMutations,(n,r)=>F0(n,r))}}class qy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Fe(e.mutations.length===r.length);let s=function(){return kj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new qy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zj=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function Wj(t){switch(t){default:return de();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function FC(t){if(t===void 0)return Wr("GRPC error has no .code"),B.UNKNOWN;switch(t){case dt.OK:return B.OK;case dt.CANCELLED:return B.CANCELLED;case dt.UNKNOWN:return B.UNKNOWN;case dt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case dt.INTERNAL:return B.INTERNAL;case dt.UNAVAILABLE:return B.UNAVAILABLE;case dt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case dt.NOT_FOUND:return B.NOT_FOUND;case dt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case dt.ABORTED:return B.ABORTED;case dt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case dt.DATA_LOSS:return B.DATA_LOSS;default:return de()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new js([4294967295,4294967295],0);function z0(t){const e=qj().encode(t),n=new cC;return n.update(e),new Uint8Array(n.digest())}function B0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new js([n,r],0),new js([s,i],0)]}class Hy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fl(`Invalid padding: ${n}`);if(r<0)throw new fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fl(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=js.fromNumber(this.Te)}de(e,n,r){let s=e.add(n.multiply(js.fromNumber(r)));return s.compare(Hj)===1&&(s=new js([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=z0(e),[r,s]=B0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);if(!this.Ee(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=z0(e),[r,s]=B0(n);for(let i=0;i<this.hashCount;i++){const o=this.de(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ef(fe.min(),s,new et(ke),qr(),Ae())}}class bu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bu(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class UC{constructor(e,n){this.targetId=e,this.me=n}}class $C{constructor(e,n,r=bt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class W0{constructor(){this.fe=0,this.ge=q0(),this.pe=bt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de()}}),new bu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=q0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Kj{constructor(e){this.Be=e,this.Le=new Map,this.ke=qr(),this.qe=Cc(),this.Qe=Cc(),this.Ke=new et(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:de()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Le.forEach((r,s)=>{this.je(s)&&n(s)})}Je(e){const n=e.targetId,r=e.me.count,s=this.Ye(n);if(s){const i=s.target;if(qm(i))if(r===0){const o=new le(i.path);this.We(n,o,Ut.newNoDocument(o,fe.min()))}else Fe(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),u=a?this.et(a,e,o):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ws(r).toUint8Array()}catch(u){if(u instanceof _C)return la("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Hy(o,s,i)}catch(u){return la(u instanceof fl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Te===0?null:a}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Be.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),s++)}),s}it(e){const n=new Map;this.Le.forEach((i,o)=>{const a=this.Ye(o);if(a){if(i.current&&qm(a.target)){const u=new le(a.target.path);this.st(u).has(o)||this.ot(o,u)||this.We(o,u,Ut.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ae();this.Qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new ef(e,n,this.Ke,this.ke,r);return this.ke=qr(),this.qe=Cc(),this.Qe=Cc(),this.Ke=new et(ke),s}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const s=this.ze(e);this.ot(e,n)?s.Fe(n,1):s.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Le.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Le.get(e);return n||(n=new W0,this.Le.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new _t(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Le.get(e);return n&&n.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new W0),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function Cc(){return new et(le.comparator)}function q0(){return new et(le.comparator)}const Gj={asc:"ASCENDING",desc:"DESCENDING"},Qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yj={and:"AND",or:"OR"};class Zj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||Kh(e)?e:{value:e}}function qd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xj(t,e){return qd(t,e.toTimestamp())}function hr(t){return Fe(!!t),fe.fromTimestamp(function(n){const r=Bs(n);return new vt(r.seconds,r.nanos)}(t))}function Ky(t,e){return Gm(t,e).canonicalString()}function Gm(t,e){const n=function(s){return new Ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function BC(t){const e=Ye.fromString(t);return Fe(GC(e)),e}function Qm(t,e){return Ky(t.databaseId,e.path)}function vp(t,e){const n=BC(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(qC(n))}function WC(t,e){return Ky(t.databaseId,e)}function Jj(t){const e=BC(t);return e.length===4?Ye.emptyPath():qC(e)}function Ym(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qC(t){return Fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function H0(t,e,n){return{name:Qm(t,e),fields:n.value.mapValue.fields}}function eF(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:de()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Fe(h===void 0||typeof h=="string"),bt.fromBase64String(h||"")):(Fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),bt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:FC(c.code);return new ie(h,c.message||"")}(o);n=new $C(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=vp(t,r.document.name),i=hr(r.document.updateTime),o=r.document.createTime?hr(r.document.createTime):fe.min(),a=new Cn({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new ed(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=vp(t,r.document),i=r.readTime?hr(r.readTime):fe.min(),o=Ut.newNoDocument(s,i),a=r.removedTargetIds||[];n=new ed([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=vp(t,r.document),i=r.removedTargetIds||[];n=new ed([],i,s,null)}else{if(!("filter"in e))return de();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Bj(s,i),a=r.targetId;n=new UC(a,o)}}return n}function tF(t,e){let n;if(e instanceof ku)n={update:H0(t,e.key,e.value)};else if(e instanceof Wy)n={delete:Qm(t,e.key)};else if(e instanceof Qi)n={update:H0(t,e.key,e.data),updateMask:cF(e.fieldMask)};else{if(!(e instanceof Uj))return de();n={verify:Qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Bd)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw de()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Xj(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de()}(t,e.precondition)),n}function nF(t,e){return t&&t.length>0?(Fe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?hr(s.updateTime):hr(i);return o.isEqual(fe.min())&&(o=hr(i)),new Lj(o,s.transformResults||[])}(n,e))):[]}function rF(t,e){return{documents:[WC(t,e.path)]}}function sF(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=WC(t,s);const i=function(c){if(c.length!==0)return KC(mr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:po(g.field),direction:aF(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Km(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:s}}function iF(t){let e=Jj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Fe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const g=HC(f);return g instanceof mr&&SC(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(R){return new zd(mo(R.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Kh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,S=f.values||[];return new $d(S,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,S=f.values||[];return new $d(S,g)}(n.endAt)),Sj(e,s,o,i,a,"F",u,c)}function oF(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=mo(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=mo(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=mo(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=mo(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(mo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(r=>HC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de()}}(n.compositeFilter.op))}(t):de()}function aF(t){return Gj[t]}function lF(t){return Qj[t]}function uF(t){return Yj[t]}function po(t){return{fieldPath:t.canonicalString()}}function mo(t){return At.fromServerFormat(t.fieldPath)}function KC(t){return t instanceof gt?function(n){if(n.op==="=="){if(D0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NAN"}};if(N0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(D0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NAN"}};if(N0(n.value))return{unaryFilter:{field:po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:po(n.field),op:lF(n.op),value:n.value}}}(t):t instanceof mr?function(n){const r=n.getFilters().map(s=>KC(s));return r.length===1?r[0]:{compositeFilter:{op:uF(n.op),filters:r}}}(t):de()}function cF(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function GC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=bt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dF{constructor(e){this.ht=e}}function hF(t){const e=iF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fF{constructor(){this.ln=new pF}addToCollectionParentIndex(e,n){return this.ln.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(zs.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class pF{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new _t(Ye.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new _t(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(41943040,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ha(0)}static Qn(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0([t,e],[n,r]){const s=ke(t,n);return s===0?ke(e,r):s}class mF{constructor(e){this.Gn=e,this.buffer=new _t(G0),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();G0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ra(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Aa(n)}await this.Yn(3e5)})}}class yF{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(Hh.oe);const r=new mF(n);return this.Zn.forEachTarget(e,s=>r.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>r.Hn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(K0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K0):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,s,i,o,a,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),ho()<=Ce.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${f} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function vF(t,e){return new yF(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(){this.changes=new Gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EF{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nl(r.mutation,s,qn.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const s=vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=hl();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=qr();const o=Pl(),a=function(){return Pl()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Qi)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Nl(h.mutation,c,h.mutation.getFieldMask(),vt.now())):o.set(c.key,qn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new wF(h,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pl();let s=new et((o,a)=>o-a),i=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||qn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(s.get(a.batchId)||Ae()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=PC();h.forEach(g=>{if(!i.has(g)){const S=LC(n.get(g),r.get(g));S!==null&&f.set(g,S),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Ij(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(vi());let a=-1,u=i;return o.next(c=>$.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,Ae())).next(h=>({batchId:a,changes:bC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=hl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=hl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,u=>{const c=function(f,g){return new Qh(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Ut.newInvalidDocument(h)))});let a=hl();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&Nl(h.mutation,c,qn.empty(),vt.now()),Zh(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return $.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:hr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(s){return{name:s.name,query:hF(s.bundledQuery),readTime:hr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.overlays=new et(le.comparator),this.dr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Tt(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.dr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.dr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=vi(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=vi(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=vi(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return $.resolve(a)}Tt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.dr.get(s.largestBatchId).delete(r.key);this.dr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zj(n,r));let i=this.dr.get(n);i===void 0&&(i=Ae(),this.dr.set(n,i)),this.dr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.sessionToken=bt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(){this.Er=new _t(Et.Ar),this.Rr=new _t(Et.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,n){const r=new Et(e,n);this.Er=this.Er.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new le(new Ye([])),r=new Et(n,e),s=new Et(n,e+1),i=[];return this.Rr.forEachInRange([r,s],o=>{this.gr(o),i.push(o.key)}),i}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new le(new Ye([])),r=new Et(n,e),s=new Et(n,e+1);let i=Ae();return this.Rr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Et(e,0),r=this.Er.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return le.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new _t(Et.Ar)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $j(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.vr=this.vr.add(new Et(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Fr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Et(n,0),s=new Et(n,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([r,s],o=>{const a=this.Cr(o.br);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _t(ke);return n.forEach(s=>{const i=new Et(s,0),o=new Et(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([i,o],a=>{r=r.add(a.br)})}),$.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Et(new le(i),0);let a=new _t(ke);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.br)),!0)},o),$.resolve(this.Mr(a))}Mr(e){const n=[];return e.forEach(r=>{const s=this.Cr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Fe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return $.forEach(n.mutations,s=>{const i=new Et(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=r})}Bn(e){}containsKey(e,n){const r=new Et(n,0),s=this.vr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e){this.Nr=e,this.docs=function(){return new et(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=qr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ut.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=qr();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||nj(tj(h),r)<=0||(s.has(h.key)||Zh(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de()}Br(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AF(this)}getSize(e){return $.resolve(this.size)}}class AF extends _F{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.hr.addEntry(e,s)):this.hr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e){this.persistence=e,this.Lr=new Gi(n=>Uy(n),$y),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.kr=0,this.qr=new Gy,this.targetCount=0,this.Qr=ha.qn()}forEachTarget(e,n){return this.Lr.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),$.resolve()}Un(e){this.Lr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ha(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Un(n),$.resolve()}removeTargetData(e,n){return this.Lr.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Lr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Lr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Lr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Hh(0),this.Ur=!1,this.Ur=!0,this.Wr=new IF,this.referenceDelegate=e(this),this.Gr=new RF(this),this.indexManager=new fF,this.remoteDocumentCache=function(s){return new CF(s)}(r=>this.referenceDelegate.zr(r)),this.serializer=new dF(n),this.jr=new TF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SF,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new xF(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new kF(this.$r.next());return this.referenceDelegate.Hr(),r(s).next(i=>this.referenceDelegate.Jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Yr(e,n){return $.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class kF extends sj{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Zr=new Gy,this.Xr=null}static ei(e){return new Qy(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),$.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(s=>this.ti.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.ti.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ti,r=>{const s=le.fromPath(r);return this.ni(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return $.or([()=>$.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class Hd{constructor(e,n){this.persistence=e,this.ri=new Gi(r=>aj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vF(this,n)}static ei(e,n){return new Hd(e,n)}Hr(){}Jr(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return $.forEach(this.ri,(r,s)=>this.ir(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Br(e,o=>this.ir(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),$.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Zc(e.data.value)),n}ir(e,n,r){return $.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.ri.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=s}static zi(e,n){let r=Ae(),s=Ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Yy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return rV()?8:ij(zt())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Xi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.es(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new bF;return this.ts(e,n,o).next(a=>{if(i.result=a,this.Hi)return this.ns(e,n,o,a.size)})}).next(()=>i.result)}ns(e,n,r,s){return r.documentReadCount<this.Ji?(ho()<=Ce.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),$.resolve()):(ho()<=Ce.DEBUG&&ee("QueryEngine","Query:",fo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Yi*s?(ho()<=Ce.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):$.resolve())}Xi(e,n){if(L0(n))return $.resolve(null);let r=cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hm(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ae(...i);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,a);return this.ss(n,c,o,u.readTime)?this.Xi(e,Hm(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,s){return L0(n)||s.isEqual(fe.min())?$.resolve(null):this.Zi.getDocuments(e,r).next(i=>{const o=this.rs(n,i);return this.ss(n,o,r,s)?$.resolve(null):(ho()<=Ce.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),fo(n)),this.os(e,o,n,ej(s,-1)).next(a=>a))})}rs(e,n){let r=new _t(RC(e));return n.forEach((s,i)=>{Zh(e,i)&&(r=r.add(i))}),r}ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ts(e,n,r){return ho()<=Ce.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",fo(n)),this.Zi.getDocumentsMatchingQuery(e,n,zs.min(),r)}os(e,n,r,s){return this.Zi.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e,n,r,s){this.persistence=e,this._s=n,this.serializer=s,this.us=new et(ke),this.cs=new Gi(i=>Uy(i),$y),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EF(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function DF(t,e,n,r){return new NF(t,e,n,r)}async function YC(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=Ae();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function OF(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.hs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,g=f.keys();let S=$.resolve();return g.forEach(R=>{S=S.next(()=>h.getEntry(u,R)).next(T=>{const A=c.docVersions.get(R);Fe(A!==null),T.version.compareTo(A)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),S.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ae();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZC(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function VF(t,e){const n=me(t),r=e.snapshotVersion;let s=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.hs.newChangeBuffer({trackRemovals:!0});s=n.us;const a=[];e.targetChanges.forEach((h,f)=>{const g=s.get(f);if(!g)return;a.push(n.Gr.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Gr.addMatchingKeys(i,h.addedDocuments,f)));let S=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?S=S.withResumeToken(bt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),s=s.insert(f,S),function(T,A,E){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,S,h)&&a.push(n.Gr.updateTargetData(i,S))});let u=qr(),c=Ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(MF(i,o,e.documentUpdates).next(h=>{u=h.Is,c=h.ds})),!r.isEqual(fe.min())){const h=n.Gr.getLastRemoteSnapshotVersion(i).next(f=>n.Gr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.us=s,i))}function MF(t,e,n){let r=Ae(),s=Ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=qr();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(fe.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Is:o,ds:s}})}function LF(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jF(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Gr.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Gr.allocateTargetId(r).next(o=>(s=new Cs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.us.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Zm(t,e,n){const r=me(t),s=r.us.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ra(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(s.target)}function Q0(t,e,n){const r=me(t);let s=fe.min(),i=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const f=me(u),g=f.cs.get(h);return g!==void 0?$.resolve(f.us.get(g)):f.Gr.getTargetData(c,h)}(r,o,cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ae())).next(a=>(FF(r,Cj(e),a),{documents:a,Es:i})))}function FF(t,e,n){let r=t.ls.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ls.set(e,r)}class Y0{constructor(){this.activeTargetIds=Nj()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UF{constructor(){this._o=new Y0,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Y0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function _p(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class WF extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${s}/databases/${i}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Oo(n,r,s,i,o){const a=_p(),u=this.No(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(c,i,o),this.Lo(n,u,c,s).then(h=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw la("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",s),h})}ko(n,r,s,i,o,a){return this.Oo(n,r,s,i,o)}Bo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ca}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}No(n,r){const s=zF[n];return`${this.Fo}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,n,r,s){const i=_p();return new Promise((o,a)=>{const u=new dC;u.setWithCredentials(!0),u.listenOnce(hC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Yc.NO_ERROR:const h=u.getResponseJson();ee(Mt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case Yc.TIMEOUT:ee(Mt,`RPC '${e}' ${i} timed out`),a(new ie(B.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const f=u.getStatus();if(ee(Mt,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const S=g==null?void 0:g.error;if(S&&S.status&&S.message){const R=function(A){const E=A.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(E)>=0?E:B.UNKNOWN}(S.status);a(new ie(R,S.message))}else a(new ie(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ie(B.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{ee(Mt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ee(Mt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}qo(e,n,r){const s=_p(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=mC(),a=pC(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Bo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");ee(Mt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const f=o.createWebChannel(h,u);let g=!1,S=!1;const R=new BF({Eo:A=>{S?ee(Mt,`Not sending because RPC '${e}' stream ${s} is closed:`,A):(g||(ee(Mt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),ee(Mt,`RPC '${e}' stream ${s} sending:`,A),f.send(A))},Ao:()=>f.close()}),T=(A,E,y)=>{A.listen(E,C=>{try{y(C)}catch(O){setTimeout(()=>{throw O},0)}})};return T(f,dl.EventType.OPEN,()=>{S||(ee(Mt,`RPC '${e}' stream ${s} transport opened.`),R.So())}),T(f,dl.EventType.CLOSE,()=>{S||(S=!0,ee(Mt,`RPC '${e}' stream ${s} transport closed`),R.Do())}),T(f,dl.EventType.ERROR,A=>{S||(S=!0,la(Mt,`RPC '${e}' stream ${s} transport errored:`,A),R.Do(new ie(B.UNAVAILABLE,"The operation could not be completed")))}),T(f,dl.EventType.MESSAGE,A=>{var E;if(!S){const y=A.data[0];Fe(!!y);const C=y,O=(C==null?void 0:C.error)||((E=C[0])===null||E===void 0?void 0:E.error);if(O){ee(Mt,`RPC '${e}' stream ${s} received error:`,O);const M=O.status;let U=function(x){const b=dt[x];if(b!==void 0)return FC(b)}(M),I=O.message;U===void 0&&(U=B.INTERNAL,I="Unknown error status: "+M+" with message "+O.message),S=!0,R.Do(new ie(U,I)),f.close()}else ee(Mt,`RPC '${e}' stream ${s} received:`,y),R.vo(y)}}),T(a,fC.STAT_EVENT,A=>{A.stat===$m.PROXY?ee(Mt,`RPC '${e}' stream ${s} detected buffering proxy`):A.stat===$m.NOPROXY&&ee(Mt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.bo()},0),R}}function wp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(t){return new Zj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=s,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,n,r,s,i,o,a,u){this.li=e,this.Yo=r,this.Zo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new XC(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Wr(n.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Xo===n&&this.I_(r,s)},r=>{e(()=>{const s=new ie(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.d_(s)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.E_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{r(()=>this.d_(s))}),this.stream.onMessage(s=>{r(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qF extends JC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}E_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=eF(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?hr(o.readTime):fe.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=qm(u)?{documents:rF(i,u)}:{query:sF(i,u).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zC(i,o.resumeToken);const c=Km(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=qd(i,o.snapshotVersion.toTimestamp());const c=Km(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=oF(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.c_(n)}}class HF extends JC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,n){return this.connection.qo("Write",e,n)}A_(e){return Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=nF(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Ym(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>tF(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Oo(e,Gm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(B.UNKNOWN,i.toString())})}ko(e,n,r,s,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,Gm(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie(B.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class GF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wr(n),this.C_=!1):ee("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo(o=>{r.enqueueAndForget(async()=>{Yi(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=me(u);c.k_.add(4),await Pu(c),c.K_.set("Unknown"),c.k_.delete(4),await nf(c)}(this))})}),this.K_=new GF(r,s)}}async function nf(t){if(Yi(t))for(const e of t.q_)await e(!0)}async function Pu(t){for(const e of t.q_)await e(!1)}function e1(t,e){const n=me(t);n.L_.has(e.targetId)||(n.L_.set(e.targetId,e),ev(n)?Jy(n):ka(n).s_()&&Xy(n,e))}function Zy(t,e){const n=me(t),r=ka(n);n.L_.delete(e),r.s_()&&t1(n,e),n.L_.size===0&&(r.s_()?r.a_():Yi(n)&&n.K_.set("Unknown"))}function Xy(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).V_(e)}function t1(t,e){t.U_.xe(e),ka(t).m_(e)}function Jy(t){t.U_=new Kj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.L_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.K_.F_()}function ev(t){return Yi(t)&&!ka(t).i_()&&t.L_.size>0}function Yi(t){return me(t).k_.size===0}function n1(t){t.U_=void 0}async function YF(t){t.K_.set("Online")}async function ZF(t){t.L_.forEach((e,n)=>{Xy(t,e)})}async function XF(t,e){n1(t),ev(t)?(t.K_.O_(e),Jy(t)):t.K_.set("Unknown")}async function JF(t,e,n){if(t.K_.set("Online"),e instanceof $C&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.L_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.L_.delete(a),s.U_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kd(t,r)}else if(e instanceof ed?t.U_.$e(e):e instanceof UC?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(fe.min()))try{const r=await ZC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.U_.it(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i.L_.get(c);h&&i.L_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=i.L_.get(u);if(!h)return;i.L_.set(u,h.withResumeToken(bt.EMPTY_BYTE_STRING,h.snapshotVersion)),t1(i,u);const f=new Cs(h.target,u,c,h.sequenceNumber);Xy(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await Kd(t,r)}}async function Kd(t,e,n){if(!Ra(e))throw e;t.k_.add(1),await Pu(t),t.K_.set("Offline"),n||(n=()=>ZC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await nf(t)})}function r1(t,e){return e().catch(n=>Kd(t,n,e))}async function rf(t){const e=me(t),n=Hs(e);let r=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;e4(e);)try{const s=await LF(e.localStore,r);if(s===null){e.B_.length===0&&n.a_();break}r=s.batchId,t4(e,s)}catch(s){await Kd(e,s)}s1(e)&&i1(e)}function e4(t){return Yi(t)&&t.B_.length<10}function t4(t,e){t.B_.push(e);const n=Hs(t);n.s_()&&n.f_&&n.g_(e.mutations)}function s1(t){return Yi(t)&&!Hs(t).i_()&&t.B_.length>0}function i1(t){Hs(t).start()}async function n4(t){Hs(t).w_()}async function r4(t){const e=Hs(t);for(const n of t.B_)e.g_(n.mutations)}async function s4(t,e,n){const r=t.B_.shift(),s=qy.from(r,e,n);await r1(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await rf(t)}async function i4(t,e){e&&Hs(t).f_&&await async function(r,s){if(function(o){return Wj(o)&&o!==B.ABORTED}(s.code)){const i=r.B_.shift();Hs(r).__(),await r1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await rf(r)}}(t,e),s1(t)&&i1(t)}async function X0(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Yi(n);n.k_.add(3),await Pu(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await nf(n)}async function o4(t,e){const n=me(t);e?(n.k_.delete(2),await nf(n)):e||(n.k_.add(2),await Pu(n),n.K_.set("Unknown"))}function ka(t){return t.W_||(t.W_=function(n,r,s){const i=me(n);return i.b_(),new qF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:YF.bind(null,t),mo:ZF.bind(null,t),po:XF.bind(null,t),R_:JF.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),ev(t)?Jy(t):t.K_.set("Unknown")):(await t.W_.stop(),n1(t))})),t.W_}function Hs(t){return t.G_||(t.G_=function(n,r,s){const i=me(n);return i.b_(),new HF(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:n4.bind(null,t),po:i4.bind(null,t),p_:r4.bind(null,t),y_:s4.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await rf(t)):(await t.G_.stop(),t.B_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.B_.length} pending writes`),t.B_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new tv(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nv(t,e){if(Wr("AsyncQueue",`${e}: ${t}`),Ra(t))return new ie(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{static emptySet(e){return new Uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=hl(),this.sortedSet=new et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(){this.z_=new et(le.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):de():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fa{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fa(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class l4{constructor(){this.queries=eE(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=eE(),i.forEach((o,a)=>{for(const u of a.J_)u.onError(r)})})(this,new ie(B.ABORTED,"Firestore shutting down"))}}function eE(){return new Gi(t=>AC(t),Yh)}async function o1(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Y_()&&e.Z_()&&(r=2):(i=new a4,r=e.Z_()?0:1);try{switch(r){case 0:i.H_=await n.onListen(s,!0);break;case 1:i.H_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=nv(o,`Initialization of query '${fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.J_.push(e),e.ea(n.onlineState),i.H_&&e.ta(i.H_)&&rv(n)}async function a1(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.J_.indexOf(e);o>=0&&(i.J_.splice(o,1),i.J_.length===0?s=e.Z_()?0:1:!i.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function u4(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.J_)a.ta(s)&&(r=!0);o.H_=s}}r&&rv(n)}function c4(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.J_)i.onError(n);r.queries.delete(e)}function rv(t){t.X_.forEach(e=>{e.next()})}var Xm,tE;(tE=Xm||(Xm={})).na="default",tE.Cache="cache";class l1{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class d4{constructor(e,n){this.query=e,this.Ea=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ae(),this.mutatedKeys=Ae(),this.Va=RC(e),this.ma=new Uo(this.Va)}get fa(){return this.Ea}ga(e,n){const r=n?n.pa:new J0,s=n?n.ma:this.ma;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const g=s.get(h),S=Zh(this.query,f)?f:null,R=!!g&&this.mutatedKeys.has(g.key),T=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let A=!1;g&&S?g.data.isEqual(S.data)?R!==T&&(r.track({type:3,doc:S}),A=!0):this.ya(g,S)||(r.track({type:2,doc:S}),A=!0,(u&&this.Va(S,u)>0||c&&this.Va(S,c)<0)&&(a=!0)):!g&&S?(r.track({type:0,doc:S}),A=!0):g&&!S&&(r.track({type:1,doc:g}),A=!0,(u||c)&&(a=!0)),A&&(S?(o=o.add(S),i=T?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ma:o,pa:r,ss:a,mutatedKeys:i}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((h,f)=>function(S,R){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de()}};return T(S)-T(R)}(h.type,f.type)||this.Va(h.doc,f.doc)),this.wa(r),s=s!=null&&s;const a=n&&!s?this.Sa():[],u=this.Ra.size===0&&this.current&&!s?1:0,c=u!==this.Aa;return this.Aa=u,o.length!==0||c?{snapshot:new fa(this.query,e.ma,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new J0,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.Ea=this.Ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ea=this.Ea.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ae(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new c1(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new u1(r))}),n}va(e){this.Ea=e.Es,this.Ra=Ae();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return fa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class h4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class f4{constructor(e){this.key=e,this.Fa=!1}}class p4{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new Gi(a=>AC(a),Yh),this.Oa=new Map,this.Na=new Set,this.Ba=new et(le.comparator),this.La=new Map,this.ka=new Gy,this.qa={},this.Qa=new Map,this.Ka=ha.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function m4(t,e,n=!0){const r=g1(t);let s;const i=r.xa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Ca()):s=await d1(r,e,n,!0),s}async function g4(t,e){const n=g1(t);await d1(n,e,!0,!1)}async function d1(t,e,n,r){const s=await jF(t.localStore,cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await y4(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&e1(t.remoteStore,s),a}async function y4(t,e,n,r,s){t.Ua=(f,g,S)=>async function(T,A,E,y){let C=A.view.ga(E);C.ss&&(C=await Q0(T.localStore,A.query,!1).then(({documents:I})=>A.view.ga(I,C)));const O=y&&y.targetChanges.get(A.targetId),M=y&&y.targetMismatches.get(A.targetId)!=null,U=A.view.applyChanges(C,T.isPrimaryClient,O,M);return rE(T,A.targetId,U.ba),U.snapshot}(t,f,g,S);const i=await Q0(t.localStore,e,!0),o=new d4(e,i.Es),a=o.ga(i.documents),u=bu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);rE(t,n,c.ba);const h=new h4(e,n,o);return t.xa.set(e,h),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function v4(t,e,n){const r=me(t),s=r.xa.get(e),i=r.Oa.get(s.targetId);if(i.length>1)return r.Oa.set(s.targetId,i.filter(o=>!Yh(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Zm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Zy(r.remoteStore,s.targetId),Jm(r,s.targetId)}).catch(Aa)):(Jm(r,s.targetId),await Zm(r.localStore,s.targetId,!0))}async function _4(t,e){const n=me(t),r=n.xa.get(e),s=n.Oa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zy(n.remoteStore,r.targetId))}async function w4(t,e,n){const r=A4(t);try{const s=await function(o,a){const u=me(o),c=vt.now(),h=a.reduce((S,R)=>S.add(R.key),Ae());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=qr(),T=Ae();return u.hs.getEntries(S,h).next(A=>{R=A,R.forEach((E,y)=>{y.isValidDocument()||(T=T.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(S,R)).next(A=>{f=A;const E=[];for(const y of a){const C=Fj(y,f.get(y.key).overlayedDocument);C!=null&&E.push(new Qi(y.key,C,wC(C.value.mapValue),dr.exists(!0)))}return u.mutationQueue.addMutationBatch(S,c,E,a)}).next(A=>{g=A;const E=A.applyToLocalDocumentSet(f,T);return u.documentOverlayCache.saveOverlays(S,A.batchId,E)})}).then(()=>({batchId:g.batchId,changes:bC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.qa[o.currentUser.toKey()];c||(c=new et(ke)),c=c.insert(a,u),o.qa[o.currentUser.toKey()]=c}(r,s.batchId,n),await Nu(r,s.changes),await rf(r.remoteStore)}catch(s){const i=nv(s,"Failed to persist write");n.reject(i)}}async function h1(t,e){const n=me(t);try{const r=await VF(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.La.get(i);o&&(Fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Fa=!0:s.modifiedDocuments.size>0?Fe(o.Fa):s.removedDocuments.size>0&&(Fe(o.Fa),o.Fa=!1))}),await Nu(n,r,e)}catch(r){await Aa(r)}}function nE(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.xa.forEach((i,o)=>{const a=o.view.ea(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=me(o);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const g of f.J_)g.ea(a)&&(c=!0)}),c&&rv(u)}(r.eventManager,e),s.length&&r.Ma.R_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function E4(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.La.get(e),i=s&&s.key;if(i){let o=new et(le.comparator);o=o.insert(i,Ut.newNoDocument(i,fe.min()));const a=Ae().add(i),u=new ef(fe.min(),new Map,new et(ke),o,a);await h1(r,u),r.Ba=r.Ba.remove(i),r.La.delete(e),sv(r)}else await Zm(r.localStore,e,!1).then(()=>Jm(r,e,n)).catch(Aa)}async function T4(t,e){const n=me(t),r=e.batch.batchId;try{const s=await OF(n.localStore,e);p1(n,r,null),f1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nu(n,s)}catch(s){await Aa(s)}}async function S4(t,e,n){const r=me(t);try{const s=await function(o,a){const u=me(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Fe(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);p1(r,e,n),f1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nu(r,s)}catch(s){await Aa(s)}}function f1(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function p1(t,e,n){const r=me(t);let s=r.qa[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.qa[r.currentUser.toKey()]=s}}function Jm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||m1(t,r)})}function m1(t,e){t.Na.delete(e.path.canonicalString());const n=t.Ba.get(e);n!==null&&(Zy(t.remoteStore,n),t.Ba=t.Ba.remove(e),t.La.delete(n),sv(t))}function rE(t,e,n){for(const r of n)r instanceof u1?(t.ka.addReference(r.key,e),I4(t,r)):r instanceof c1?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||m1(t,r.key)):de()}function I4(t,e){const n=e.key,r=n.path.canonicalString();t.Ba.get(n)||t.Na.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.Na.add(r),sv(t))}function sv(t){for(;t.Na.size>0&&t.Ba.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new le(Ye.fromString(e)),r=t.Ka.next();t.La.set(r,new f4(n)),t.Ba=t.Ba.insert(n,r),e1(t.remoteStore,new Cs(cr(zy(n.path)),r,"TargetPurposeLimboResolution",Hh.oe))}}async function Nu(t,e,n){const r=me(t),s=[],i=[],o=[];r.xa.isEmpty()||(r.xa.forEach((a,u)=>{o.push(r.Ua(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=Yy.zi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ma.R_(s),await async function(u,c){const h=me(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,g=>$.forEach(g.Wi,S=>h.persistence.referenceDelegate.addReference(f,g.targetId,S)).next(()=>$.forEach(g.Gi,S=>h.persistence.referenceDelegate.removeReference(f,g.targetId,S)))))}catch(f){if(!Ra(f))throw f;ee("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const S=h.us.get(g),R=S.snapshotVersion,T=S.withLastLimboFreeSnapshotVersion(R);h.us=h.us.insert(g,T)}}}(r.localStore,i))}async function x4(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await YC(n.localStore,e);n.currentUser=e,function(i,o){i.Qa.forEach(a=>{a.forEach(u=>{u.reject(new ie(B.CANCELLED,o))})}),i.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nu(n,r.Ts)}}function C4(t,e){const n=me(t),r=n.La.get(e);if(r&&r.Fa)return Ae().add(r.key);{let s=Ae();const i=n.Oa.get(e);if(!i)return s;for(const o of i){const a=n.xa.get(o);s=s.unionWith(a.view.fa)}return s}}function g1(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E4.bind(null,e),e.Ma.R_=u4.bind(null,e.eventManager),e.Ma.Wa=c4.bind(null,e.eventManager),e}function A4(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S4.bind(null,e),e}class Gd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return DF(this.persistence,new PF,e.initialUser,this.serializer)}ja(e){return new QC(Qy.ei,this.serializer)}za(e){return new UF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Gd.provider={build:()=>new Gd};class R4 extends Gd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Fe(this.persistence.referenceDelegate instanceof Hd);const r=this.persistence.referenceDelegate.garbageCollector;return new gF(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new QC(r=>Hd.ei(r,n),this.serializer)}}class eg{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=x4.bind(null,this.syncEngine),await o4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l4}()}createDatastore(e){const n=tf(e.databaseInfo.databaseId),r=function(i){return new WF(i)}(e.databaseInfo);return function(i,o,a,u){return new KF(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new QF(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return Z0.p()?new Z0:new $F}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,h){const f=new p4(s,i,o,a,u,c);return h&&(f.$a=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);ee("RemoteStore","RemoteStore shutting down."),i.k_.add(5),await Pu(i),i.Q_.shutdown(),i.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=jt.UNAUTHENTICATED,this.clientId=yC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=nv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ep(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await YC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b4(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>X0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>X0(e.remoteStore,s)),t._onlineComponents=e}async function b4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ep(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;la("Error using user provided cache. Falling back to memory cache: "+n),await Ep(t,new Gd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await Ep(t,new R4(void 0));return t._offlineComponents}async function v1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await sE(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await sE(t,new eg))),t._onlineComponents}function P4(t){return v1(t).then(e=>e.syncEngine)}async function _1(t){const e=await v1(t),n=e.eventManager;return n.onListen=m4.bind(null,e.syncEngine),n.onUnlisten=v4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=g4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_4.bind(null,e.syncEngine),n}function N4(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new y1({next:g=>{h.eu(),o.enqueueAndForget(()=>a1(i,f));const S=g.docs.has(a);!S&&g.fromCache?c.reject(new ie(B.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&g.fromCache&&u&&u.source==="server"?c.reject(new ie(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new l1(zy(a.path),h,{includeMetadataChanges:!0,ua:!0});return o1(i,f)}(await _1(t),t.asyncQueue,e,n,r)),r.promise}function D4(t,e,n={}){const r=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const h=new y1({next:g=>{h.eu(),o.enqueueAndForget(()=>a1(i,f)),g.fromCache&&u.source==="server"?c.reject(new ie(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new l1(a,h,{includeMetadataChanges:!0,ua:!0});return o1(i,f)}(await _1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e,n){if(!n)throw new ie(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function O4(t,e,n,r){if(e===!0&&r===!0)throw new ie(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function oE(t){if(!le.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aE(t){if(le.isDocumentKey(t))throw new ie(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function iv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de()}function Ks(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=iv(t);throw new ie(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}O4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ie(B.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qL;switch(r.type){case"firstParty":return new QL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=iE.get(n);r&&(ee("ComponentProvider","Removing Datastore"),iE.delete(n),r.terminate())}(this),Promise.resolve()}}function V4(t,e,n,r={}){var s;const i=(t=Ks(t,sf))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=jt.MOCK_USER;else{a=YO(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new jt(c)}t._authCredentials=new HL(new gC(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new of(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Fs extends of{constructor(e,n,r){super(e,n,zy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new le(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function M4(t,e,...n){if(t=ft(t),E1("collection","path",e),t instanceof sf){const r=Ye.fromString(e,...n);return aE(r),new Fs(t,null,r)}{if(!(t instanceof gn||t instanceof Fs))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return aE(r),new Fs(t.firestore,null,r)}}function af(t,e,...n){if(t=ft(t),arguments.length===1&&(e=yC.newId()),E1("doc","path",e),t instanceof sf){const r=Ye.fromString(e,...n);return oE(r),new gn(t,null,new le(r))}{if(!(t instanceof gn||t instanceof Fs))throw new ie(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return oE(r),new gn(t.firestore,t instanceof Fs?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new XC(this,"async_queue_retry"),this.fu=()=>{const r=wp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=wp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const n=wp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const n=new Mr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ra(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const s=tv.createAndSchedule(this,e,n,r,i=>this.Su(i));return this.Eu.push(s),s}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.Eu)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Eu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.Eu.indexOf(e);this.Eu.splice(n,1)}}class Du extends sf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new uE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new uE(e),this._firestoreClient=void 0,await e}}}function L4(t,e){const n=typeof t=="object"?t:Tx(),r=typeof t=="string"?t:"(default)",s=Cy(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=GO("firestore");i&&V4(s,...i)}return s}function ov(t){if(t._terminated)throw new ie(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||j4(t),t._firestoreClient}function j4(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,h){return new cj(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,w1(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new k4(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(bt.fromBase64String(e))}catch(n){throw new ie(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pa(bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^__.*__$/;class U4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}function S1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class cv{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Fu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new cv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Bu(e),s}Lu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.xu({path:r,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Qd(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(S1(this.Mu)&&F4.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class $4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tf(e)}$u(e,n,r,s=!1){return new cv({Mu:e,methodName:n,Ku:r,path:At.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function z4(t){const e=t._freezeSettings(),n=tf(t._databaseId);return new $4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function B4(t,e,n,r,s,i={}){const o=t.$u(i.merge||i.mergeFields?2:0,e,n,s);A1("Data must be an object, but it was:",o,r);const a=x1(r,o);let u,c;if(i.merge)u=new qn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const g=W4(e,f,n);if(!o.contains(g))throw new ie(B.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);H4(h,g)||h.push(g)}u=new qn(h),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new U4(new Cn(a),u,c)}function I1(t,e){if(C1(t=ft(t)))return A1("Unsupported field value:",e,t),x1(t,e);if(t instanceof T1)return function(r,s){if(!S1(s.Mu))throw s.qu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=I1(a,s.ku(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:qd(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qd(s.serializer,i)}}if(r instanceof lv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pa)return{bytesValue:zC(s.serializer,r._byteString)};if(r instanceof gn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.qu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ky(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof uv)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.qu("VectorValues must only contain numeric values.");return By(a.serializer,u)})}}}}}}(r,s);throw s.qu(`Unsupported field value: ${iv(r)}`)}(t,e)}function x1(t,e){const n={};return vC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(t,(r,s)=>{const i=I1(s,e.Ou(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function C1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof lv||t instanceof pa||t instanceof gn||t instanceof T1||t instanceof uv)}function A1(t,e,n){if(!C1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=iv(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function W4(t,e,n){if((e=ft(e))instanceof av)return e._internalPath;if(typeof e=="string")return R1(t,e);throw Qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q4=new RegExp("[~\\*/\\[\\]]");function R1(t,e,n){if(e.search(q4)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new av(...e.split("."))._internalPath}catch{throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qd(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new ie(B.INVALID_ARGUMENT,a+t+u)}function H4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new K4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K4 extends k1{data(){return super.data()}}function b1(t,e){return typeof e=="string"?R1(t,e):e instanceof av?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q4{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ki(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>lt(o.doubleValue));return new uv(i)}convertGeoPoint(e){return new lv(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Gh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const n=Bs(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Fe(GC(r));const s=new au(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||Wr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class P1 extends k1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(b1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class td extends P1{data(e={}){return super.data(e)}}class Z4{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new pl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new td(this._firestore,this._userDataWriter,r.key,r,new pl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new td(s._firestore,s._userDataWriter,a.doc.key,a.doc,new pl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:X4(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function X4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(t){t=Ks(t,gn);const e=Ks(t.firestore,Du);return N4(ov(e),t._key).then(n=>nU(e,t,n))}class D1 extends Q4{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function J4(t){t=Ks(t,of);const e=Ks(t.firestore,Du),n=ov(e),r=new D1(e);return G4(t._query),D4(n,t._query).then(s=>new Z4(e,r,t,s))}function eU(t,e,n){t=Ks(t,gn);const r=Ks(t.firestore,Du),s=Y4(t.converter,e);return O1(r,[B4(z4(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,dr.none())])}function tU(t){return O1(Ks(t.firestore,Du),[new Wy(t._key,dr.none())])}function O1(t,e){return function(r,s){const i=new Mr;return r.asyncQueue.enqueueAndForget(async()=>w4(await P4(r),s,i)),i.promise}(ov(t),e)}function nU(t,e,n){const r=n.docs.get(e._key),s=new D1(t);return new P1(t,s,e._key,r,new pl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ca=s})(xa),aa(new Mi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Du(new KL(r.getProvider("auth-internal")),new ZL(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ls(C0,"4.7.6",e),Ls(C0,"4.7.6","esm2017")})();const nd={apiKey:void 0,projectId:void 0,appId:void 0};if(Object.values(nd).some(t=>!t))throw new Error("Missing required Firebase configuration. Please check your environment variables.");const rU={apiKey:nd.apiKey,authDomain:void 0,projectId:nd.projectId,storageBucket:void 0,messagingSenderId:void 0,appId:nd.appId},V1=Ex(rU),wt=BL(V1),Ou=L4(V1);wt.useDeviceLanguage();kM(wt,Jx).catch(t=>{console.error("Error setting auth persistence:",t)});const M1=new Cr,sU=new xr;M1.setCustomParameters({prompt:"select_account"});async function lf(t,e,n){try{console.log(`Setting role ${e} for user ${t}`);const r={role:e,updatedAt:new Date().toISOString(),updatedBy:n||null};await eU(af(Ou,"userRoles",t),r),console.log(`Successfully set role for user ${t}`)}catch(r){throw console.error("Error setting user role:",r),new Error(r.message||"Failed to set user role")}}async function tg(t){try{const e=await N1(af(Ou,"userRoles",t));return e.exists()?e.data().role:"user"}catch(e){return console.error("Error getting user role:",e),"user"}}async function iU(){try{const t=M4(Ou,"userRoles");return(await J4(t)).docs.map(r=>{const s=r.data();return{userId:r.id,role:s.role,updatedAt:s.updatedAt,email:s.email,displayName:s.displayName}})}catch(t){throw console.error("Error listing users with roles:",t),new Error("Failed to list users with roles")}}async function oU(){if(!wt.currentUser)throw new Error("No user is currently signed in");const t=wt.currentUser.uid;try{const e=af(Ou,"userRoles",t);await tU(e),console.log("User role document deleted"),await OM(wt.currentUser),console.log("Account successfully deleted")}catch(e){throw console.error("Error deleting account:",e),new Error(ei(e))}}function ei(t){if(typeof t=="string")return t;switch(t==null?void 0:t.code){case"auth/invalid-credential":return"Incorrect email or password";case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-not-found":return"No account found with this email";case"auth/requires-recent-login":return"Please log in again before updating your profile";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.";default:return console.error("Firebase auth error:",t),(t==null?void 0:t.message)||"An error occurred. Please try again"}}async function aU(t,e){try{await Bh(t,e)}catch(n){throw new Error(ei(n))}}async function L1(t){try{(await N1(af(Ou,"userRoles",t))).exists()||await lf(t,"user")}catch(e){console.error("Error checking/setting role:",e)}}async function j1(){var t;try{const e=await lC(wt,M1);if(!(e!=null&&e.user))throw new Error("No user data returned from Google sign-in");const n=e.user,r=n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"User";return await L1(n.uid),await Bh(n,{displayName:r}),n}catch(e){throw new Error(ei(e))}}async function F1(){var t;try{const e=await lC(wt,sU);if(!(e!=null&&e.user))throw new Error("No user data returned from Facebook sign-in");const n=e.user,r=n.displayName||((t=n.email)==null?void 0:t.split("@")[0])||"User";return await L1(n.uid),await Bh(n,{displayName:r}),n}catch(e){throw new Error(ei(e))}}async function lU({email:t,password:e,name:n,age:r}){try{const s=await IM(wt,t,e);return await lf(s.user.uid,"user"),await Bh(s.user,{displayName:n}),await Yx(s.user),s.user}catch(s){throw new Error(ei(s))}}async function uU(t,e){try{return await xM(wt,t,e)}catch(n){throw new Error(ei(n))}}async function U1(){return DM(wt)}async function cU(){if(wt.currentUser)return Yx(wt.currentUser)}async function dU(t){try{await SM(wt,t)}catch(e){throw new Error(ei(e))}}async function hU(t,e,n){try{const r=Hi.credential(t.email,e);await TM(t,r),await AM(t,n)}catch(r){throw new Error(ei(r))}}async function fU(t){var e;try{const n=wt.currentUser;if(!n)throw new Error("No user is currently signed in");if(await tg(n.uid)!=="admin")throw new Error("Only admins can disable other users");await lf(t,"disabled");const s=await n.getIdToken(),i=await fetch(`/api/admin/disableUser?userId=${t}`,{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(!i.ok){const o=await i.json();throw new Error(o.error||"Failed to disable user")}return((e=wt.currentUser)==null?void 0:e.uid)===t&&await U1(),console.log("User successfully disabled"),!0}catch(n){throw console.error("Error in admin disable user:",n),new Error(n.message||"Failed to disable user")}}function cE(){try{const t=localStorage.getItem("firebaseAuth");return t?JSON.parse(t):null}catch{return null}}function uf(){const[t,e]=w.useState(()=>{const o=cE();return o?{...o.user,stsTokenManager:o.stsTokenManager}:null}),[n,r]=w.useState(!0),[s,i]=w.useState(()=>{const o=cE();return(o==null?void 0:o.role)||"user"});return w.useEffect(()=>{const o=NM(wt,async u=>{if(e(u),u){const c=await tg(u.uid);i(c)}r(!1)});return(async()=>{if(t){const u=await tg(t.uid);localStorage.setItem("firebaseAuth",JSON.stringify({user:{uid:t.uid,email:t.email,emailVerified:t.emailVerified,displayName:t.displayName,providerData:t.providerData},stsTokenManager:t.stsTokenManager,role:u}))}else localStorage.removeItem("firebaseAuth")})(),()=>o()},[]),{user:t,loading:n,role:s}}function $1(t="/"){const{user:e,loading:n,role:r}=uf(),[s,i]=w.useState(!1);return w.useEffect(()=>{!n&&!e&&(window.location.href=t),e&&(e.emailVerified||e.providerData.some(o=>o.providerId==="facebook.com"))&&i(!0)},[e,n,t]),{user:e,loading:n,verified:s,role:r}}function pU(t="/"){const{user:e,loading:n,role:r}=uf(),[s,i]=w.useState(!1);return w.useEffect(()=>{n||(!e||r!=="admin"?window.location.href=t:i(!0))},[e,r,n,t]),{user:e,loading:n,isAdmin:s}}function mU(){const{user:t,role:e}=uf();return m.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:m.jsxs("div",{className:"container flex h-14 items-center",children:[m.jsxs("div",{className:"mr-4 hidden md:flex",children:[m.jsx(el,{href:"/",className:"mr-6 flex items-center space-x-2",children:m.jsx("span",{className:"hidden font-bold sm:inline-block",children:"Auth Demo"})}),m.jsx("div",{className:"flex gap-6 md:gap-10",children:t&&t.emailVerified&&m.jsxs(m.Fragment,{children:[m.jsx(el,{href:"/welcome",children:"Welcome"}),e==="admin"&&m.jsx(el,{href:"/admin",children:"Admin"})]})})]}),m.jsx("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:t?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx(at,{variant:"ghost",className:"gap-2",asChild:!0,children:m.jsxs(el,{href:"/profile",children:[m.jsx(tO,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm text-muted-foreground",children:t.displayName})]})}),m.jsx(at,{variant:"ghost",onClick:()=>U1(),children:"Sign out"})]}):m.jsx(at,{variant:"ghost",asChild:!0,children:m.jsx(el,{href:"/",children:"Sign in"})})})]})})}const Hr=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ge("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Hr.displayName="Card";const Gs=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ge("flex flex-col space-y-1.5 p-6",t),...e}));Gs.displayName="CardHeader";const Qs=w.forwardRef(({className:t,...e},n)=>m.jsx("h3",{ref:n,className:ge("text-2xl font-semibold leading-none tracking-tight",t),...e}));Qs.displayName="CardTitle";const gU=w.forwardRef(({className:t,...e},n)=>m.jsx("p",{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));gU.displayName="CardDescription";const Kr=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ge("p-6 pt-0",t),...e}));Kr.displayName="CardContent";const yU=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{ref:n,className:ge("flex items-center p-6 pt-0",t),...e}));yU.displayName="CardFooter";function vU(){return m.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:m.jsx(Hr,{className:"w-full max-w-md mx-4",children:m.jsxs(Kr,{className:"pt-6",children:[m.jsxs("div",{className:"flex mb-4 gap-2",children:[m.jsx(eO,{className:"h-8 w-8 text-red-500"}),m.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),m.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function _U(t,e=[]){let n=[];function r(i,o){const a=w.createContext(o),u=n.length;n=[...n,o];function c(f){const{scope:g,children:S,...R}=f,T=(g==null?void 0:g[t][u])||a,A=w.useMemo(()=>R,Object.values(R));return m.jsx(T.Provider,{value:A,children:S})}function h(f,g){const S=(g==null?void 0:g[t][u])||a,R=w.useContext(S);if(R)return R;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,h]}const s=()=>{const i=n.map(o=>w.createContext(o));return function(a){const u=(a==null?void 0:a[t])||i;return w.useMemo(()=>({[`__scope${t}`]:{...a,[t]:u}}),[a,u])}};return s.scopeName=t,[r,wU(s,...e)]}function wU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:u,scopeName:c})=>{const f=u(i)[`__scope${c}`];return{...a,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var EU=iT.useId||(()=>{}),TU=0;function Dl(t){const[e,n]=w.useState(EU());return ru(()=>{t||n(r=>r??String(TU++))},[t]),t||(e?`radix-${e}`:"")}var SU=w.createContext(void 0);function z1(t){const e=w.useContext(SU);return t||e||"ltr"}var Tp="rovingFocusGroup.onEntryFocus",IU={bubbles:!1,cancelable:!0},cf="RovingFocusGroup",[ng,B1,xU]=kI(cf),[CU,W1]=_U(cf,[xU]),[AU,RU]=CU(cf),q1=w.forwardRef((t,e)=>m.jsx(ng.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(ng.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(kU,{...t,ref:e})})}));q1.displayName=cf;var kU=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:u,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,g=w.useRef(null),S=ln(e,g),R=z1(i),[T=null,A]=jh({prop:o,defaultProp:a,onChange:u}),[E,y]=w.useState(!1),C=Dn(c),O=B1(n),M=w.useRef(!1),[U,I]=w.useState(0);return w.useEffect(()=>{const v=g.current;if(v)return v.addEventListener(Tp,C),()=>v.removeEventListener(Tp,C)},[C]),m.jsx(AU,{scope:n,orientation:r,dir:R,loop:s,currentTabStopId:T,onItemFocus:w.useCallback(v=>A(v),[A]),onItemShiftTab:w.useCallback(()=>y(!0),[]),onFocusableItemAdd:w.useCallback(()=>I(v=>v+1),[]),onFocusableItemRemove:w.useCallback(()=>I(v=>v-1),[]),children:m.jsx(tt.div,{tabIndex:E||U===0?-1:0,"data-orientation":r,...f,ref:S,style:{outline:"none",...t.style},onMouseDown:ze(t.onMouseDown,()=>{M.current=!0}),onFocus:ze(t.onFocus,v=>{const x=!M.current;if(v.target===v.currentTarget&&x&&!E){const b=new CustomEvent(Tp,IU);if(v.currentTarget.dispatchEvent(b),!b.defaultPrevented){const D=O().filter(Te=>Te.focusable),P=D.find(Te=>Te.active),k=D.find(Te=>Te.id===T),ye=[P,k,...D].filter(Boolean).map(Te=>Te.ref.current);G1(ye,h)}}M.current=!1}),onBlur:ze(t.onBlur,()=>y(!1))})})}),H1="RovingFocusGroupItem",K1=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...o}=t,a=Dl(),u=i||a,c=RU(H1,n),h=c.currentTabStopId===u,f=B1(n),{onFocusableItemAdd:g,onFocusableItemRemove:S}=c;return w.useEffect(()=>{if(r)return g(),()=>S()},[r,g,S]),m.jsx(ng.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:m.jsx(tt.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ze(t.onMouseDown,R=>{r?c.onItemFocus(u):R.preventDefault()}),onFocus:ze(t.onFocus,()=>c.onItemFocus(u)),onKeyDown:ze(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){c.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const T=NU(R,c.orientation,c.dir);if(T!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let E=f().filter(y=>y.focusable).map(y=>y.ref.current);if(T==="last")E.reverse();else if(T==="prev"||T==="next"){T==="prev"&&E.reverse();const y=E.indexOf(R.currentTarget);E=c.loop?DU(E,y+1):E.slice(y+1)}setTimeout(()=>G1(E))}})})})});K1.displayName=H1;var bU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function PU(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function NU(t,e,n){const r=PU(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bU[r]}function G1(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function DU(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var OU=q1,VU=K1,dv="Tabs",[MU,E$]=Lh(dv,[W1]),Q1=W1(),[LU,hv]=MU(dv),Y1=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:u="automatic",...c}=t,h=z1(a),[f,g]=jh({prop:r,onChange:s,defaultProp:i});return m.jsx(LU,{scope:n,baseId:Dl(),value:f,onValueChange:g,orientation:o,dir:h,activationMode:u,children:m.jsx(tt.div,{dir:h,"data-orientation":o,...c,ref:e})})});Y1.displayName=dv;var Z1="TabsList",X1=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=hv(Z1,n),o=Q1(n);return m.jsx(OU,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:m.jsx(tt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});X1.displayName=Z1;var J1="TabsTrigger",eA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=hv(J1,n),a=Q1(n),u=rA(o.baseId,r),c=sA(o.baseId,r),h=r===o.value;return m.jsx(VU,{asChild:!0,...a,focusable:!s,active:h,children:m.jsx(tt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:u,...i,ref:e,onMouseDown:ze(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ze(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ze(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});eA.displayName=J1;var tA="TabsContent",nA=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=hv(tA,n),u=rA(a.baseId,r),c=sA(a.baseId,r),h=r===a.value,f=w.useRef(h);return w.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),m.jsx(Ta,{present:s||h,children:({present:g})=>m.jsx(tt.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});nA.displayName=tA;function rA(t,e){return`${t}-trigger-${e}`}function sA(t,e){return`${t}-content-${e}`}var jU=Y1,iA=X1,oA=eA,aA=nA;const FU=jU,lA=w.forwardRef(({className:t,...e},n)=>m.jsx(iA,{ref:n,className:ge("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));lA.displayName=iA.displayName;const rg=w.forwardRef(({className:t,...e},n)=>m.jsx(oA,{ref:n,className:ge("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rg.displayName=oA.displayName;const sg=w.forwardRef(({className:t,...e},n)=>m.jsx(aA,{ref:n,className:ge("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));sg.displayName=aA.displayName;var Vu=t=>t.type==="checkbox",_i=t=>t instanceof Date,Kt=t=>t==null;const uA=t=>typeof t=="object";var ct=t=>!Kt(t)&&!Array.isArray(t)&&uA(t)&&!_i(t),cA=t=>ct(t)&&t.target?Vu(t.target)?t.target.checked:t.target.value:t,UU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,dA=(t,e)=>t.has(UU(e)),$U=t=>{const e=t.constructor&&t.constructor.prototype;return ct(e)&&e.hasOwnProperty("isPrototypeOf")},fv=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(fv&&(t instanceof Blob||t instanceof FileList))&&(n||ct(t)))if(e=n?[]:{},!n&&!$U(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=Jt(t[r]));else return t;return e}var df=t=>Array.isArray(t)?t.filter(Boolean):[],ot=t=>t===void 0,Q=(t,e,n)=>{if(!e||!ct(t))return n;const r=df(e.split(/[,[\].]+?/)).reduce((s,i)=>Kt(s)?s:s[i],t);return ot(r)||r===t?ot(t[e])?n:t[e]:r},Sn=t=>typeof t=="boolean",pv=t=>/^\w*$/.test(t),hA=t=>df(t.replace(/["|']|\]/g,"").split(/\.|\[/)),je=(t,e,n)=>{let r=-1;const s=pv(e)?[e]:hA(e),i=s.length,o=i-1;for(;++r<i;){const a=s[r];let u=n;if(r!==o){const c=t[a];u=ct(c)||Array.isArray(c)?c:isNaN(+s[r+1])?{}:[]}if(a==="__proto__")return;t[a]=u,t=t[a]}return t};const Yd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Bn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},wr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},fA=pe.createContext(null),hf=()=>pe.useContext(fA),zU=t=>{const{children:e,...n}=t;return pe.createElement(fA.Provider,{value:n},e)};var pA=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const i in t)Object.defineProperty(s,i,{get:()=>{const o=i;return e._proxyFormState[o]!==Bn.all&&(e._proxyFormState[o]=!r||Bn.all),n&&(n[o]=!0),t[o]}});return s},en=t=>ct(t)&&!Object.keys(t).length,mA=(t,e,n,r)=>{n(t);const{name:s,...i}=t;return en(i)||Object.keys(i).length>=Object.keys(e).length||Object.keys(i).find(o=>e[o]===(!r||Bn.all))},Ol=t=>Array.isArray(t)?t:[t],gA=(t,e,n)=>!t||!e||t===e||Ol(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function mv(t){const e=pe.useRef(t);e.current=t,pe.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function BU(t){const e=hf(),{control:n=e.control,disabled:r,name:s,exact:i}=t||{},[o,a]=pe.useState(n._formState),u=pe.useRef(!0),c=pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=pe.useRef(s);return h.current=s,mv({disabled:r,next:f=>u.current&&gA(h.current,f.name,i)&&mA(f,c.current,n._updateFormState)&&a({...n._formState,...f}),subject:n._subjects.state}),pe.useEffect(()=>(u.current=!0,c.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),pA(o,n,c.current,!1)}var or=t=>typeof t=="string",yA=(t,e,n,r,s)=>or(t)?(r&&e.watch.add(t),Q(n,t,s)):Array.isArray(t)?t.map(i=>(r&&e.watch.add(i),Q(n,i))):(r&&(e.watchAll=!0),n);function WU(t){const e=hf(),{control:n=e.control,name:r,defaultValue:s,disabled:i,exact:o}=t||{},a=pe.useRef(r);a.current=r,mv({disabled:i,subject:n._subjects.values,next:h=>{gA(a.current,h.name,o)&&c(Jt(yA(a.current,n._names,h.values||n._formValues,!1,s)))}});const[u,c]=pe.useState(n._getWatch(r,s));return pe.useEffect(()=>n._removeUnmounted()),u}function qU(t){const e=hf(),{name:n,disabled:r,control:s=e.control,shouldUnregister:i}=t,o=dA(s._names.array,n),a=WU({control:s,name:n,defaultValue:Q(s._formValues,n,Q(s._defaultValues,n,t.defaultValue)),exact:!0}),u=BU({control:s,name:n,exact:!0}),c=pe.useRef(s.register(n,{...t.rules,value:a,...Sn(t.disabled)?{disabled:t.disabled}:{}}));return pe.useEffect(()=>{const h=s._options.shouldUnregister||i,f=(g,S)=>{const R=Q(s._fields,g);R&&R._f&&(R._f.mount=S)};if(f(n,!0),h){const g=Jt(Q(s._options.defaultValues,n));je(s._defaultValues,n,g),ot(Q(s._formValues,n))&&je(s._formValues,n,g)}return()=>{(o?h&&!s._state.action:h)?s.unregister(n):f(n,!1)}},[n,s,o,i]),pe.useEffect(()=>{Q(s._fields,n)&&s._updateDisabledField({disabled:r,fields:s._fields,name:n,value:Q(s._fields,n)._f.value})},[r,n,s]),{field:{name:n,value:a,...Sn(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:pe.useCallback(h=>c.current.onChange({target:{value:cA(h),name:n},type:Yd.CHANGE}),[n]),onBlur:pe.useCallback(()=>c.current.onBlur({target:{value:Q(s._formValues,n),name:n},type:Yd.BLUR}),[n,s]),ref:pe.useCallback(h=>{const f=Q(s._fields,n);f&&h&&(f._f.ref={focus:()=>h.focus(),select:()=>h.select(),setCustomValidity:g=>h.setCustomValidity(g),reportValidity:()=>h.reportValidity()})},[s._fields,n])},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Q(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Q(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Q(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Q(u.validatingFields,n)},error:{enumerable:!0,get:()=>Q(u.errors,n)}})}}const HU=t=>t.render(qU(t));var vA=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},dE=t=>({isOnSubmit:!t||t===Bn.onSubmit,isOnBlur:t===Bn.onBlur,isOnChange:t===Bn.onChange,isOnAll:t===Bn.all,isOnTouch:t===Bn.onTouched}),hE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Vl=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const i=Q(t,s);if(i){const{_f:o,...a}=i;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],s)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Vl(a,e))break}else if(ct(a)&&Vl(a,e))break}}};var KU=(t,e,n)=>{const r=Ol(Q(t,n));return je(r,"root",e[n]),je(t,n,r),t},gv=t=>t.type==="file",Nr=t=>typeof t=="function",Zd=t=>{if(!fv)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},rd=t=>or(t),yv=t=>t.type==="radio",Xd=t=>t instanceof RegExp;const fE={value:!1,isValid:!1},pE={value:!0,isValid:!0};var _A=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ot(t[0].attributes.value)?ot(t[0].value)||t[0].value===""?pE:{value:t[0].value,isValid:!0}:pE:fE}return fE};const mE={isValid:!1,value:null};var wA=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,mE):mE;function gE(t,e,n="validate"){if(rd(t)||Array.isArray(t)&&t.every(rd)||Sn(t)&&!t)return{type:n,message:rd(t)?t:"",ref:e}}var ao=t=>ct(t)&&!Xd(t)?t:{value:t,message:""},yE=async(t,e,n,r,s)=>{const{ref:i,refs:o,required:a,maxLength:u,minLength:c,min:h,max:f,pattern:g,validate:S,name:R,valueAsNumber:T,mount:A,disabled:E}=t._f,y=Q(e,R);if(!A||E)return{};const C=o?o[0]:i,O=P=>{r&&C.reportValidity&&(C.setCustomValidity(Sn(P)?"":P||""),C.reportValidity())},M={},U=yv(i),I=Vu(i),v=U||I,x=(T||gv(i))&&ot(i.value)&&ot(y)||Zd(i)&&i.value===""||y===""||Array.isArray(y)&&!y.length,b=vA.bind(null,R,n,M),D=(P,k,Z,ye=wr.maxLength,Te=wr.minLength)=>{const Me=P?k:Z;M[R]={type:P?ye:Te,message:Me,ref:i,...b(P?ye:Te,Me)}};if(s?!Array.isArray(y)||!y.length:a&&(!v&&(x||Kt(y))||Sn(y)&&!y||I&&!_A(o).isValid||U&&!wA(o).isValid)){const{value:P,message:k}=rd(a)?{value:!!a,message:a}:ao(a);if(P&&(M[R]={type:wr.required,message:k,ref:C,...b(wr.required,k)},!n))return O(k),M}if(!x&&(!Kt(h)||!Kt(f))){let P,k;const Z=ao(f),ye=ao(h);if(!Kt(y)&&!isNaN(y)){const Te=i.valueAsNumber||y&&+y;Kt(Z.value)||(P=Te>Z.value),Kt(ye.value)||(k=Te<ye.value)}else{const Te=i.valueAsDate||new Date(y),Me=ae=>new Date(new Date().toDateString()+" "+ae),K=i.type=="time",re=i.type=="week";or(Z.value)&&y&&(P=K?Me(y)>Me(Z.value):re?y>Z.value:Te>new Date(Z.value)),or(ye.value)&&y&&(k=K?Me(y)<Me(ye.value):re?y<ye.value:Te<new Date(ye.value))}if((P||k)&&(D(!!P,Z.message,ye.message,wr.max,wr.min),!n))return O(M[R].message),M}if((u||c)&&!x&&(or(y)||s&&Array.isArray(y))){const P=ao(u),k=ao(c),Z=!Kt(P.value)&&y.length>+P.value,ye=!Kt(k.value)&&y.length<+k.value;if((Z||ye)&&(D(Z,P.message,k.message),!n))return O(M[R].message),M}if(g&&!x&&or(y)){const{value:P,message:k}=ao(g);if(Xd(P)&&!y.match(P)&&(M[R]={type:wr.pattern,message:k,ref:i,...b(wr.pattern,k)},!n))return O(k),M}if(S){if(Nr(S)){const P=await S(y,e),k=gE(P,C);if(k&&(M[R]={...k,...b(wr.validate,k.message)},!n))return O(k.message),M}else if(ct(S)){let P={};for(const k in S){if(!en(P)&&!n)break;const Z=gE(await S[k](y,e),C,k);Z&&(P={...Z,...b(k,Z.message)},O(Z.message),n&&(M[R]=P))}if(!en(P)&&(M[R]={ref:C,...P},!n))return M}}return O(!0),M};function GU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ot(t)?r++:t[e[r++]];return t}function QU(t){for(const e in t)if(t.hasOwnProperty(e)&&!ot(t[e]))return!1;return!0}function pt(t,e){const n=Array.isArray(e)?e:pv(e)?[e]:hA(e),r=n.length===1?t:GU(t,n),s=n.length-1,i=n[s];return r&&delete r[i],s!==0&&(ct(r)&&en(r)||Array.isArray(r)&&QU(r))&&pt(t,n.slice(0,-1)),t}var Sp=()=>{let t=[];return{get observers(){return t},next:s=>{for(const i of t)i.next&&i.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(i=>i!==s)}}),unsubscribe:()=>{t=[]}}},ig=t=>Kt(t)||!uA(t);function vs(t,e){if(ig(t)||ig(e))return t===e;if(_i(t)&&_i(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const i=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const o=e[s];if(_i(i)&&_i(o)||ct(i)&&ct(o)||Array.isArray(i)&&Array.isArray(o)?!vs(i,o):i!==o)return!1}}return!0}var EA=t=>t.type==="select-multiple",YU=t=>yv(t)||Vu(t),Ip=t=>Zd(t)&&t.isConnected,TA=t=>{for(const e in t)if(Nr(t[e]))return!0;return!1};function Jd(t,e={}){const n=Array.isArray(t);if(ct(t)||n)for(const r in t)Array.isArray(t[r])||ct(t[r])&&!TA(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Jd(t[r],e[r])):Kt(t[r])||(e[r]=!0);return e}function SA(t,e,n){const r=Array.isArray(t);if(ct(t)||r)for(const s in t)Array.isArray(t[s])||ct(t[s])&&!TA(t[s])?ot(e)||ig(n[s])?n[s]=Array.isArray(t[s])?Jd(t[s],[]):{...Jd(t[s])}:SA(t[s],Kt(e)?{}:e[s],n[s]):n[s]=!vs(t[s],e[s]);return n}var rl=(t,e)=>SA(t,e,Jd(e)),IA=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ot(t)?t:e?t===""?NaN:t&&+t:n&&or(t)?new Date(t):r?r(t):t;function xp(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return gv(e)?e.files:yv(e)?wA(t.refs).value:EA(e)?[...e.selectedOptions].map(({value:n})=>n):Vu(e)?_A(t.refs).value:IA(ot(e.value)?t.ref.value:e.value,t)}var ZU=(t,e,n,r)=>{const s={};for(const i of t){const o=Q(e,i);o&&je(s,i,o._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},sl=t=>ot(t)?t:Xd(t)?t.source:ct(t)?Xd(t.value)?t.value.source:t.value:t;const vE="AsyncFunction";var XU=t=>(!t||!t.validate)&&!!(Nr(t.validate)&&t.validate.constructor.name===vE||ct(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vE)),JU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function _E(t,e,n){const r=Q(t,n);if(r||pv(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const i=s.join("."),o=Q(e,i),a=Q(t,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(a&&a.type)return{name:i,error:a};s.pop()}return{name:n}}var e9=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,t9=(t,e)=>!df(Q(t,e)).length&&pt(t,e);const n9={mode:Bn.onSubmit,reValidateMode:Bn.onChange,shouldFocusError:!0};function r9(t={}){let e={...n9,...t},n={submitCount:0,isDirty:!1,isLoading:Nr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},s=ct(e.defaultValues)||ct(e.values)?Jt(e.defaultValues||e.values)||{}:{},i=e.shouldUnregister?{}:Jt(s),o={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={values:Sp(),array:Sp(),state:Sp()},g=dE(e.mode),S=dE(e.reValidateMode),R=e.criteriaMode===Bn.all,T=N=>L=>{clearTimeout(c),c=setTimeout(N,L)},A=async N=>{if(!t.disabled&&(h.isValid||N)){const L=e.resolver?en((await v()).errors):await b(r,!0);L!==n.isValid&&f.state.next({isValid:L})}},E=(N,L)=>{!t.disabled&&(h.isValidating||h.validatingFields)&&((N||Array.from(a.mount)).forEach(F=>{F&&(L?je(n.validatingFields,F,L):pt(n.validatingFields,F))}),f.state.next({validatingFields:n.validatingFields,isValidating:!en(n.validatingFields)}))},y=(N,L=[],F,X,Y=!0,H=!0)=>{if(X&&F&&!t.disabled){if(o.action=!0,H&&Array.isArray(Q(r,N))){const oe=F(Q(r,N),X.argA,X.argB);Y&&je(r,N,oe)}if(H&&Array.isArray(Q(n.errors,N))){const oe=F(Q(n.errors,N),X.argA,X.argB);Y&&je(n.errors,N,oe),t9(n.errors,N)}if(h.touchedFields&&H&&Array.isArray(Q(n.touchedFields,N))){const oe=F(Q(n.touchedFields,N),X.argA,X.argB);Y&&je(n.touchedFields,N,oe)}h.dirtyFields&&(n.dirtyFields=rl(s,i)),f.state.next({name:N,isDirty:P(N,L),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else je(i,N,L)},C=(N,L)=>{je(n.errors,N,L),f.state.next({errors:n.errors})},O=N=>{n.errors=N,f.state.next({errors:n.errors,isValid:!1})},M=(N,L,F,X)=>{const Y=Q(r,N);if(Y){const H=Q(i,N,ot(F)?Q(s,N):F);ot(H)||X&&X.defaultChecked||L?je(i,N,L?H:xp(Y._f)):ye(N,H),o.mount&&A()}},U=(N,L,F,X,Y)=>{let H=!1,oe=!1;const _e={name:N};if(!t.disabled){const Re=!!(Q(r,N)&&Q(r,N)._f&&Q(r,N)._f.disabled);if(!F||X){h.isDirty&&(oe=n.isDirty,n.isDirty=_e.isDirty=P(),H=oe!==_e.isDirty);const Pe=Re||vs(Q(s,N),L);oe=!!(!Re&&Q(n.dirtyFields,N)),Pe||Re?pt(n.dirtyFields,N):je(n.dirtyFields,N,!0),_e.dirtyFields=n.dirtyFields,H=H||h.dirtyFields&&oe!==!Pe}if(F){const Pe=Q(n.touchedFields,N);Pe||(je(n.touchedFields,N,F),_e.touchedFields=n.touchedFields,H=H||h.touchedFields&&Pe!==F)}H&&Y&&f.state.next(_e)}return H?_e:{}},I=(N,L,F,X)=>{const Y=Q(n.errors,N),H=h.isValid&&Sn(L)&&n.isValid!==L;if(t.delayError&&F?(u=T(()=>C(N,F)),u(t.delayError)):(clearTimeout(c),u=null,F?je(n.errors,N,F):pt(n.errors,N)),(F?!vs(Y,F):Y)||!en(X)||H){const oe={...X,...H&&Sn(L)?{isValid:L}:{},errors:n.errors,name:N};n={...n,...oe},f.state.next(oe)}},v=async N=>{E(N,!0);const L=await e.resolver(i,e.context,ZU(N||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return E(N),L},x=async N=>{const{errors:L}=await v(N);if(N)for(const F of N){const X=Q(L,F);X?je(n.errors,F,X):pt(n.errors,F)}else n.errors=L;return L},b=async(N,L,F={valid:!0})=>{for(const X in N){const Y=N[X];if(Y){const{_f:H,...oe}=Y;if(H){const _e=a.array.has(H.name),Re=Y._f&&XU(Y._f);Re&&h.validatingFields&&E([X],!0);const Pe=await yE(Y,i,R,e.shouldUseNativeValidation&&!L,_e);if(Re&&h.validatingFields&&E([X]),Pe[H.name]&&(F.valid=!1,L))break;!L&&(Q(Pe,H.name)?_e?KU(n.errors,Pe,H.name):je(n.errors,H.name,Pe[H.name]):pt(n.errors,H.name))}!en(oe)&&await b(oe,L,F)}}return F.valid},D=()=>{for(const N of a.unMount){const L=Q(r,N);L&&(L._f.refs?L._f.refs.every(F=>!Ip(F)):!Ip(L._f.ref))&&cn(N)}a.unMount=new Set},P=(N,L)=>!t.disabled&&(N&&L&&je(i,N,L),!vs(Se(),s)),k=(N,L,F)=>yA(N,a,{...o.mount?i:ot(L)?s:or(N)?{[N]:L}:L},F,L),Z=N=>df(Q(o.mount?i:s,N,t.shouldUnregister?Q(s,N,[]):[])),ye=(N,L,F={})=>{const X=Q(r,N);let Y=L;if(X){const H=X._f;H&&(!H.disabled&&je(i,N,IA(L,H)),Y=Zd(H.ref)&&Kt(L)?"":L,EA(H.ref)?[...H.ref.options].forEach(oe=>oe.selected=Y.includes(oe.value)):H.refs?Vu(H.ref)?H.refs.length>1?H.refs.forEach(oe=>(!oe.defaultChecked||!oe.disabled)&&(oe.checked=Array.isArray(Y)?!!Y.find(_e=>_e===oe.value):Y===oe.value)):H.refs[0]&&(H.refs[0].checked=!!Y):H.refs.forEach(oe=>oe.checked=oe.value===Y):gv(H.ref)?H.ref.value="":(H.ref.value=Y,H.ref.type||f.values.next({name:N,values:{...i}})))}(F.shouldDirty||F.shouldTouch)&&U(N,Y,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&ae(N)},Te=(N,L,F)=>{for(const X in L){const Y=L[X],H=`${N}.${X}`,oe=Q(r,H);(a.array.has(N)||ct(Y)||oe&&!oe._f)&&!_i(Y)?Te(H,Y,F):ye(H,Y,F)}},Me=(N,L,F={})=>{const X=Q(r,N),Y=a.array.has(N),H=Jt(L);je(i,N,H),Y?(f.array.next({name:N,values:{...i}}),(h.isDirty||h.dirtyFields)&&F.shouldDirty&&f.state.next({name:N,dirtyFields:rl(s,i),isDirty:P(N,H)})):X&&!X._f&&!Kt(H)?Te(N,H,F):ye(N,H,F),hE(N,a)&&f.state.next({...n}),f.values.next({name:o.mount?N:void 0,values:{...i}})},K=async N=>{o.mount=!0;const L=N.target;let F=L.name,X=!0;const Y=Q(r,F),H=()=>L.type?xp(Y._f):cA(N),oe=_e=>{X=Number.isNaN(_e)||_i(_e)&&isNaN(_e.getTime())||vs(_e,Q(i,F,_e))};if(Y){let _e,Re;const Pe=H(),En=N.type===Yd.BLUR||N.type===Yd.FOCUS_OUT,ju=!JU(Y._f)&&!e.resolver&&!Q(n.errors,F)&&!Y._f.deps||e9(En,Q(n.touchedFields,F),n.isSubmitted,S,g),eo=hE(F,a,En);je(i,F,Pe),En?(Y._f.onBlur&&Y._f.onBlur(N),u&&u(0)):Y._f.onChange&&Y._f.onChange(N);const Na=U(F,Pe,En,!1),ni=!en(Na)||eo;if(!En&&f.values.next({name:F,type:N.type,values:{...i}}),ju)return h.isValid&&(t.mode==="onBlur"?En&&A():A()),ni&&f.state.next({name:F,...eo?{}:Na});if(!En&&eo&&f.state.next({...n}),e.resolver){const{errors:Da}=await v([F]);if(oe(Pe),X){const Fu=_E(n.errors,r,F),to=_E(Da,r,Fu.name||F);_e=to.error,F=to.name,Re=en(Da)}}else E([F],!0),_e=(await yE(Y,i,R,e.shouldUseNativeValidation))[F],E([F]),oe(Pe),X&&(_e?Re=!1:h.isValid&&(Re=await b(r,!0)));X&&(Y._f.deps&&ae(Y._f.deps),I(F,Re,_e,Na))}},re=(N,L)=>{if(Q(n.errors,L)&&N.focus)return N.focus(),1},ae=async(N,L={})=>{let F,X;const Y=Ol(N);if(e.resolver){const H=await x(ot(N)?N:Y);F=en(H),X=N?!Y.some(oe=>Q(H,oe)):F}else N?(X=(await Promise.all(Y.map(async H=>{const oe=Q(r,H);return await b(oe&&oe._f?{[H]:oe}:oe)}))).every(Boolean),!(!X&&!n.isValid)&&A()):X=F=await b(r);return f.state.next({...!or(N)||h.isValid&&F!==n.isValid?{}:{name:N},...e.resolver||!N?{isValid:F}:{},errors:n.errors}),L.shouldFocus&&!X&&Vl(r,re,N?Y:a.mount),X},Se=N=>{const L={...o.mount?i:s};return ot(N)?L:or(N)?Q(L,N):N.map(F=>Q(L,F))},be=(N,L)=>({invalid:!!Q((L||n).errors,N),isDirty:!!Q((L||n).dirtyFields,N),error:Q((L||n).errors,N),isValidating:!!Q(n.validatingFields,N),isTouched:!!Q((L||n).touchedFields,N)}),$e=N=>{N&&Ol(N).forEach(L=>pt(n.errors,L)),f.state.next({errors:N?n.errors:{}})},Bt=(N,L,F)=>{const X=(Q(r,N,{_f:{}})._f||{}).ref,Y=Q(n.errors,N)||{},{ref:H,message:oe,type:_e,...Re}=Y;je(n.errors,N,{...Re,...L,ref:X}),f.state.next({name:N,errors:n.errors,isValid:!1}),F&&F.shouldFocus&&X&&X.focus&&X.focus()},Vn=(N,L)=>Nr(N)?f.values.subscribe({next:F=>N(k(void 0,L),F)}):k(N,L,!0),cn=(N,L={})=>{for(const F of N?Ol(N):a.mount)a.mount.delete(F),a.array.delete(F),L.keepValue||(pt(r,F),pt(i,F)),!L.keepError&&pt(n.errors,F),!L.keepDirty&&pt(n.dirtyFields,F),!L.keepTouched&&pt(n.touchedFields,F),!L.keepIsValidating&&pt(n.validatingFields,F),!e.shouldUnregister&&!L.keepDefaultValue&&pt(s,F);f.values.next({values:{...i}}),f.state.next({...n,...L.keepDirty?{isDirty:P()}:{}}),!L.keepIsValid&&A()},wn=({disabled:N,name:L,field:F,fields:X,value:Y})=>{if(Sn(N)&&o.mount||N){const H=N?void 0:ot(Y)?xp(F?F._f:Q(X,L)._f):Y;je(i,L,H),U(L,H,!1,!1,!0)}},ba=(N,L={})=>{let F=Q(r,N);const X=Sn(L.disabled)||Sn(t.disabled);return je(r,N,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:N}},name:N,mount:!0,...L}}),a.mount.add(N),F?wn({field:F,disabled:Sn(L.disabled)?L.disabled:t.disabled,name:N,value:L.value}):M(N,!0,L.value),{...X?{disabled:L.disabled||t.disabled}:{},...e.progressive?{required:!!L.required,min:sl(L.min),max:sl(L.max),minLength:sl(L.minLength),maxLength:sl(L.maxLength),pattern:sl(L.pattern)}:{},name:N,onChange:K,onBlur:K,ref:Y=>{if(Y){ba(N,L),F=Q(r,N);const H=ot(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,oe=YU(H),_e=F._f.refs||[];if(oe?_e.find(Re=>Re===H):H===F._f.ref)return;je(r,N,{_f:{...F._f,...oe?{refs:[..._e.filter(Ip),H,...Array.isArray(Q(s,N))?[{}]:[]],ref:{type:H.type,name:N}}:{ref:H}}}),M(N,!1,void 0,H)}else F=Q(r,N,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||L.shouldUnregister)&&!(dA(a.array,N)&&o.action)&&a.unMount.add(N)}}},Mu=()=>e.shouldFocusError&&Vl(r,re,a.mount),Zi=N=>{Sn(N)&&(f.state.next({disabled:N}),Vl(r,(L,F)=>{const X=Q(r,F);X&&(L.disabled=X._f.disabled||N,Array.isArray(X._f.refs)&&X._f.refs.forEach(Y=>{Y.disabled=X._f.disabled||N}))},0,!1))},ti=(N,L)=>async F=>{let X;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let Y=Jt(i);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:H,values:oe}=await v();n.errors=H,Y=oe}else await b(r);if(pt(n.errors,"root"),en(n.errors)){f.state.next({errors:{}});try{await N(Y,F)}catch(H){X=H}}else L&&await L({...n.errors},F),Mu(),setTimeout(Mu);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:en(n.errors)&&!X,submitCount:n.submitCount+1,errors:n.errors}),X)throw X},Pa=(N,L={})=>{Q(r,N)&&(ot(L.defaultValue)?Me(N,Jt(Q(s,N))):(Me(N,L.defaultValue),je(s,N,Jt(L.defaultValue))),L.keepTouched||pt(n.touchedFields,N),L.keepDirty||(pt(n.dirtyFields,N),n.isDirty=L.defaultValue?P(N,Jt(Q(s,N))):P()),L.keepError||(pt(n.errors,N),h.isValid&&A()),f.state.next({...n}))},Xi=(N,L={})=>{const F=N?Jt(N):s,X=Jt(F),Y=en(N),H=Y?s:X;if(L.keepDefaultValues||(s=F),!L.keepValues){if(L.keepDirtyValues){const oe=new Set([...a.mount,...Object.keys(rl(s,i))]);for(const _e of Array.from(oe))Q(n.dirtyFields,_e)?je(H,_e,Q(i,_e)):Me(_e,Q(H,_e))}else{if(fv&&ot(N))for(const oe of a.mount){const _e=Q(r,oe);if(_e&&_e._f){const Re=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Zd(Re)){const Pe=Re.closest("form");if(Pe){Pe.reset();break}}}}r={}}i=t.shouldUnregister?L.keepDefaultValues?Jt(s):{}:Jt(H),f.array.next({values:{...H}}),f.values.next({values:{...H}})}a={mount:L.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!L.keepIsValid||!!L.keepDirtyValues,o.watch=!!t.shouldUnregister,f.state.next({submitCount:L.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:L.keepDirty?n.isDirty:!!(L.keepDefaultValues&&!vs(N,s)),isSubmitted:L.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:L.keepDirtyValues?L.keepDefaultValues&&i?rl(s,i):n.dirtyFields:L.keepDefaultValues&&N?rl(s,N):L.keepDirty?n.dirtyFields:{},touchedFields:L.keepTouched?n.touchedFields:{},errors:L.keepErrors?n.errors:{},isSubmitSuccessful:L.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ji=(N,L)=>Xi(Nr(N)?N(i):N,L);return{control:{register:ba,unregister:cn,getFieldState:be,handleSubmit:ti,setError:Bt,_executeSchema:v,_getWatch:k,_getDirty:P,_updateValid:A,_removeUnmounted:D,_updateFieldArray:y,_updateDisabledField:wn,_getFieldArray:Z,_reset:Xi,_resetDefaultValues:()=>Nr(e.defaultValues)&&e.defaultValues().then(N=>{Ji(N,e.resetOptions),f.state.next({isLoading:!1})}),_updateFormState:N=>{n={...n,...N}},_disableForm:Zi,_subjects:f,_proxyFormState:h,_setErrors:O,get _fields(){return r},get _formValues(){return i},get _state(){return o},set _state(N){o=N},get _defaultValues(){return s},get _names(){return a},set _names(N){a=N},get _formState(){return n},set _formState(N){n=N},get _options(){return e},set _options(N){e={...e,...N}}},trigger:ae,register:ba,handleSubmit:ti,watch:Vn,setValue:Me,getValues:Se,reset:Ji,resetField:Pa,clearErrors:$e,unregister:cn,setError:Bt,setFocus:(N,L={})=>{const F=Q(r,N),X=F&&F._f;if(X){const Y=X.refs?X.refs[0]:X.ref;Y.focus&&(Y.focus(),L.shouldSelect&&Y.select())}},getFieldState:be}}function xA(t={}){const e=pe.useRef(),n=pe.useRef(),[r,s]=pe.useState({isDirty:!1,isValidating:!1,isLoading:Nr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Nr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...r9(t),formState:r});const i=e.current.control;return i._options=t,mv({subject:i._subjects.state,next:o=>{mA(o,i._proxyFormState,i._updateFormState,!0)&&s({...i._formState})}}),pe.useEffect(()=>i._disableForm(t.disabled),[i,t.disabled]),pe.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==r.isDirty&&i._subjects.state.next({isDirty:o})}},[i,r.isDirty]),pe.useEffect(()=>{t.values&&!vs(t.values,n.current)?(i._reset(t.values,i._options.resetOptions),n.current=t.values,s(o=>({...o}))):i._resetDefaultValues()},[t.values,i]),pe.useEffect(()=>{t.errors&&i._setErrors(t.errors)},[t.errors,i]),pe.useEffect(()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),pe.useEffect(()=>{t.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})},[t.shouldUnregister,i]),pe.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[r]),e.current.formState=pA(r,i),e.current}const wE=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Q(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},CA=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?wE(r.ref,n,t):r.refs&&r.refs.forEach(s=>wE(s,n,t))}},s9=(t,e)=>{e.shouldUseNativeValidation&&CA(t,e);const n={};for(const r in t){const s=Q(e.fields,r),i=Object.assign(t[r]||{},{ref:s&&s.ref});if(i9(e.names||Object.keys(t),r)){const o=Object.assign({},Q(n,r));je(o,"root",i),je(n,r,o)}else je(n,r,i)}return n},i9=(t,e)=>t.some(n=>n.startsWith(e+"."));var o9=function(t,e){for(var n={};t.length;){var r=t[0],s=r.code,i=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:i,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(f){return t.push(f)})}),e){var u=n[o].types,c=u&&u[r.code];n[o]=vA(o,e,n,s,c?[].concat(c,r.message):r.message)}t.shift()}return n},AA=function(t,e,n){return n===void 0&&(n={}),function(r,s,i){try{return Promise.resolve(function(o,a){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return i.shouldUseNativeValidation&&CA({},i),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return u&&u.then?u.then(void 0,a):u}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:s9(o9(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},De;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},t.getValidEnumValues=s=>{const i=t.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return t.objectValues(o)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},t.find=(s,i)=>{for(const o of s)if(i(o))return o},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}t.joinValues=r,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(De||(De={}));var EE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(EE||(EE={}));const te=De.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fi=t=>{switch(typeof t){case"undefined":return te.undefined;case"string":return te.string;case"number":return isNaN(t)?te.nan:te.number;case"boolean":return te.boolean;case"function":return te.function;case"bigint":return te.bigint;case"symbol":return te.symbol;case"object":return Array.isArray(t)?te.array:t===null?te.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?te.promise:typeof Map<"u"&&t instanceof Map?te.map:typeof Set<"u"&&t instanceof Set?te.set:typeof Date<"u"&&t instanceof Date?te.date:te.object;default:return te.unknown}},q=De.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bn extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,u=0;for(;u<o.path.length;){const c=o.path[u];u===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],u++}}};return s(this),r}static assert(e){if(!(e instanceof bn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,De.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}bn.create=t=>new bn(t);const du=(t,e)=>{let n;switch(t.code){case q.invalid_type:t.received===te.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case q.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,De.jsonStringifyReplacer)}`;break;case q.unrecognized_keys:n=`Unrecognized key(s) in object: ${De.joinValues(t.keys,", ")}`;break;case q.invalid_union:n="Invalid input";break;case q.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${De.joinValues(t.options)}`;break;case q.invalid_enum_value:n=`Invalid enum value. Expected ${De.joinValues(t.options)}, received '${t.received}'`;break;case q.invalid_arguments:n="Invalid function arguments";break;case q.invalid_return_type:n="Invalid function return type";break;case q.invalid_date:n="Invalid date";break;case q.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:De.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case q.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case q.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case q.custom:n="Invalid input";break;case q.invalid_intersection_types:n="Intersection results could not be merged";break;case q.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case q.not_finite:n="Number must be finite";break;default:n=e.defaultError,De.assertNever(t)}return{message:n}};let a9=du;function og(){return a9}const ag=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)a=c(o,{data:e,defaultError:a}).message;return{...s,path:i,message:a}};function J(t,e){const n=og(),r=ag({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===du?void 0:du].filter(s=>!!s)});t.common.issues.push(r)}class Yt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return he;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Yt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return he;i.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:e.value,value:r}}}const he=Object.freeze({status:"aborted"}),ml=t=>({status:"dirty",value:t}),un=t=>({status:"valid",value:t}),TE=t=>t.status==="aborted",SE=t=>t.status==="dirty",eh=t=>t.status==="valid",th=t=>typeof Promise<"u"&&t instanceof Promise;function nh(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function RA(t,e,n,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var se;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(se||(se={}));var gl,yl;class gr{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const IE=(t,e)=>{if(eh(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new bn(t.common.issues);return this._error=n,this._error}}};function ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(o,a)=>{var u,c;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??a.defaultError}:typeof a.data>"u"?{message:(u=h??r)!==null&&u!==void 0?u:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(c=h??n)!==null&&c!==void 0?c:a.defaultError}},description:s}}class Ie{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return fi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Yt,ctx:{common:e.parent.common,data:e.data,parsedType:fi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(th(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const s={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},i=this._parseSync({data:e,path:s.path,parent:s});return IE(s,i)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:fi(e)},s=this._parse({data:e,path:r.path,parent:r}),i=await(th(s)?s:Promise.resolve(s));return IE(r,i)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=e(s),a=()=>i.addIssue({code:q.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new Qr({schema:this,typeName:ce.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Lr.create(this,this._def)}nullable(){return zi.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fr.create(this,this._def)}promise(){return fu.create(this,this._def)}or(e){return ih.create([this,e],this._def)}and(e){return oh.create(this,e,this._def)}transform(e){return new Qr({...ve(this._def),schema:this,typeName:ce.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new dh({...ve(this._def),innerType:this,defaultValue:n,typeName:ce.ZodDefault})}brand(){return new NA({typeName:ce.ZodBranded,type:this,...ve(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new hh({...ve(this._def),innerType:this,catchValue:n,typeName:ce.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return ff.create(this,e)}readonly(){return fh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l9=/^c[^\s-]{8,}$/i,u9=/^[0-9a-z]+$/,c9=/^[0-9A-HJKMNP-TV-Z]{26}$/,d9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,h9=/^[a-z0-9_-]{21}$/i,f9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,p9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,m9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Cp;const g9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,y9=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,v9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,kA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_9=new RegExp(`^${kA}$`);function bA(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function w9(t){return new RegExp(`^${bA(t)}$`)}function E9(t){let e=`${kA}T${bA(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function T9(t,e){return!!((e==="v4"||!e)&&g9.test(t)||(e==="v6"||!e)&&y9.test(t))}class Dr extends Ie{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==te.string){const i=this._getOrReturnCtx(e);return J(i,{code:q.invalid_type,expected:te.string,received:i.parsedType}),he}const r=new Yt;let s;for(const i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=e.data.length>i.value,a=e.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(e,s),o?J(s,{code:q.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&J(s,{code:q.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")p9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"email",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")Cp||(Cp=new RegExp(m9,"u")),Cp.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"emoji",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")d9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"uuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")h9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"nanoid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")l9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")u9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"cuid2",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")c9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ulid",code:q.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),J(s,{validation:"url",code:q.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"regex",code:q.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?E9(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?_9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?w9(i).test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{code:q.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?f9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"duration",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?T9(e.data,i.version)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"ip",code:q.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?v9.test(e.data)||(s=this._getOrReturnCtx(e,s),J(s,{validation:"base64",code:q.invalid_string,message:i.message}),r.dirty()):De.assertNever(i);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:q.invalid_string,...se.errToObj(r)})}_addCheck(e){return new Dr({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...se.errToObj(e)})}url(e){return this._addCheck({kind:"url",...se.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...se.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...se.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...se.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...se.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...se.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...se.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...se.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...se.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...se.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...se.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...se.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...se.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...se.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...se.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...se.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...se.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...se.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...se.errToObj(n)})}nonempty(e){return this.min(1,se.errToObj(e))}trim(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dr({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Dr.create=t=>{var e;return new Dr({checks:[],typeName:ce.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ve(t)})};function S9(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,i=parseInt(t.toFixed(s).replace(".","")),o=parseInt(e.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class ma extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==te.number){const i=this._getOrReturnCtx(e);return J(i,{code:q.invalid_type,expected:te.number,received:i.parsedType}),he}let r;const s=new Yt;for(const i of this._def.checks)i.kind==="int"?De.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:q.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?S9(e.data,i.value)!==0&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_finite,message:i.message}),s.dirty()):De.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,s){return new ma({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new ma({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:se.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:se.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:se.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:se.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&De.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ma.create=t=>new ma({checks:[],typeName:ce.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ve(t)});class ga extends Ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==te.bigint){const i=this._getOrReturnCtx(e);return J(i,{code:q.invalid_type,expected:te.bigint,received:i.parsedType}),he}let r;const s=new Yt;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),J(r,{code:q.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):De.assertNever(i);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,se.toString(n))}gt(e,n){return this.setLimit("min",e,!1,se.toString(n))}lte(e,n){return this.setLimit("max",e,!0,se.toString(n))}lt(e,n){return this.setLimit("max",e,!1,se.toString(n))}setLimit(e,n,r,s){return new ga({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:se.toString(s)}]})}_addCheck(e){return new ga({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:se.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:se.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:se.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:se.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:se.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ga.create=t=>{var e;return new ga({checks:[],typeName:ce.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ve(t)})};class lg extends Ie{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==te.boolean){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.boolean,received:r.parsedType}),he}return un(e.data)}}lg.create=t=>new lg({typeName:ce.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ve(t)});class hu extends Ie{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==te.date){const i=this._getOrReturnCtx(e);return J(i,{code:q.invalid_type,expected:te.date,received:i.parsedType}),he}if(isNaN(e.data.getTime())){const i=this._getOrReturnCtx(e);return J(i,{code:q.invalid_date}),he}const r=new Yt;let s;for(const i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:q.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),J(s,{code:q.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):De.assertNever(i);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:se.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:se.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hu.create=t=>new hu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:ce.ZodDate,...ve(t)});class ug extends Ie{_parse(e){if(this._getType(e)!==te.symbol){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.symbol,received:r.parsedType}),he}return un(e.data)}}ug.create=t=>new ug({typeName:ce.ZodSymbol,...ve(t)});class rh extends Ie{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.undefined,received:r.parsedType}),he}return un(e.data)}}rh.create=t=>new rh({typeName:ce.ZodUndefined,...ve(t)});class sh extends Ie{_parse(e){if(this._getType(e)!==te.null){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.null,received:r.parsedType}),he}return un(e.data)}}sh.create=t=>new sh({typeName:ce.ZodNull,...ve(t)});class cg extends Ie{constructor(){super(...arguments),this._any=!0}_parse(e){return un(e.data)}}cg.create=t=>new cg({typeName:ce.ZodAny,...ve(t)});class $o extends Ie{constructor(){super(...arguments),this._unknown=!0}_parse(e){return un(e.data)}}$o.create=t=>new $o({typeName:ce.ZodUnknown,...ve(t)});class Ys extends Ie{_parse(e){const n=this._getOrReturnCtx(e);return J(n,{code:q.invalid_type,expected:te.never,received:n.parsedType}),he}}Ys.create=t=>new Ys({typeName:ce.ZodNever,...ve(t)});class dg extends Ie{_parse(e){if(this._getType(e)!==te.undefined){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.void,received:r.parsedType}),he}return un(e.data)}}dg.create=t=>new dg({typeName:ce.ZodVoid,...ve(t)});class fr extends Ie{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==te.array)return J(n,{code:q.invalid_type,expected:te.array,received:n.parsedType}),he;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(J(n,{code:o?q.too_big:q.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(J(n,{code:q.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(J(n,{code:q.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new gr(n,o,n.path,a)))).then(o=>Yt.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new gr(n,o,n.path,a)));return Yt.mergeArray(r,i)}get element(){return this._def.type}min(e,n){return new fr({...this._def,minLength:{value:e,message:se.toString(n)}})}max(e,n){return new fr({...this._def,maxLength:{value:e,message:se.toString(n)}})}length(e,n){return new fr({...this._def,exactLength:{value:e,message:se.toString(n)}})}nonempty(e){return this.min(1,e)}}fr.create=(t,e)=>new fr({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ce.ZodArray,...ve(e)});function go(t){if(t instanceof st){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Lr.create(go(r))}return new st({...t._def,shape:()=>e})}else return t instanceof fr?new fr({...t._def,type:go(t.element)}):t instanceof Lr?Lr.create(go(t.unwrap())):t instanceof zi?zi.create(go(t.unwrap())):t instanceof Gr?Gr.create(t.items.map(e=>go(e))):t}class st extends Ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=De.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==te.object){const c=this._getOrReturnCtx(e);return J(c,{code:q.invalid_type,expected:te.object,received:c.parsedType}),he}const{status:r,ctx:s}=this._processInputParams(e),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ys&&this._def.unknownKeys==="strip"))for(const c in s.data)o.includes(c)||a.push(c);const u=[];for(const c of o){const h=i[c],f=s.data[c];u.push({key:{status:"valid",value:c},value:h._parse(new gr(s,f,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Ys){const c=this._def.unknownKeys;if(c==="passthrough")for(const h of a)u.push({key:{status:"valid",value:h},value:{status:"valid",value:s.data[h]}});else if(c==="strict")a.length>0&&(J(s,{code:q.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const h of a){const f=s.data[h];u.push({key:{status:"valid",value:h},value:c._parse(new gr(s,f,s.path,h)),alwaysSet:h in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const h of u){const f=await h.key,g=await h.value;c.push({key:f,value:g,alwaysSet:h.alwaysSet})}return c}).then(c=>Yt.mergeObjectSync(r,c)):Yt.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return se.errToObj,new st({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,i,o,a;const u=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=se.errToObj(e).message)!==null&&a!==void 0?a:u}:{message:u}}}:{}})}strip(){return new st({...this._def,unknownKeys:"strip"})}passthrough(){return new st({...this._def,unknownKeys:"passthrough"})}extend(e){return new st({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new st({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ce.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new st({...this._def,catchall:e})}pick(e){const n={};return De.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new st({...this._def,shape:()=>n})}omit(e){const n={};return De.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new st({...this._def,shape:()=>n})}deepPartial(){return go(this)}partial(e){const n={};return De.objectKeys(this.shape).forEach(r=>{const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}),new st({...this._def,shape:()=>n})}required(e){const n={};return De.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Lr;)i=i._def.innerType;n[r]=i}}),new st({...this._def,shape:()=>n})}keyof(){return PA(De.objectKeys(this.shape))}}st.create=(t,e)=>new st({shape:()=>t,unknownKeys:"strip",catchall:Ys.create(),typeName:ce.ZodObject,...ve(e)});st.strictCreate=(t,e)=>new st({shape:()=>t,unknownKeys:"strict",catchall:Ys.create(),typeName:ce.ZodObject,...ve(e)});st.lazycreate=(t,e)=>new st({shape:t,unknownKeys:"strip",catchall:Ys.create(),typeName:ce.ZodObject,...ve(e)});class ih extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new bn(a.ctx.common.issues));return J(n,{code:q.invalid_union,unionErrors:o}),he}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:c});if(h.status==="valid")return h;h.status==="dirty"&&!i&&(i={result:h,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(u=>new bn(u));return J(n,{code:q.invalid_union,unionErrors:a}),he}}get options(){return this._def.options}}ih.create=(t,e)=>new ih({options:t,typeName:ce.ZodUnion,...ve(e)});const Tr=t=>t instanceof lh?Tr(t.schema):t instanceof Qr?Tr(t.innerType()):t instanceof uh?[t.value]:t instanceof $i?t.options:t instanceof ch?De.objectValues(t.enum):t instanceof dh?Tr(t._def.innerType):t instanceof rh?[void 0]:t instanceof sh?[null]:t instanceof Lr?[void 0,...Tr(t.unwrap())]:t instanceof zi?[null,...Tr(t.unwrap())]:t instanceof NA||t instanceof fh?Tr(t.unwrap()):t instanceof hh?Tr(t._def.innerType):[];class vv extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.object)return J(n,{code:q.invalid_type,expected:te.object,received:n.parsedType}),he;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(J(n,{code:q.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),he)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const s=new Map;for(const i of n){const o=Tr(i.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);s.set(a,i)}}return new vv({typeName:ce.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:s,...ve(r)})}}function hg(t,e){const n=fi(t),r=fi(e);if(t===e)return{valid:!0,data:t};if(n===te.object&&r===te.object){const s=De.objectKeys(e),i=De.objectKeys(t).filter(a=>s.indexOf(a)!==-1),o={...t,...e};for(const a of i){const u=hg(t[a],e[a]);if(!u.valid)return{valid:!1};o[a]=u.data}return{valid:!0,data:o}}else if(n===te.array&&r===te.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let i=0;i<t.length;i++){const o=t[i],a=e[i],u=hg(o,a);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===te.date&&r===te.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class oh extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(i,o)=>{if(TE(i)||TE(o))return he;const a=hg(i.value,o.value);return a.valid?((SE(i)||SE(o))&&n.dirty(),{status:n.value,value:a.data}):(J(r,{code:q.invalid_intersection_types}),he)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}oh.create=(t,e,n)=>new oh({left:t,right:e,typeName:ce.ZodIntersection,...ve(n)});class Gr extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.array)return J(r,{code:q.invalid_type,expected:te.array,received:r.parsedType}),he;if(r.data.length<this._def.items.length)return J(r,{code:q.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),he;!this._def.rest&&r.data.length>this._def.items.length&&(J(r,{code:q.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const u=this._def.items[a]||this._def.rest;return u?u._parse(new gr(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Yt.mergeArray(n,o)):Yt.mergeArray(n,i)}get items(){return this._def.items}rest(e){return new Gr({...this._def,rest:e})}}Gr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gr({items:t,typeName:ce.ZodTuple,rest:null,...ve(e)})};class ah extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.object)return J(r,{code:q.invalid_type,expected:te.object,received:r.parsedType}),he;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new gr(r,a,r.path,a)),value:o._parse(new gr(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Yt.mergeObjectAsync(n,s):Yt.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ie?new ah({keyType:e,valueType:n,typeName:ce.ZodRecord,...ve(r)}):new ah({keyType:Dr.create(),valueType:e,typeName:ce.ZodRecord,...ve(n)})}}class fg extends Ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.map)return J(r,{code:q.invalid_type,expected:te.map,received:r.parsedType}),he;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,u],c)=>({key:s._parse(new gr(r,a,r.path,[c,"key"])),value:i._parse(new gr(r,u,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const u of o){const c=await u.key,h=await u.value;if(c.status==="aborted"||h.status==="aborted")return he;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const u of o){const c=u.key,h=u.value;if(c.status==="aborted"||h.status==="aborted")return he;(c.status==="dirty"||h.status==="dirty")&&n.dirty(),a.set(c.value,h.value)}return{status:n.value,value:a}}}}fg.create=(t,e,n)=>new fg({valueType:e,keyType:t,typeName:ce.ZodMap,...ve(n)});class ya extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==te.set)return J(r,{code:q.invalid_type,expected:te.set,received:r.parsedType}),he;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(J(r,{code:q.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(J(r,{code:q.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(u){const c=new Set;for(const h of u){if(h.status==="aborted")return he;h.status==="dirty"&&n.dirty(),c.add(h.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((u,c)=>i._parse(new gr(r,u,r.path,c)));return r.common.async?Promise.all(a).then(u=>o(u)):o(a)}min(e,n){return new ya({...this._def,minSize:{value:e,message:se.toString(n)}})}max(e,n){return new ya({...this._def,maxSize:{value:e,message:se.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ya.create=(t,e)=>new ya({valueType:t,minSize:null,maxSize:null,typeName:ce.ZodSet,...ve(e)});class Ml extends Ie{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.function)return J(n,{code:q.invalid_type,expected:te.function,received:n.parsedType}),he;function r(a,u){return ag({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,og(),du].filter(c=>!!c),issueData:{code:q.invalid_arguments,argumentsError:u}})}function s(a,u){return ag({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,og(),du].filter(c=>!!c),issueData:{code:q.invalid_return_type,returnTypeError:u}})}const i={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof fu){const a=this;return un(async function(...u){const c=new bn([]),h=await a._def.args.parseAsync(u,i).catch(S=>{throw c.addIssue(r(u,S)),c}),f=await Reflect.apply(o,this,h);return await a._def.returns._def.type.parseAsync(f,i).catch(S=>{throw c.addIssue(s(f,S)),c})})}else{const a=this;return un(function(...u){const c=a._def.args.safeParse(u,i);if(!c.success)throw new bn([r(u,c.error)]);const h=Reflect.apply(o,this,c.data),f=a._def.returns.safeParse(h,i);if(!f.success)throw new bn([s(h,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ml({...this._def,args:Gr.create(e).rest($o.create())})}returns(e){return new Ml({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ml({args:e||Gr.create([]).rest($o.create()),returns:n||$o.create(),typeName:ce.ZodFunction,...ve(r)})}}class lh extends Ie{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}lh.create=(t,e)=>new lh({getter:t,typeName:ce.ZodLazy,...ve(e)});class uh extends Ie{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return J(n,{received:n.data,code:q.invalid_literal,expected:this._def.value}),he}return{status:"valid",value:e.data}}get value(){return this._def.value}}uh.create=(t,e)=>new uh({value:t,typeName:ce.ZodLiteral,...ve(e)});function PA(t,e){return new $i({values:t,typeName:ce.ZodEnum,...ve(e)})}class $i extends Ie{constructor(){super(...arguments),gl.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{expected:De.joinValues(r),received:n.parsedType,code:q.invalid_type}),he}if(nh(this,gl)||RA(this,gl,new Set(this._def.values)),!nh(this,gl).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return J(n,{received:n.data,code:q.invalid_enum_value,options:r}),he}return un(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return $i.create(e,{...this._def,...n})}exclude(e,n=this._def){return $i.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}gl=new WeakMap;$i.create=PA;class ch extends Ie{constructor(){super(...arguments),yl.set(this,void 0)}_parse(e){const n=De.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==te.string&&r.parsedType!==te.number){const s=De.objectValues(n);return J(r,{expected:De.joinValues(s),received:r.parsedType,code:q.invalid_type}),he}if(nh(this,yl)||RA(this,yl,new Set(De.getValidEnumValues(this._def.values))),!nh(this,yl).has(e.data)){const s=De.objectValues(n);return J(r,{received:r.data,code:q.invalid_enum_value,options:s}),he}return un(e.data)}get enum(){return this._def.values}}yl=new WeakMap;ch.create=(t,e)=>new ch({values:t,typeName:ce.ZodNativeEnum,...ve(e)});class fu extends Ie{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==te.promise&&n.common.async===!1)return J(n,{code:q.invalid_type,expected:te.promise,received:n.parsedType}),he;const r=n.parsedType===te.promise?n.data:Promise.resolve(n.data);return un(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}fu.create=(t,e)=>new fu({type:t,typeName:ce.ZodPromise,...ve(e)});class Qr extends Ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ce.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:o=>{J(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return he;const u=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return u.status==="aborted"?he:u.status==="dirty"||n.value==="dirty"?ml(u.value):u});{if(n.value==="aborted")return he;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?he:a.status==="dirty"||n.value==="dirty"?ml(a.value):a}}if(s.type==="refinement"){const o=a=>{const u=s.refinement(a,i);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?he:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eh(o))return o;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>eh(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):o);De.assertNever(s)}}Qr.create=(t,e,n)=>new Qr({schema:t,typeName:ce.ZodEffects,effect:e,...ve(n)});Qr.createWithPreprocess=(t,e,n)=>new Qr({schema:e,effect:{type:"preprocess",transform:t},typeName:ce.ZodEffects,...ve(n)});class Lr extends Ie{_parse(e){return this._getType(e)===te.undefined?un(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Lr.create=(t,e)=>new Lr({innerType:t,typeName:ce.ZodOptional,...ve(e)});class zi extends Ie{_parse(e){return this._getType(e)===te.null?un(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}zi.create=(t,e)=>new zi({innerType:t,typeName:ce.ZodNullable,...ve(e)});class dh extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===te.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}dh.create=(t,e)=>new dh({innerType:t,typeName:ce.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ve(e)});class hh extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return th(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new bn(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hh.create=(t,e)=>new hh({innerType:t,typeName:ce.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ve(e)});class pg extends Ie{_parse(e){if(this._getType(e)!==te.nan){const r=this._getOrReturnCtx(e);return J(r,{code:q.invalid_type,expected:te.nan,received:r.parsedType}),he}return{status:"valid",value:e.data}}}pg.create=t=>new pg({typeName:ce.ZodNaN,...ve(t)});class NA extends Ie{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ff extends Ie{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?he:i.status==="dirty"?(n.dirty(),ml(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?he:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new ff({in:e,out:n,typeName:ce.ZodPipeline})}}class fh extends Ie{_parse(e){const n=this._def.innerType._parse(e),r=s=>(eh(s)&&(s.value=Object.freeze(s.value)),s);return th(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}fh.create=(t,e)=>new fh({innerType:t,typeName:ce.ZodReadonly,...ve(e)});st.lazycreate;var ce;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ce||(ce={}));const Ll=Dr.create,I9=ma.create;pg.create;ga.create;lg.create;hu.create;ug.create;rh.create;sh.create;cg.create;$o.create;Ys.create;dg.create;fr.create;const DA=st.create;st.strictCreate;ih.create;vv.create;oh.create;Gr.create;ah.create;fg.create;ya.create;Ml.create;lh.create;uh.create;$i.create;ch.create;fu.create;Qr.create;Lr.create;zi.create;Qr.createWithPreprocess;ff.create;var x9="Label",OA=w.forwardRef((t,e)=>m.jsx(tt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));OA.displayName=x9;var VA=OA;const C9=Ey("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),fs=w.forwardRef(({className:t,...e},n)=>m.jsx(VA,{ref:n,className:ge(C9(),t),...e}));fs.displayName=VA.displayName;const MA=zU,LA=w.createContext({}),ko=({...t})=>m.jsx(LA.Provider,{value:{name:t.name},children:m.jsx(HU,{...t})}),pf=()=>{const t=w.useContext(LA),e=w.useContext(jA),{getFieldState:n,formState:r}=hf(),s=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:i}=e;return{id:i,name:t.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},jA=w.createContext({}),wi=w.forwardRef(({className:t,...e},n)=>{const r=w.useId();return m.jsx(jA.Provider,{value:{id:r},children:m.jsx("div",{ref:n,className:ge("space-y-2",t),...e})})});wi.displayName="FormItem";const Ei=w.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:s}=pf();return m.jsx(fs,{ref:n,className:ge(r&&"text-destructive",t),htmlFor:s,...e})});Ei.displayName="FormLabel";const Ti=w.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:s,formMessageId:i}=pf();return m.jsx(Vi,{ref:e,id:r,"aria-describedby":n?`${s} ${i}`:`${s}`,"aria-invalid":!!n,...t})});Ti.displayName="FormControl";const A9=w.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=pf();return m.jsx("p",{ref:n,id:r,className:ge("text-sm text-muted-foreground",t),...e})});A9.displayName="FormDescription";const Si=w.forwardRef(({className:t,children:e,...n},r)=>{const{error:s,formMessageId:i}=pf(),o=s?String(s==null?void 0:s.message):e;return o?m.jsx("p",{ref:r,id:i,className:ge("text-sm font-medium text-destructive",t),...n,children:o}):null});Si.displayName="FormMessage";const Rn=w.forwardRef(({className:t,type:e,...n},r)=>m.jsx("input",{type:e,className:ge("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));Rn.displayName="Input";var Ap="focusScope.autoFocusOnMount",Rp="focusScope.autoFocusOnUnmount",xE={bubbles:!1,cancelable:!0},R9="FocusScope",FA=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,u]=w.useState(null),c=Dn(s),h=Dn(i),f=w.useRef(null),g=ln(e,T=>u(T)),S=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let T=function(C){if(S.paused||!a)return;const O=C.target;a.contains(O)?f.current=O:cs(f.current,{select:!0})},A=function(C){if(S.paused||!a)return;const O=C.relatedTarget;O!==null&&(a.contains(O)||cs(f.current,{select:!0}))},E=function(C){if(document.activeElement===document.body)for(const M of C)M.removedNodes.length>0&&cs(a)};document.addEventListener("focusin",T),document.addEventListener("focusout",A);const y=new MutationObserver(E);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",A),y.disconnect()}}},[r,a,S.paused]),w.useEffect(()=>{if(a){AE.add(S);const T=document.activeElement;if(!a.contains(T)){const E=new CustomEvent(Ap,xE);a.addEventListener(Ap,c),a.dispatchEvent(E),E.defaultPrevented||(k9(O9(UA(a)),{select:!0}),document.activeElement===T&&cs(a))}return()=>{a.removeEventListener(Ap,c),setTimeout(()=>{const E=new CustomEvent(Rp,xE);a.addEventListener(Rp,h),a.dispatchEvent(E),E.defaultPrevented||cs(T??document.body,{select:!0}),a.removeEventListener(Rp,h),AE.remove(S)},0)}}},[a,c,h,S]);const R=w.useCallback(T=>{if(!n&&!r||S.paused)return;const A=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,E=document.activeElement;if(A&&E){const y=T.currentTarget,[C,O]=b9(y);C&&O?!T.shiftKey&&E===O?(T.preventDefault(),n&&cs(C,{select:!0})):T.shiftKey&&E===C&&(T.preventDefault(),n&&cs(O,{select:!0})):E===y&&T.preventDefault()}},[n,r,S.paused]);return m.jsx(tt.div,{tabIndex:-1,...o,ref:g,onKeyDown:R})});FA.displayName=R9;function k9(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(cs(r,{select:e}),document.activeElement!==n)return}function b9(t){const e=UA(t),n=CE(e,t),r=CE(e.reverse(),t);return[n,r]}function UA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CE(t,e){for(const n of t)if(!P9(n,{upTo:e}))return n}function P9(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function N9(t){return t instanceof HTMLInputElement&&"select"in t}function cs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&N9(t)&&e&&t.select()}}var AE=D9();function D9(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RE(t,e),t.unshift(e)},remove(e){var n;t=RE(t,e),(n=t[0])==null||n.resume()}}}function RE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function O9(t){return t.filter(e=>e.tagName!=="A")}var kp=0;function V9(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??kE()),document.body.insertAdjacentElement("beforeend",t[1]??kE()),kp++,()=>{kp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),kp--}},[])}function kE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sd="right-scroll-bar-position",id="width-before-scroll-bar",M9="with-scroll-bars-hidden",L9="--removed-body-scroll-bar-size";function bp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function j9(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var F9=typeof window<"u"?w.useLayoutEffect:w.useEffect,bE=new WeakMap;function U9(t,e){var n=j9(null,function(r){return t.forEach(function(s){return bp(s,r)})});return F9(function(){var r=bE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||bp(a,null)}),i.forEach(function(a){s.has(a)||bp(a,o)})}bE.set(n,t)},[t]),n}function $9(t){return t}function z9(t,e){e===void 0&&(e=$9);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var u=function(){var h=o;o=[],h.forEach(i)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return s}function B9(t){t===void 0&&(t={});var e=z9(null);return e.options=ir({async:!0,ssr:!1},t),e}var $A=function(t){var e=t.sideCar,n=Iu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,ir({},n))};$A.isSideCarExport=!0;function W9(t,e){return t.useMedium(e),$A}var zA=B9(),Pp=function(){},mf=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:Pp,onWheelCapture:Pp,onTouchMoveCapture:Pp}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,g=t.sideCar,S=t.noIsolation,R=t.inert,T=t.allowPinchZoom,A=t.as,E=A===void 0?"div":A,y=t.gapMode,C=Iu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,M=U9([n,e]),U=ir(ir({},C),s);return w.createElement(w.Fragment,null,h&&w.createElement(O,{sideCar:zA,removeScrollBar:c,shards:f,noIsolation:S,inert:R,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:y}),o?w.cloneElement(w.Children.only(a),ir(ir({},U),{ref:M})):w.createElement(E,ir({},U,{className:u,ref:M}),a))});mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mf.classNames={fullWidth:id,zeroRight:sd};var q9=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function H9(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=q9();return e&&t.setAttribute("nonce",e),t}function K9(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function G9(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Q9=function(){var t=0,e=null;return{add:function(n){t==0&&(e=H9())&&(K9(e,n),G9(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Y9=function(){var t=Q9();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BA=function(){var t=Y9(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},Z9={left:0,top:0,right:0,gap:0},Np=function(t){return parseInt(t||"",10)||0},X9=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Np(n),Np(r),Np(s)]},J9=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Z9;var e=X9(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},e3=BA(),zo="data-scroll-locked",t3=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(M9,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(zo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(id," .").concat(id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(zo,`] {
    `).concat(L9,": ").concat(a,`px;
  }
`)},PE=function(){var t=parseInt(document.body.getAttribute(zo)||"0",10);return isFinite(t)?t:0},n3=function(){w.useEffect(function(){return document.body.setAttribute(zo,(PE()+1).toString()),function(){var t=PE()-1;t<=0?document.body.removeAttribute(zo):document.body.setAttribute(zo,t.toString())}},[])},r3=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;n3();var i=w.useMemo(function(){return J9(s)},[s]);return w.createElement(e3,{styles:t3(i,!e,s,n?"":"!important")})},mg=!1;if(typeof window<"u")try{var Rc=Object.defineProperty({},"passive",{get:function(){return mg=!0,!0}});window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{mg=!1}var lo=mg?{passive:!1}:!1,s3=function(t){return t.tagName==="TEXTAREA"},WA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!s3(t)&&n[e]==="visible")},i3=function(t){return WA(t,"overflowY")},o3=function(t){return WA(t,"overflowX")},NE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=qA(t,r);if(s){var i=HA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},a3=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},l3=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qA=function(t,e){return t==="v"?i3(e):o3(e)},HA=function(t,e){return t==="v"?a3(e):l3(e)},u3=function(t,e){return t==="h"&&e==="rtl"?-1:1},c3=function(t,e,n,r,s){var i=u3(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,u=e.contains(a),c=!1,h=o>0,f=0,g=0;do{var S=HA(t,a),R=S[0],T=S[1],A=S[2],E=T-A-i*R;(R||E)&&qA(t,a)&&(f+=E,g+=R),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(g)<1||!s))&&(c=!0),c},kc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DE=function(t){return[t.deltaX,t.deltaY]},OE=function(t){return t&&"current"in t?t.current:t},d3=function(t,e){return t[0]===e[0]&&t[1]===e[1]},h3=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},f3=0,uo=[];function p3(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),s=w.useState(f3++)[0],i=w.useState(BA)[0],o=w.useRef(t);w.useEffect(function(){o.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var T=T2([t.lockRef.current],(t.shards||[]).map(OE),!0).filter(Boolean);return T.forEach(function(A){return A.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),T.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=w.useCallback(function(T,A){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!o.current.allowPinchZoom;var E=kc(T),y=n.current,C="deltaX"in T?T.deltaX:y[0]-E[0],O="deltaY"in T?T.deltaY:y[1]-E[1],M,U=T.target,I=Math.abs(C)>Math.abs(O)?"h":"v";if("touches"in T&&I==="h"&&U.type==="range")return!1;var v=NE(I,U);if(!v)return!0;if(v?M=I:(M=I==="v"?"h":"v",v=NE(I,U)),!v)return!1;if(!r.current&&"changedTouches"in T&&(C||O)&&(r.current=M),!M)return!0;var x=r.current||M;return c3(x,A,T,x==="h"?C:O,!0)},[]),u=w.useCallback(function(T){var A=T;if(!(!uo.length||uo[uo.length-1]!==i)){var E="deltaY"in A?DE(A):kc(A),y=e.current.filter(function(M){return M.name===A.type&&(M.target===A.target||A.target===M.shadowParent)&&d3(M.delta,E)})[0];if(y&&y.should){A.cancelable&&A.preventDefault();return}if(!y){var C=(o.current.shards||[]).map(OE).filter(Boolean).filter(function(M){return M.contains(A.target)}),O=C.length>0?a(A,C[0]):!o.current.noIsolation;O&&A.cancelable&&A.preventDefault()}}},[]),c=w.useCallback(function(T,A,E,y){var C={name:T,delta:A,target:E,should:y,shadowParent:m3(E)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(O){return O!==C})},1)},[]),h=w.useCallback(function(T){n.current=kc(T),r.current=void 0},[]),f=w.useCallback(function(T){c(T.type,DE(T),T.target,a(T,t.lockRef.current))},[]),g=w.useCallback(function(T){c(T.type,kc(T),T.target,a(T,t.lockRef.current))},[]);w.useEffect(function(){return uo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,lo),document.addEventListener("touchmove",u,lo),document.addEventListener("touchstart",h,lo),function(){uo=uo.filter(function(T){return T!==i}),document.removeEventListener("wheel",u,lo),document.removeEventListener("touchmove",u,lo),document.removeEventListener("touchstart",h,lo)}},[]);var S=t.removeScrollBar,R=t.inert;return w.createElement(w.Fragment,null,R?w.createElement(i,{styles:h3(s)}):null,S?w.createElement(r3,{gapMode:t.gapMode}):null)}function m3(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const g3=W9(zA,p3);var KA=w.forwardRef(function(t,e){return w.createElement(mf,ir({},t,{ref:e,sideCar:g3}))});KA.classNames=mf.classNames;var y3=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},co=new WeakMap,bc=new WeakMap,Pc={},Dp=0,GA=function(t){return t&&(t.host||GA(t.parentNode))},v3=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=GA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_3=function(t,e,n,r){var s=v3(e,Array.isArray(t)?t:[t]);Pc[n]||(Pc[n]=new WeakMap);var i=Pc[n],o=[],a=new Set,u=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(a.has(g))h(g);else try{var S=g.getAttribute(r),R=S!==null&&S!=="false",T=(co.get(g)||0)+1,A=(i.get(g)||0)+1;co.set(g,T),i.set(g,A),o.push(g),T===1&&R&&bc.set(g,!0),A===1&&g.setAttribute(n,"true"),R||g.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",g,E)}})};return h(e),a.clear(),Dp++,function(){o.forEach(function(f){var g=co.get(f)-1,S=i.get(f)-1;co.set(f,g),i.set(f,S),g||(bc.has(f)||f.removeAttribute(r),bc.delete(f)),S||f.removeAttribute(n)}),Dp--,Dp||(co=new WeakMap,co=new WeakMap,bc=new WeakMap,Pc={})}},w3=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=y3(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),_3(r,s,n,"aria-hidden")):function(){return null}},_v="Dialog",[QA,YA]=Lh(_v),[E3,Zn]=QA(_v),ZA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=w.useRef(null),u=w.useRef(null),[c=!1,h]=jh({prop:r,defaultProp:s,onChange:i});return m.jsx(E3,{scope:e,triggerRef:a,contentRef:u,contentId:Dl(),titleId:Dl(),descriptionId:Dl(),open:c,onOpenChange:h,onOpenToggle:w.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};ZA.displayName=_v;var XA="DialogTrigger",JA=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(XA,n),i=ln(e,s.triggerRef);return m.jsx(tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Tv(s.open),...r,ref:i,onClick:ze(t.onClick,s.onOpenToggle)})});JA.displayName=XA;var wv="DialogPortal",[T3,eR]=QA(wv,{forceMount:void 0}),tR=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=Zn(wv,e);return m.jsx(T3,{scope:e,forceMount:n,children:w.Children.map(r,o=>m.jsx(Ta,{present:n||i.open,children:m.jsx(gy,{asChild:!0,container:s,children:o})}))})};tR.displayName=wv;var ph="DialogOverlay",nR=w.forwardRef((t,e)=>{const n=eR(ph,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(ph,t.__scopeDialog);return i.modal?m.jsx(Ta,{present:r||i.open,children:m.jsx(S3,{...s,ref:e})}):null});nR.displayName=ph;var S3=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(ph,n);return m.jsx(KA,{as:Vi,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(tt.div,{"data-state":Tv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Bi="DialogContent",rR=w.forwardRef((t,e)=>{const n=eR(Bi,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=Zn(Bi,t.__scopeDialog);return m.jsx(Ta,{present:r||i.open,children:i.modal?m.jsx(I3,{...s,ref:e}):m.jsx(x3,{...s,ref:e})})});rR.displayName=Bi;var I3=w.forwardRef((t,e)=>{const n=Zn(Bi,t.__scopeDialog),r=w.useRef(null),s=ln(e,n.contentRef,r);return w.useEffect(()=>{const i=r.current;if(i)return w3(i)},[]),m.jsx(sR,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ze(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ze(t.onFocusOutside,i=>i.preventDefault())})}),x3=w.forwardRef((t,e)=>{const n=Zn(Bi,t.__scopeDialog),r=w.useRef(!1),s=w.useRef(!1);return m.jsx(sR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),sR=w.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=Zn(Bi,n),u=w.useRef(null),c=ln(e,u);return V9(),m.jsxs(m.Fragment,{children:[m.jsx(FA,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:m.jsx(my,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Tv(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(A3,{titleId:a.titleId}),m.jsx(k3,{contentRef:u,descriptionId:a.descriptionId})]})]})}),Ev="DialogTitle",iR=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(Ev,n);return m.jsx(tt.h2,{id:s.titleId,...r,ref:e})});iR.displayName=Ev;var oR="DialogDescription",aR=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(oR,n);return m.jsx(tt.p,{id:s.descriptionId,...r,ref:e})});aR.displayName=oR;var lR="DialogClose",uR=w.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=Zn(lR,n);return m.jsx(tt.button,{type:"button",...r,ref:e,onClick:ze(t.onClick,()=>s.onOpenChange(!1))})});uR.displayName=lR;function Tv(t){return t?"open":"closed"}var cR="DialogTitleWarning",[C3,dR]=fD(cR,{contentName:Bi,titleName:Ev,docsSlug:"dialog"}),A3=({titleId:t})=>{const e=dR(cR),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},R3="DialogDescriptionWarning",k3=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${dR(R3).contentName}}.`;return w.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},hR=ZA,fR=JA,pR=tR,Sv=nR,Iv=rR,xv=iR,Cv=aR,Av=uR;const b3=hR,P3=fR,N3=pR,mR=w.forwardRef(({className:t,...e},n)=>m.jsx(Sv,{ref:n,className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));mR.displayName=Sv.displayName;const gR=w.forwardRef(({className:t,children:e,...n},r)=>m.jsxs(N3,{children:[m.jsx(mR,{}),m.jsxs(Iv,{ref:r,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,m.jsxs(Av,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[m.jsx(tx,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gR.displayName=Iv.displayName;const yR=({className:t,...e})=>m.jsx("div",{className:ge("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});yR.displayName="DialogHeader";const vR=w.forwardRef(({className:t,...e},n)=>m.jsx(xv,{ref:n,className:ge("text-lg font-semibold leading-none tracking-tight",t),...e}));vR.displayName=xv.displayName;const D3=w.forwardRef(({className:t,...e},n)=>m.jsx(Cv,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));D3.displayName=Cv.displayName;function O3(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),{toast:s}=Zr(),i=async o=>{if(o.preventDefault(),o.stopPropagation(),!t){s({variant:"destructive",title:"Error",description:"Please enter your email address"});return}try{await dU(t),s({title:"Success",description:"Password reset email sent. Please check your inbox."}),e(""),r(!1)}catch(a){s({variant:"destructive",title:"Error",description:a.message})}};return m.jsxs(b3,{open:n,onOpenChange:r,children:[m.jsx(P3,{asChild:!0,children:m.jsx(at,{variant:"link",className:"px-0 font-normal",children:"Forgot password?"})}),m.jsxs(gR,{className:"sm:max-w-[425px]",children:[m.jsx(yR,{children:m.jsx(vR,{children:"Reset Password"})}),m.jsxs("form",{onSubmit:i,className:"space-y-4",children:[m.jsx(Rn,{type:"email",placeholder:"Enter your email",value:t,onChange:o=>e(o.target.value),required:!0}),m.jsx(at,{type:"submit",className:"w-full",children:"Send Reset Link"})]})]})]})}var _R={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VE=pe.createContext&&pe.createContext(_R),V3=["attr","size","title"];function M3(t,e){if(t==null)return{};var n=L3(t,e),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function L3(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function ME(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function gh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ME(Object(n),!0).forEach(function(r){j3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ME(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j3(t,e,n){return e=F3(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F3(t){var e=U3(t,"string");return typeof e=="symbol"?e:e+""}function U3(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wR(t){return t&&t.map((e,n)=>pe.createElement(e.tag,gh({key:n},e.attr),wR(e.child)))}function ER(t){return e=>pe.createElement($3,mh({attr:gh({},t.attr)},e),wR(t.child))}function $3(t){var e=n=>{var{attr:r,size:s,title:i}=t,o=M3(t,V3),a=s||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),pe.createElement("svg",mh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:u,style:gh(gh({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),i&&pe.createElement("title",null,i),t.children)};return VE!==void 0?pe.createElement(VE.Consumer,null,n=>e(n)):e(_R)}function TR(t){return ER({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function SR(t){return ER({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const z3=DA({email:Ll().email(),password:Ll().min(6)});function B3(){const{toast:t}=Zr(),e=xA({resolver:AA(z3),defaultValues:{email:"",password:""}});async function n(i){try{await uU(i.email,i.password),t({title:"Success",description:"You have been logged in"})}catch(o){t({variant:"destructive",title:"Login Error",description:o.message||"Failed to log in. Please try again."})}}const r=async()=>{try{await j1(),t({title:"Success",description:"You have been logged in with Google"})}catch(i){t({variant:"destructive",title:"Google Sign-In Error",description:i.message})}},s=async()=>{try{await F1(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(i){t({variant:"destructive",title:"Facebook Sign-In Error",description:i.message})}};return m.jsxs(Hr,{className:"w-[350px]",children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Login"})}),m.jsx(Kr,{children:m.jsx(MA,{...e,children:m.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[m.jsx(ko,{control:e.control,name:"email",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Email"}),m.jsx(Ti,{children:m.jsx(Rn,{placeholder:"email@example.com",...i})}),m.jsx(Si,{})]})}),m.jsx(ko,{control:e.control,name:"password",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Password"}),m.jsx(Ti,{children:m.jsx(Rn,{type:"password",...i})}),m.jsx(Si,{})]})}),m.jsx("div",{className:"text-sm",children:m.jsx(O3,{})}),m.jsx(at,{type:"submit",className:"w-full",children:"Sign in"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs(at,{type:"button",variant:"outline",className:"w-full",onClick:r,children:[m.jsx(SR,{className:"mr-2 h-4 w-4"}),"Google"]}),m.jsxs(at,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[m.jsx(TR,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}const W3=DA({email:Ll().email(),password:Ll().min(6),name:Ll().min(2),age:I9().min(13).max(120)});function q3(){const{toast:t}=Zr(),e=xA({resolver:AA(W3),defaultValues:{email:"",password:"",name:"",age:18}});async function n(i){try{await lU(i),t({title:"Success",description:"Please verify your email to continue"})}catch(o){t({variant:"destructive",title:"Error",description:o.message})}}const r=async()=>{try{await j1(),t({title:"Success",description:"You have been logged in with Google"})}catch(i){t({variant:"destructive",title:"Error",description:i.message})}},s=async()=>{try{await F1(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(i){t({variant:"destructive",title:"Error",description:i.message})}};return m.jsxs(Hr,{className:"w-[350px]",children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Sign up"})}),m.jsx(Kr,{children:m.jsx(MA,{...e,children:m.jsxs("form",{onSubmit:e.handleSubmit(n),className:"space-y-4",children:[m.jsx(ko,{control:e.control,name:"email",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Email"}),m.jsx(Ti,{children:m.jsx(Rn,{placeholder:"email@example.com",...i})}),m.jsx(Si,{})]})}),m.jsx(ko,{control:e.control,name:"password",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Password"}),m.jsx(Ti,{children:m.jsx(Rn,{type:"password",...i})}),m.jsx(Si,{})]})}),m.jsx(ko,{control:e.control,name:"name",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Name"}),m.jsx(Ti,{children:m.jsx(Rn,{...i})}),m.jsx(Si,{})]})}),m.jsx(ko,{control:e.control,name:"age",render:({field:i})=>m.jsxs(wi,{children:[m.jsx(Ei,{children:"Age"}),m.jsx(Ti,{children:m.jsx(Rn,{type:"number",...i,onChange:o=>i.onChange(parseInt(o.target.value))})}),m.jsx(Si,{})]})}),m.jsx(at,{type:"submit",className:"w-full",children:"Sign up"}),m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs(at,{type:"button",variant:"outline",className:"w-full",onClick:r,children:[m.jsx(SR,{className:"mr-2 h-4 w-4"}),"Google"]}),m.jsxs(at,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[m.jsx(TR,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}function H3(){return m.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:m.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to Auth Demo"}),m.jsxs(FU,{defaultValue:"login",className:"w-[350px]",children:[m.jsxs(lA,{className:"grid w-full grid-cols-2",children:[m.jsx(rg,{value:"login",children:"Login"}),m.jsx(rg,{value:"signup",children:"Sign up"})]}),m.jsx(sg,{value:"login",children:m.jsx(B3,{})}),m.jsx(sg,{value:"signup",children:m.jsx(q3,{})})]})]})})}function IR(){var o;const{toast:t}=Zr(),[e,n]=w.useState(!1);if((o=wt.currentUser)==null?void 0:o.providerData.some(a=>a.providerId==="facebook.com"))return null;const s=async()=>{try{await cU(),t({title:"Success",description:"Verification email sent"})}catch(a){t({variant:"destructive",title:"Error",description:a.message})}},i=async()=>{var a,u;n(!0);try{if(await((a=wt.currentUser)==null?void 0:a.reload()),(u=wt.currentUser)!=null&&u.emailVerified){window.location.reload();return}t({variant:"destructive",title:"Not verified",description:"Please check your email and verify your address before continuing"})}catch(c){t({variant:"destructive",title:"Error",description:c.message})}finally{n(!1)}};return m.jsxs(Hr,{className:"w-[350px]",children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Verify your email"})}),m.jsxs(Kr,{className:"space-y-4",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your email for a verification link. Once verified, click the button below to continue."}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(at,{onClick:i,className:"w-full",disabled:e,children:e?"Checking...":"Verify and Continue"}),m.jsx(at,{onClick:s,variant:"outline",className:"w-full",disabled:e,children:"Resend verification email"})]})]})]})}function va({className:t,...e}){return m.jsx("div",{className:ge("animate-pulse rounded-md bg-muted",t),...e})}function LE(){var a;const{user:t,loading:e,verified:n}=$1(),{toast:r}=Zr(),[,s]=AN(),i=async()=>{try{await oU(),r({title:"Account deleted",description:"Your account has been successfully deleted"}),s("/")}catch(u){r({variant:"destructive",title:"Error",description:u.message})}};if(e)return m.jsxs("div",{className:"container py-8",children:[m.jsx(va,{className:"h-8 w-[200px]"}),m.jsx(va,{className:"mt-4 h-32 w-full"})]});if(!n)return m.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:m.jsx(IR,{})});const o=((a=t==null?void 0:t.displayName)==null?void 0:a.split("|")[0])||"User";return m.jsxs("div",{className:"container py-8",children:[m.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome, ",o,"!"]}),m.jsx("p",{className:"mt-4 text-muted-foreground",children:"You've successfully logged in and verified your email."}),m.jsx("div",{className:"mt-8",children:m.jsx(at,{variant:"destructive",onClick:i,className:"w-full max-w-xs",children:"Delete Account"})})]})}const xR=w.forwardRef(({className:t,...e},n)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:n,className:ge("w-full caption-bottom text-sm",t),...e})}));xR.displayName="Table";const CR=w.forwardRef(({className:t,...e},n)=>m.jsx("thead",{ref:n,className:ge("[&_tr]:border-b",t),...e}));CR.displayName="TableHeader";const AR=w.forwardRef(({className:t,...e},n)=>m.jsx("tbody",{ref:n,className:ge("[&_tr:last-child]:border-0",t),...e}));AR.displayName="TableBody";const K3=w.forwardRef(({className:t,...e},n)=>m.jsx("tfoot",{ref:n,className:ge("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));K3.displayName="TableFooter";const gg=w.forwardRef(({className:t,...e},n)=>m.jsx("tr",{ref:n,className:ge("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));gg.displayName="TableRow";const di=w.forwardRef(({className:t,...e},n)=>m.jsx("th",{ref:n,className:ge("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));di.displayName="TableHead";const hi=w.forwardRef(({className:t,...e},n)=>m.jsx("td",{ref:n,className:ge("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));hi.displayName="TableCell";const G3=w.forwardRef(({className:t,...e},n)=>m.jsx("caption",{ref:n,className:ge("mt-4 text-sm text-muted-foreground",t),...e}));G3.displayName="TableCaption";var RR="AlertDialog",[Q3,T$]=Lh(RR,[YA]),ts=YA(),kR=t=>{const{__scopeAlertDialog:e,...n}=t,r=ts(e);return m.jsx(hR,{...r,...n,modal:!0})};kR.displayName=RR;var Y3="AlertDialogTrigger",bR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ts(n);return m.jsx(fR,{...s,...r,ref:e})});bR.displayName=Y3;var Z3="AlertDialogPortal",PR=t=>{const{__scopeAlertDialog:e,...n}=t,r=ts(e);return m.jsx(pR,{...r,...n})};PR.displayName=Z3;var X3="AlertDialogOverlay",NR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ts(n);return m.jsx(Sv,{...s,...r,ref:e})});NR.displayName=X3;var Bo="AlertDialogContent",[J3,e$]=Q3(Bo),DR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ts(n),o=w.useRef(null),a=ln(e,o),u=w.useRef(null);return m.jsx(C3,{contentName:Bo,titleName:OR,docsSlug:"alert-dialog",children:m.jsx(J3,{scope:n,cancelRef:u,children:m.jsxs(Iv,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:ze(s.onOpenAutoFocus,c=>{var h;c.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[m.jsx(RI,{children:r}),m.jsx(n$,{contentRef:o})]})})})});DR.displayName=Bo;var OR="AlertDialogTitle",VR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ts(n);return m.jsx(xv,{...s,...r,ref:e})});VR.displayName=OR;var MR="AlertDialogDescription",LR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ts(n);return m.jsx(Cv,{...s,...r,ref:e})});LR.displayName=MR;var t$="AlertDialogAction",jR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ts(n);return m.jsx(Av,{...s,...r,ref:e})});jR.displayName=t$;var FR="AlertDialogCancel",UR=w.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=e$(FR,n),i=ts(n),o=ln(e,s);return m.jsx(Av,{...i,...r,ref:o})});UR.displayName=FR;var n$=({contentRef:t})=>{const e=`\`${Bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bo}\` by passing a \`${MR}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return w.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},r$=kR,s$=bR,i$=PR,$R=NR,zR=DR,BR=jR,WR=UR,qR=VR,HR=LR;const o$=r$,a$=s$,l$=i$,KR=w.forwardRef(({className:t,...e},n)=>m.jsx($R,{className:ge("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));KR.displayName=$R.displayName;const GR=w.forwardRef(({className:t,...e},n)=>m.jsxs(l$,{children:[m.jsx(KR,{}),m.jsx(zR,{ref:n,className:ge("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));GR.displayName=zR.displayName;const QR=({className:t,...e})=>m.jsx("div",{className:ge("flex flex-col space-y-2 text-center sm:text-left",t),...e});QR.displayName="AlertDialogHeader";const YR=({className:t,...e})=>m.jsx("div",{className:ge("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});YR.displayName="AlertDialogFooter";const ZR=w.forwardRef(({className:t,...e},n)=>m.jsx(qR,{ref:n,className:ge("text-lg font-semibold",t),...e}));ZR.displayName=qR.displayName;const XR=w.forwardRef(({className:t,...e},n)=>m.jsx(HR,{ref:n,className:ge("text-sm text-muted-foreground",t),...e}));XR.displayName=HR.displayName;const JR=w.forwardRef(({className:t,...e},n)=>m.jsx(BR,{ref:n,className:ge(Sy(),t),...e}));JR.displayName=BR.displayName;const ek=w.forwardRef(({className:t,...e},n)=>m.jsx(WR,{ref:n,className:ge(Sy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ek.displayName=WR.displayName;function u$(){const{loading:t}=pU(),[e,n]=w.useState([]),[r,s]=w.useState(!0),{toast:i}=Zr();w.useEffect(()=>{async function u(){try{const c=await iU();n(c)}catch(c){i({variant:"destructive",title:"Error",description:c.message||"Failed to load users"})}finally{s(!1)}}t||u()},[t,i]);const o=async(u,c)=>{try{await lf(u,c),n(h=>h.map(f=>f.userId===u?{...f,role:c,updatedAt:new Date().toISOString()}:f)),i({title:"Success",description:`User role updated to ${c}`})}catch(h){i({variant:"destructive",title:"Error",description:h.message||"Failed to update user role"})}},a=async u=>{try{await fU(u),n(c=>c.map(h=>h.userId===u?{...h,role:"disabled",updatedAt:new Date().toISOString()}:h)),i({title:"Success",description:"User has been disabled"})}catch(c){i({variant:"destructive",title:"Error",description:c.message||"Failed to disable user"})}};return t||r?m.jsxs("div",{className:"container py-8",children:[m.jsx(va,{className:"h-8 w-[200px]"}),m.jsx(va,{className:"mt-4 h-32 w-full"})]}):m.jsxs("div",{className:"container py-8",children:[m.jsx("div",{className:"flex items-center justify-between",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),m.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage users and their roles"})]})}),m.jsx("div",{className:"mt-8 rounded-md border",children:m.jsxs(xR,{children:[m.jsx(CR,{children:m.jsxs(gg,{children:[m.jsx(di,{children:"User"}),m.jsx(di,{children:"User ID"}),m.jsx(di,{children:"Email"}),m.jsx(di,{children:"Role"}),m.jsx(di,{children:"Last Updated"}),m.jsx(di,{className:"text-right",children:"Actions"})]})}),m.jsx(AR,{children:e.map(u=>m.jsxs(gg,{children:[m.jsx(hi,{children:u.displayName||"N/A"}),m.jsx(hi,{className:"font-mono text-sm text-muted-foreground",children:u.userId}),m.jsx(hi,{children:u.email||"N/A"}),m.jsx(hi,{className:"capitalize",children:u.role}),m.jsx(hi,{children:new Date(u.updatedAt).toLocaleDateString()}),m.jsx(hi,{children:m.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.role!=="disabled"&&m.jsx(at,{variant:"outline",size:"sm",onClick:()=>o(u.userId,u.role==="admin"?"user":"admin"),children:u.role==="admin"?m.jsxs(m.Fragment,{children:[m.jsx(nO,{className:"mr-2 h-4 w-4"}),"Remove Admin"]}):m.jsxs(m.Fragment,{children:[m.jsx(rO,{className:"mr-2 h-4 w-4"}),"Make Admin"]})}),m.jsxs(o$,{children:[m.jsx(a$,{asChild:!0,children:m.jsxs(at,{variant:"destructive",size:"sm",className:"gap-2",disabled:u.role==="disabled",children:[m.jsx(JD,{className:"h-4 w-4"}),"Disable User"]})}),m.jsxs(GR,{children:[m.jsxs(QR,{children:[m.jsx(ZR,{children:"Disable User Account"}),m.jsx(XR,{children:"This action will disable the user account. The user will no longer be able to access the application."})]}),m.jsxs(YR,{children:[m.jsx(ek,{children:"Cancel"}),m.jsx(JR,{onClick:()=>a(u.userId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Disable"})]})]})]})]})})]},u.userId))})]})})]})}function c$(){const{user:t,loading:e,role:n}=$1(),{toast:r}=Zr(),[s,i]=w.useState(!1),[o,a]=w.useState(""),[u,c]=w.useState(""),[h,f]=w.useState("");if(e)return m.jsxs("div",{className:"container py-8",children:[m.jsx(va,{className:"h-8 w-[200px]"}),m.jsx(va,{className:"mt-4 h-32 w-full"})]});const g=(t==null?void 0:t.displayName)||"User",S=t==null?void 0:t.providerData.some(A=>A.providerId==="facebook.com"),R=async()=>{try{o&&(await aU(t,{displayName:o}),r({title:"Success",description:"Profile updated successfully"}),i(!1),a(""))}catch(A){r({variant:"destructive",title:"Error",description:A.message})}},T=async()=>{if(!h||!u){r({variant:"destructive",title:"Error",description:"Please fill in both current and new password fields"});return}try{await hU(t,h,u),r({title:"Success",description:"Password updated successfully"}),f(""),c("")}catch(A){r({variant:"destructive",title:"Error",description:A.message})}};return m.jsxs("div",{className:"container py-8 space-y-6",children:[m.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),m.jsxs(Hr,{children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Personal Information"})}),m.jsxs(Kr,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"Email"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"Display Name"}),s?m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Rn,{value:o,onChange:A=>a(A.target.value),placeholder:g}),m.jsx(at,{onClick:R,children:"Save"}),m.jsx(at,{variant:"outline",onClick:()=>i(!1),children:"Cancel"})]}):m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("p",{className:"text-sm text-muted-foreground",children:g}),m.jsx(at,{variant:"outline",size:"sm",onClick:()=>i(!0),children:"Edit"})]})]}),n==="admin"&&m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"Role"}),m.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:n})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"Email Status"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:S?"Verified by Facebook":t!=null&&t.emailVerified?"Verified":"Not verified"})]})]})]}),m.jsxs(Hr,{children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Change Password"})}),m.jsxs(Kr,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"Current Password"}),m.jsx(Rn,{type:"password",value:h,onChange:A=>f(A.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(fs,{children:"New Password"}),m.jsx(Rn,{type:"password",value:u,onChange:A=>c(A.target.value)})]}),m.jsx(at,{onClick:T,children:"Update Password"})]})]})]})}function jE(){return m.jsx("div",{className:"container py-8",children:m.jsxs(Hr,{children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Privacy Policy"})}),m.jsxs(Kr,{className:"prose dark:prose-invert",children:[m.jsx("h2",{children:"Introduction"}),m.jsx("p",{children:"This Privacy Policy outlines how we collect, use, and protect your personal information when you use our authentication service."}),m.jsx("h2",{children:"Information We Collect"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Basic profile information (name, email)"}),m.jsx("li",{children:"Authentication provider information"}),m.jsx("li",{children:"Usage data and timestamps"})]}),m.jsx("h2",{children:"How We Use Your Information"}),m.jsx("p",{children:"We use your information to:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Provide and maintain our authentication service"}),m.jsx("li",{children:"Improve user experience"}),m.jsx("li",{children:"Communicate with you about your account"})]}),m.jsx("h2",{children:"Data Protection"}),m.jsx("p",{children:"We implement appropriate security measures to protect your personal information. Your data is stored securely using industry-standard encryption."}),m.jsx("h2",{children:"Contact Us"}),m.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at support@example.com"}),m.jsx("h2",{children:"Updates to This Policy"}),m.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page."}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-8",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})})}function FE(){const[t,e]=w.useState(""),{toast:n}=Zr(),r=s=>{s.preventDefault(),n({title:"Request Received",description:"We'll process your data deletion request within 30 days."}),e("")};return m.jsx("div",{className:"container py-8",children:m.jsxs(Hr,{children:[m.jsx(Gs,{children:m.jsx(Qs,{children:"Data Deletion Request"})}),m.jsxs(Kr,{className:"prose dark:prose-invert",children:[m.jsx("h2",{children:"How to Delete Your Data"}),m.jsx("h3",{children:"Option 1: Through Your Account"}),m.jsx("p",{children:"If you have an active account, you can delete your data by:"}),m.jsxs("ol",{children:[m.jsx("li",{children:"Logging into your account"}),m.jsx("li",{children:"Going to Profile settings"}),m.jsx("li",{children:'Clicking on "Delete Account"'})]}),m.jsx("h3",{children:"Option 2: Submit a Deletion Request"}),m.jsx("p",{children:"If you don't have access to your account, you can submit a deletion request:"}),m.jsxs("form",{onSubmit:r,className:"space-y-4 not-prose",children:[m.jsx("div",{children:m.jsx(Rn,{type:"email",placeholder:"Enter your email",value:t,onChange:s=>e(s.target.value),required:!0})}),m.jsx(at,{type:"submit",children:"Submit Deletion Request"})]}),m.jsx("h3",{className:"mt-8",children:"What Gets Deleted"}),m.jsx("p",{children:"When you request data deletion, we will remove:"}),m.jsxs("ul",{children:[m.jsx("li",{children:"Your profile information"}),m.jsx("li",{children:"Authentication data"}),m.jsx("li",{children:"Usage history"})]}),m.jsx("p",{children:"Note: The deletion process may take up to 30 days to complete across all our systems."}),m.jsx("h3",{children:"Contact Us"}),m.jsx("p",{children:"If you have any questions about data deletion, please contact us at privacy@example.com"})]})]})})}function d$(){const{user:t,loading:e,role:n}=uf();if(window.location.pathname==="/privacy-policy")return m.jsx(jE,{});if(window.location.pathname==="/data-deletion")return m.jsx(FE,{});if(e)return null;if(!t)return m.jsx(H3,{});const r=t.providerData.some(s=>s.providerId==="facebook.com");return!t.emailVerified&&!r?m.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:m.jsx(IR,{})}):m.jsxs(bN,{children:[m.jsx(ai,{path:"/",component:LE}),m.jsx(ai,{path:"/welcome",component:LE}),n==="admin"&&m.jsx(ai,{path:"/admin",component:u$}),m.jsx(ai,{path:"/profile",component:c$}),m.jsx(ai,{path:"/privacy-policy",component:jE}),m.jsx(ai,{path:"/data-deletion",component:FE}),m.jsx(ai,{component:vU})]})}function h$(){return m.jsx(w.StrictMode,{children:m.jsxs(eD,{client:tD,children:[m.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[m.jsx(mU,{}),m.jsx(d$,{})]}),m.jsx(UO,{})]})})}const tk=document.getElementById("root");if(!tk)throw new Error("Failed to find the root element");lI(tk).render(m.jsx(w.StrictMode,{children:m.jsx(h$,{})}));
