var Ka=t=>{throw TypeError(t)};var Nn=(t,e,r)=>e.has(t)||Ka("Cannot "+r);var S=(t,e,r)=>(Nn(t,e,"read from private field"),r?r.call(t):e.get(t)),fe=(t,e,r)=>e.has(t)?Ka("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),re=(t,e,r,s)=>(Nn(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),De=(t,e,r)=>(Nn(t,e,"access private method"),r);var bs=(t,e,r,s)=>({set _(n){re(t,e,n,r)},get _(){return S(t,e,s)}});import{j as i,P as _e,c as oo,a as pa,u as tt,B as Yu,b as Fs,d as lo,e as rs,f as pe,R as Ju,g as co,h as kt,i as ed,X as uo,S as ma,C as td,k as rd,l as fo,m as ho,n as on,o as sd,I as nd,O as po,p as mo,q as ad,T as go,D as yo,r as id,s as od,t as ld,v as vo,w as xo,x as bo,y as wo,A as _o,z as So,E as cd,F as ud,G as dd,H as Qa,J as fd,K as hd,L as pd,M as To,N as md,Q as gd,U as yd,V as vd,W as xd,Y as bd,Z as wd,_ as _d,$ as Sd,a0 as No,a1 as Td,a2 as Nd,a3 as jd}from"./vendor-DwNeIVeR.js";import{a as ln,r as f,c as Ed,R as ae}from"./react-CX2mysxk.js";import{i as kd,g as Cd,c as ga,s as Rd,G as Pd,F as Ad,d as Id,e as Od,f as ya,h as Ct,j as Dd,k as Fd,l as jo,m as Md,E as Ud,r as Ld,u as Vd,n as Eo,o as ko,p as va,q as $d,t as Co,v as Bd,w as zd,x as qd,y as ds,z as Hd,A as Wd,B as Zd,C as Gd,D as Kd,H as Xa,I as Qd,S as Xd,J as Yd,K as Ro}from"./firebase-Dxe-rZ3C.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var Po,Ya=ln;Po=Ya.createRoot,Ya.hydrateRoot;function Jd(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,n,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();n=c.shift();)r=n[0],r==="*"?(o.push(r),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=n.indexOf("?",1),a=n.indexOf(".",1),o.push(n.substring(1,~s?s:~a?a:n.length)),l+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~s?"?":"")+"\\"+n.substring(a))):l+="/"+n;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var Ao={exports:{}},Io={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=f;function ef(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tf=typeof Object.is=="function"?Object.is:ef,rf=Rr.useState,sf=Rr.useEffect,nf=Rr.useLayoutEffect,af=Rr.useDebugValue;function of(t,e){var r=e(),s=rf({inst:{value:r,getSnapshot:e}}),n=s[0].inst,a=s[1];return nf(function(){n.value=r,n.getSnapshot=e,jn(n)&&a({inst:n})},[t,r,e]),sf(function(){return jn(n)&&a({inst:n}),t(function(){jn(n)&&a({inst:n})})},[t]),af(r),r}function jn(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!tf(t,r)}catch{return!0}}function lf(t,e){return e()}var cf=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lf:of;Io.useSyncExternalStore=Rr.useSyncExternalStore!==void 0?Rr.useSyncExternalStore:cf;Ao.exports=Io;var uf=Ao.exports;const df=Ed.useInsertionEffect,ff=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hf=ff?f.useLayoutEffect:f.useEffect,pf=df||hf,Oo=t=>{const e=f.useRef([t,(...r)=>e[0](...r)]).current;return pf(()=>{e[0]=t}),e[1]},mf="popstate",xa="pushState",ba="replaceState",gf="hashchange",Ja=[mf,xa,ba,gf],yf=t=>{for(const e of Ja)addEventListener(e,t);return()=>{for(const e of Ja)removeEventListener(e,t)}},Do=(t,e)=>uf.useSyncExternalStore(yf,t,e),vf=()=>location.search,xf=({ssrSearch:t=""}={})=>Do(vf,()=>t),ei=()=>location.pathname,bf=({ssrPath:t}={})=>Do(ei,t?()=>t:ei),wf=(t,{replace:e=!1,state:r=null}={})=>history[e?ba:xa](r,"",t),_f=(t={})=>[bf(t),wf],ti=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[ti]>"u"){for(const t of[xa,ba]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,ti,{value:!0})}const Sf=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Fo=(t="")=>t==="/"?"":t,Tf=(t,e)=>t[0]==="~"?t.slice(1):Fo(e)+t,Nf=(t="",e)=>Sf(ri(Fo(t)),ri(e)),ri=t=>{try{return decodeURI(t)}catch{return t}},Mo={hook:_f,searchHook:xf,parser:Jd,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Uo=f.createContext(Mo),fs=()=>f.useContext(Uo),Lo={},Vo=f.createContext(Lo),jf=()=>f.useContext(Vo),cn=t=>{const[e,r]=t.hook(t);return[Nf(t.base,e),Oo((s,n)=>r(Tf(s,t.base),n))]},$o=()=>cn(fs()),Bo=(t,e,r,s)=>{const{pattern:n,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),o=n.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,v)=>[h,c[v]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...s?[l]:[]]:[!1,null]},Ef=({children:t,...e})=>{var d,h;const r=fs(),s=e.hook?Mo:r;let n=s;const[a,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=f.useRef({}),c=l.current,u=c;for(let v in s){const _=v==="base"?s[v]+(e[v]||""):e[v]||s[v];c===u&&_!==u[v]&&(l.current=u={...u}),u[v]=_,_!==s[v]&&(n=u)}return f.createElement(Uo.Provider,{value:n,children:t})},si=({children:t,component:e},r)=>e?f.createElement(e,{params:r}):typeof t=="function"?t(r):t,kf=t=>{let e=f.useRef(Lo),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},At=({path:t,nest:e,match:r,...s})=>{const n=fs(),[a]=cn(n),[o,l,c]=r??Bo(n.parser,t,a,e),u=kf({...jf(),...l});if(!o)return null;const d=c?f.createElement(Ef,{base:c},si(s,u)):si(s,u);return f.createElement(Vo.Provider,{value:u,children:d})},Vr=f.forwardRef((t,e)=>{const r=fs(),[s,n]=cn(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:h,state:v,..._}=t,T=Oo(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(l==null||l(m),m.defaultPrevented||(m.preventDefault(),n(o,t)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&f.isValidElement(u)?f.cloneElement(u,{onClick:T,href:g}):f.createElement("a",{..._,onClick:T,href:g,className:d!=null&&d.call?d(s===o):d,children:u,ref:e})}),zo=t=>Array.isArray(t)?t.flatMap(e=>zo(e&&e.type===f.Fragment?e.props.children:e)):[t],Cf=({children:t,location:e})=>{const r=fs(),[s]=cn(r);for(const n of zo(t)){let a=0;if(f.isValidElement(n)&&(a=Bo(r.parser,n.props.path,e||s,n.props.nest))[0])return f.cloneElement(n,{match:a})}return null};var un=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dn=typeof window>"u"||"Deno"in globalThis;function nt(){}function Rf(t,e){return typeof t=="function"?t(e):t}function Pf(t){return typeof t=="number"&&t>=0&&t!==1/0}function Af(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ni(t,e){return typeof t=="function"?t(e):t}function If(t,e){return typeof t=="function"?t(e):t}function ai(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==wa(o,e.options))return!1}else if(!ns(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||a&&!a(e))}function ii(t,e){const{exact:r,status:s,predicate:n,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(ss(e.options.mutationKey)!==ss(a))return!1}else if(!ns(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function wa(t,e){return((e==null?void 0:e.queryKeyHashFn)||ss)(t)}function ss(t){return JSON.stringify(t,(e,r)=>$n(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function ns(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!ns(t[r],e[r])):!1}function qo(t,e){if(t===e)return t;const r=oi(t)&&oi(e);if(r||$n(t)&&$n(e)){const s=r?t:Object.keys(t),n=s.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&s.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=qo(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return n===o&&c===n?t:l}return e}function oi(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $n(t){if(!li(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!li(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function li(t){return Object.prototype.toString.call(t)==="[object Object]"}function Of(t){return new Promise(e=>{setTimeout(e,t)})}function Df(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?qo(t,e):e}function Ff(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function Mf(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var _a=Symbol();function Ho(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===_a?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var rr,Ut,wr,Ji,Uf=(Ji=class extends un{constructor(){super();fe(this,rr);fe(this,Ut);fe(this,wr);re(this,wr,e=>{if(!dn&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){S(this,Ut)||this.setEventListener(S(this,wr))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Ut))==null||e.call(this),re(this,Ut,void 0))}setEventListener(e){var r;re(this,wr,e),(r=S(this,Ut))==null||r.call(this),re(this,Ut,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){S(this,rr)!==e&&(re(this,rr,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof S(this,rr)=="boolean"?S(this,rr):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},rr=new WeakMap,Ut=new WeakMap,wr=new WeakMap,Ji),Wo=new Uf,_r,Lt,Sr,eo,Lf=(eo=class extends un{constructor(){super();fe(this,_r,!0);fe(this,Lt);fe(this,Sr);re(this,Sr,e=>{if(!dn&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){S(this,Lt)||this.setEventListener(S(this,Sr))}onUnsubscribe(){var e;this.hasListeners()||((e=S(this,Lt))==null||e.call(this),re(this,Lt,void 0))}setEventListener(e){var r;re(this,Sr,e),(r=S(this,Lt))==null||r.call(this),re(this,Lt,e(this.setOnline.bind(this)))}setOnline(e){S(this,_r)!==e&&(re(this,_r,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return S(this,_r)}},_r=new WeakMap,Lt=new WeakMap,Sr=new WeakMap,eo),Ms=new Lf;function Vf(){let t,e;const r=new Promise((n,a)=>{t=n,e=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}function $f(t){return Math.min(1e3*2**t,3e4)}function Zo(t){return(t??"online")==="online"?Ms.isOnline():!0}var Go=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function En(t){return t instanceof Go}function Ko(t){let e=!1,r=0,s=!1,n;const a=Vf(),o=g=>{var m;s||(v(new Go(g)),(m=t.abort)==null||m.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Wo.isFocused()&&(t.networkMode==="always"||Ms.isOnline())&&t.canRun(),d=()=>Zo(t.networkMode)&&t.canRun(),h=g=>{var m;s||(s=!0,(m=t.onSuccess)==null||m.call(t,g),n==null||n(),a.resolve(g))},v=g=>{var m;s||(s=!0,(m=t.onError)==null||m.call(t,g),n==null||n(),a.reject(g))},_=()=>new Promise(g=>{var m;n=N=>{(s||u())&&g(N)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;n=void 0,s||(g=t.onContinue)==null||g.call(t)}),T=()=>{if(s)return;let g;const m=r===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(N){g=Promise.reject(N)}Promise.resolve(g).then(h).catch(N=>{var P;if(s)return;const y=t.retry??(dn?0:3),b=t.retryDelay??$f,k=typeof b=="function"?b(r,N):b,I=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,N);if(e||!I){v(N);return}r++,(P=t.onFail)==null||P.call(t,r,N),Of(k).then(()=>u()?void 0:_()).then(()=>{e?v(N):T()})})};return{promise:a,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?T():_().then(T),a)}}function Bf(){let t=[],e=0,r=l=>{l()},s=l=>{l()},n=l=>setTimeout(l,0);const a=l=>{e?t.push(l):n(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var Be=Bf(),sr,to,Qo=(to=class{constructor(){fe(this,sr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pf(this.gcTime)&&re(this,sr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dn?1/0:5*60*1e3))}clearGcTimeout(){S(this,sr)&&(clearTimeout(S(this,sr)),re(this,sr,void 0))}},sr=new WeakMap,to),Tr,Nr,Ye,Fe,cs,nr,at,St,ro,zf=(ro=class extends Qo{constructor(e){super();fe(this,at);fe(this,Tr);fe(this,Nr);fe(this,Ye);fe(this,Fe);fe(this,cs);fe(this,nr);re(this,nr,!1),re(this,cs,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,Ye,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,Tr,Hf(this.options)),this.state=e.state??S(this,Tr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=S(this,Fe))==null?void 0:e.promise}setOptions(e){this.options={...S(this,cs),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,Ye).remove(this)}setData(e,r){const s=Df(this.state.data,e,this.options);return De(this,at,St).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){De(this,at,St).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=S(this,Fe))==null?void 0:s.promise;return(n=S(this,Fe))==null||n.cancel(e),r?r.then(nt).catch(nt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Tr))}isActive(){return this.observers.some(e=>If(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_a||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Af(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Fe))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=S(this,Fe))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),S(this,Ye).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(S(this,Fe)&&(S(this,nr)?S(this,Fe).cancel({revert:!0}):S(this,Fe).cancelRetry()),this.scheduleGc()),S(this,Ye).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||De(this,at,St).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(S(this,Fe))return S(this,Fe).continueRetry(),S(this,Fe).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(v=>v.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(re(this,nr,!0),s.signal)})},a=()=>{const h=Ho(this.options,r),v={queryKey:this.queryKey,meta:this.meta};return n(v),re(this,nr,!1),this.options.persister?this.options.persister(h,v,this):h(v)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),(c=this.options.behavior)==null||c.onFetch(o,this),re(this,Nr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&De(this,at,St).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var v,_,T,g;En(h)&&h.silent||De(this,at,St).call(this,{type:"error",error:h}),En(h)||((_=(v=S(this,Ye).config).onError)==null||_.call(v,h,this),(g=(T=S(this,Ye).config).onSettled)==null||g.call(T,this.state.data,h,this)),this.scheduleGc()};return re(this,Fe,Ko({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var v,_,T,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(m){l(m);return}(_=(v=S(this,Ye).config).onSuccess)==null||_.call(v,h,this),(g=(T=S(this,Ye).config).onSettled)==null||g.call(T,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,v)=>{De(this,at,St).call(this,{type:"failed",failureCount:h,error:v})},onPause:()=>{De(this,at,St).call(this,{type:"pause"})},onContinue:()=>{De(this,at,St).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),S(this,Fe).start()}},Tr=new WeakMap,Nr=new WeakMap,Ye=new WeakMap,Fe=new WeakMap,cs=new WeakMap,nr=new WeakMap,at=new WeakSet,St=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...qf(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return En(n)&&n.revert&&S(this,Nr)?{...S(this,Nr),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Be.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),S(this,Ye).notify({query:this,type:"updated",action:e})})},ro);function qf(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Zo(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Hf(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ut,so,Wf=(so=class extends un{constructor(e={}){super();fe(this,ut);this.config=e,re(this,ut,new Map)}build(e,r,s){const n=r.queryKey,a=r.queryHash??wa(n,r);let o=this.get(a);return o||(o=new zf({cache:this,queryKey:n,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){S(this,ut).has(e.queryHash)||(S(this,ut).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=S(this,ut).get(e.queryHash);r&&(e.destroy(),r===e&&S(this,ut).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Be.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return S(this,ut).get(e)}getAll(){return[...S(this,ut).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ai(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ai(e,s)):r}notify(e){Be.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Be.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Be.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ut=new WeakMap,so),dt,Ve,ar,ft,Dt,no,Zf=(no=class extends Qo{constructor(e){super();fe(this,ft);fe(this,dt);fe(this,Ve);fe(this,ar);this.mutationId=e.mutationId,re(this,Ve,e.mutationCache),re(this,dt,[]),this.state=e.state||Gf(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){S(this,dt).includes(e)||(S(this,dt).push(e),this.clearGcTimeout(),S(this,Ve).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,dt,S(this,dt).filter(r=>r!==e)),this.scheduleGc(),S(this,Ve).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){S(this,dt).length||(this.state.status==="pending"?this.scheduleGc():S(this,Ve).remove(this))}continue(){var e;return((e=S(this,ar))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,a,o,l,c,u,d,h,v,_,T,g,m,N,y,b,k,I,P,W;re(this,ar,Ko({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(D,B)=>{De(this,ft,Dt).call(this,{type:"failed",failureCount:D,error:B})},onPause:()=>{De(this,ft,Dt).call(this,{type:"pause"})},onContinue:()=>{De(this,ft,Dt).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,Ve).canRun(this)}));const r=this.state.status==="pending",s=!S(this,ar).canStart();try{if(!r){De(this,ft,Dt).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(n=S(this,Ve).config).onMutate)==null?void 0:a.call(n,e,this));const B=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));B!==this.state.context&&De(this,ft,Dt).call(this,{type:"pending",context:B,variables:e,isPaused:s})}const D=await S(this,ar).start();return await((u=(c=S(this,Ve).config).onSuccess)==null?void 0:u.call(c,D,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,D,e,this.state.context)),await((_=(v=S(this,Ve).config).onSettled)==null?void 0:_.call(v,D,null,this.state.variables,this.state.context,this)),await((g=(T=this.options).onSettled)==null?void 0:g.call(T,D,null,e,this.state.context)),De(this,ft,Dt).call(this,{type:"success",data:D}),D}catch(D){try{throw await((N=(m=S(this,Ve).config).onError)==null?void 0:N.call(m,D,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,D,e,this.state.context)),await((I=(k=S(this,Ve).config).onSettled)==null?void 0:I.call(k,void 0,D,this.state.variables,this.state.context,this)),await((W=(P=this.options).onSettled)==null?void 0:W.call(P,void 0,D,e,this.state.context)),D}finally{De(this,ft,Dt).call(this,{type:"error",error:D})}}finally{S(this,Ve).runNext(this)}}},dt=new WeakMap,Ve=new WeakMap,ar=new WeakMap,ft=new WeakSet,Dt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Be.batch(()=>{S(this,dt).forEach(s=>{s.onMutationUpdate(e)}),S(this,Ve).notify({mutation:this,type:"updated",action:e})})},no);function Gf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qe,us,ao,Kf=(ao=class extends un{constructor(e={}){super();fe(this,Qe);fe(this,us);this.config=e,re(this,Qe,new Map),re(this,us,Date.now())}build(e,r,s){const n=new Zf({mutationCache:this,mutationId:++bs(this,us)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){const r=ws(e),s=S(this,Qe).get(r)??[];s.push(e),S(this,Qe).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=ws(e);if(S(this,Qe).has(r)){const n=(s=S(this,Qe).get(r))==null?void 0:s.filter(a=>a!==e);n&&(n.length===0?S(this,Qe).delete(r):S(this,Qe).set(r,n))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=S(this,Qe).get(ws(e)))==null?void 0:s.find(n=>n.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=S(this,Qe).get(ws(e)))==null?void 0:s.find(n=>n!==e&&n.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Be.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...S(this,Qe).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ii(r,s))}findAll(e={}){return this.getAll().filter(r=>ii(e,r))}notify(e){Be.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Be.batch(()=>Promise.all(e.map(r=>r.continue().catch(nt))))}},Qe=new WeakMap,us=new WeakMap,ao);function ws(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ci(t){return{onFetch:(e,r)=>{var d,h,v,_,T;const s=e.options,n=(v=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:v.direction,a=((_=e.state.data)==null?void 0:_.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const m=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},N=Ho(e.options,e.fetchOptions),y=async(b,k,I)=>{if(g)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const P={queryKey:e.queryKey,pageParam:k,direction:I?"backward":"forward",meta:e.options.meta};m(P);const W=await N(P),{maxPages:D}=e.options,B=I?Mf:Ff;return{pages:B(b.pages,W,D),pageParams:B(b.pageParams,k,D)}};if(n&&a.length){const b=n==="backward",k=b?Qf:ui,I={pages:a,pageParams:o},P=k(s,I);l=await y(I,P,b)}else{const b=t??a.length;do{const k=c===0?o[0]??s.initialPageParam:ui(s,l);if(c>0&&k==null)break;l=await y(l,k),c++}while(c<b)}return l};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function ui(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Qf(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var Te,Vt,$t,jr,Er,Bt,kr,Cr,io,Xf=(io=class{constructor(t={}){fe(this,Te);fe(this,Vt);fe(this,$t);fe(this,jr);fe(this,Er);fe(this,Bt);fe(this,kr);fe(this,Cr);re(this,Te,t.queryCache||new Wf),re(this,Vt,t.mutationCache||new Kf),re(this,$t,t.defaultOptions||{}),re(this,jr,new Map),re(this,Er,new Map),re(this,Bt,0)}mount(){bs(this,Bt)._++,S(this,Bt)===1&&(re(this,kr,Wo.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Te).onFocus())})),re(this,Cr,Ms.subscribe(async t=>{t&&(await this.resumePausedMutations(),S(this,Te).onOnline())})))}unmount(){var t,e;bs(this,Bt)._--,S(this,Bt)===0&&((t=S(this,kr))==null||t.call(this),re(this,kr,void 0),(e=S(this,Cr))==null||e.call(this),re(this,Cr,void 0))}isFetching(t){return S(this,Te).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return S(this,Vt).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,Te).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=S(this,Te).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(ni(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return S(this,Te).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=S(this,Te).get(s.queryHash),a=n==null?void 0:n.state.data,o=Rf(e,a);if(o!==void 0)return S(this,Te).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Be.batch(()=>S(this,Te).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=S(this,Te).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=S(this,Te);Be.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=S(this,Te),s={type:"active",...t};return Be.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=Be.batch(()=>S(this,Te).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(nt).catch(nt)}invalidateQueries(t={},e={}){return Be.batch(()=>{if(S(this,Te).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=Be.batch(()=>S(this,Te).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(nt)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(nt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=S(this,Te).build(this,e);return r.isStaleByTime(ni(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nt).catch(nt)}fetchInfiniteQuery(t){return t.behavior=ci(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nt).catch(nt)}ensureInfiniteQueryData(t){return t.behavior=ci(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ms.isOnline()?S(this,Vt).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Te)}getMutationCache(){return S(this,Vt)}getDefaultOptions(){return S(this,$t)}setDefaultOptions(t){re(this,$t,t)}setQueryDefaults(t,e){S(this,jr).set(ss(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...S(this,jr).values()];let r={};return e.forEach(s=>{ns(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){S(this,Er).set(ss(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...S(this,Er).values()];let r={};return e.forEach(s=>{ns(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...S(this,$t).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=wa(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===_a&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...S(this,$t).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){S(this,Te).clear(),S(this,Vt).clear()}},Te=new WeakMap,Vt=new WeakMap,$t=new WeakMap,jr=new WeakMap,Er=new WeakMap,Bt=new WeakMap,kr=new WeakMap,Cr=new WeakMap,io),Yf=f.createContext(void 0),Jf=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Yf.Provider,{value:t,children:e}));const eh=new Xf({defaultOptions:{queries:{queryFn:async({queryKey:t})=>{const e=await fetch(t[0],{credentials:"include"});if(!e.ok)throw e.status>=500?new Error(`${e.status}: ${e.statusText}`):new Error(`${e.status}: ${await e.text()}`);return e.json()},refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),th=1,rh=1e6;let kn=0;function sh(){return kn=(kn+1)%Number.MAX_SAFE_INTEGER,kn.toString()}const Cn=new Map,di=t=>{if(Cn.has(t))return;const e=setTimeout(()=>{Cn.delete(t),Qr({type:"REMOVE_TOAST",toastId:t})},rh);Cn.set(t,e)},nh=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,th)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?di(r):t.toasts.forEach(s=>{di(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Ns=[];let js={toasts:[]};function Qr(t){js=nh(js,t),Ns.forEach(e=>{e(js)})}function ah({...t}){const e=sh(),r=n=>Qr({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>Qr({type:"DISMISS_TOAST",toastId:e});return Qr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function bt(){const[t,e]=f.useState(js);return f.useEffect(()=>(Ns.push(e),()=>{const r=Ns.indexOf(e);r>-1&&Ns.splice(r,1)}),[t]),{...t,toast:ah,dismiss:r=>Qr({type:"DISMISS_TOAST",toastId:r})}}var ih="VisuallyHidden",fn=f.forwardRef((t,e)=>i.jsx(_e.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));fn.displayName=ih;var Sa="ToastProvider",[Ta,oh,lh]=oo("Toast"),[Xo,nv]=pa("Toast",[lh]),[ch,hn]=Xo(Sa),Yo=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:o}=t,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),v=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sa}\`. Expected non-empty \`string\`.`),i.jsx(Ta.Provider,{scope:e,children:i.jsx(ch,{scope:e,label:r,duration:s,swipeDirection:n,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(_=>_+1),[]),onToastRemove:f.useCallback(()=>d(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:v,children:o})})};Yo.displayName=Sa;var Jo="ToastViewport",uh=["F8"],Bn="toast.viewportPause",zn="toast.viewportResume",el=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=uh,label:n="Notifications ({hotkey})",...a}=t,o=hn(Jo,r),l=oh(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),v=tt(e,h,o.onViewportChange),_=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;f.useEffect(()=>{const m=N=>{var b;s.length!==0&&s.every(k=>N[k]||N.code===k)&&((b=h.current)==null||b.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[s]),f.useEffect(()=>{const m=c.current,N=h.current;if(T&&m&&N){const y=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(Bn);N.dispatchEvent(P),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(zn);N.dispatchEvent(P),o.isClosePausedRef.current=!1}},k=P=>{!m.contains(P.relatedTarget)&&b()},I=()=>{m.contains(document.activeElement)||b()};return m.addEventListener("focusin",y),m.addEventListener("focusout",k),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",I),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",k),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",I),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[T,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:m})=>{const y=l().map(b=>{const k=b.ref.current,I=[k,...Sh(k)];return m==="forwards"?I:I.reverse()});return(m==="forwards"?y.reverse():y).flat()},[l]);return f.useEffect(()=>{const m=h.current;if(m){const N=y=>{var I,P,W;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const D=document.activeElement,B=y.shiftKey;if(y.target===m&&B){(I=u.current)==null||I.focus();return}const E=g({tabbingDirection:B?"backwards":"forwards"}),V=E.findIndex(O=>O===D);Rn(E.slice(V+1))?y.preventDefault():B?(P=u.current)==null||P.focus():(W=d.current)==null||W.focus()}};return m.addEventListener("keydown",N),()=>m.removeEventListener("keydown",N)}},[l,g]),i.jsxs(Yu,{ref:c,role:"region","aria-label":n.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&i.jsx(qn,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});Rn(m)}}),i.jsx(Ta.Slot,{scope:r,children:i.jsx(_e.ol,{tabIndex:-1,...a,ref:v})}),T&&i.jsx(qn,{ref:d,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});Rn(m)}})]})});el.displayName=Jo;var tl="ToastFocusProxy",qn=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=t,a=hn(tl,r);return i.jsx(fn,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});qn.displayName=tl;var pn="Toast",dh="toast.swipeStart",fh="toast.swipeMove",hh="toast.swipeCancel",ph="toast.swipeEnd",rl=f.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:a,...o}=t,[l=!0,c]=Fs({prop:s,defaultProp:n,onChange:a});return i.jsx(lo,{present:r||l,children:i.jsx(yh,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:rs(t.onPause),onResume:rs(t.onResume),onSwipeStart:pe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:pe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:pe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:pe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});rl.displayName=pn;var[mh,gh]=Xo(pn,{onClose(){}}),yh=f.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:v,onSwipeEnd:_,...T}=t,g=hn(pn,r),[m,N]=f.useState(null),y=tt(e,O=>N(O)),b=f.useRef(null),k=f.useRef(null),I=n||g.duration,P=f.useRef(0),W=f.useRef(I),D=f.useRef(0),{onToastAdd:B,onToastRemove:U}=g,q=rs(()=>{var Y;(m==null?void 0:m.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),o()}),E=f.useCallback(O=>{!O||O===1/0||(window.clearTimeout(D.current),P.current=new Date().getTime(),D.current=window.setTimeout(q,O))},[q]);f.useEffect(()=>{const O=g.viewport;if(O){const Y=()=>{E(W.current),u==null||u()},J=()=>{const ie=new Date().getTime()-P.current;W.current=W.current-ie,window.clearTimeout(D.current),c==null||c()};return O.addEventListener(Bn,J),O.addEventListener(zn,Y),()=>{O.removeEventListener(Bn,J),O.removeEventListener(zn,Y)}}},[g.viewport,I,c,u,E]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&E(I)},[a,I,g.isClosePausedRef,E]),f.useEffect(()=>(B(),()=>U()),[B,U]);const V=f.useMemo(()=>m?cl(m):null,[m]);return g.viewport?i.jsxs(i.Fragment,{children:[V&&i.jsx(vh,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),i.jsx(mh,{scope:r,onClose:q,children:ln.createPortal(i.jsx(Ta.ItemSlot,{scope:r,children:i.jsx(Ju,{asChild:!0,onEscapeKeyDown:pe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||q(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...T,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:pe(t.onKeyDown,O=>{O.key==="Escape"&&(l==null||l(O.nativeEvent),O.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:pe(t.onPointerDown,O=>{O.button===0&&(b.current={x:O.clientX,y:O.clientY})}),onPointerMove:pe(t.onPointerMove,O=>{if(!b.current)return;const Y=O.clientX-b.current.x,J=O.clientY-b.current.y,ie=!!k.current,me=["left","right"].includes(g.swipeDirection),ge=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Q=me?ge(0,Y):0,X=me?0:ge(0,J),xe=O.pointerType==="touch"?10:2,oe={x:Q,y:X},Pe={originalEvent:O,delta:oe};ie?(k.current=oe,_s(fh,h,Pe,{discrete:!1})):fi(oe,g.swipeDirection,xe)?(k.current=oe,_s(dh,d,Pe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(Y)>xe||Math.abs(J)>xe)&&(b.current=null)}),onPointerUp:pe(t.onPointerUp,O=>{const Y=k.current,J=O.target;if(J.hasPointerCapture(O.pointerId)&&J.releasePointerCapture(O.pointerId),k.current=null,b.current=null,Y){const ie=O.currentTarget,me={originalEvent:O,delta:Y};fi(Y,g.swipeDirection,g.swipeThreshold)?_s(ph,_,me,{discrete:!0}):_s(hh,v,me,{discrete:!0}),ie.addEventListener("click",ge=>ge.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),vh=t=>{const{__scopeToast:e,children:r,...s}=t,n=hn(pn,e),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return wh(()=>o(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(co,{asChild:!0,children:i.jsx(fn,{...s,children:a&&i.jsxs(i.Fragment,{children:[n.label," ",r]})})})},xh="ToastTitle",sl=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return i.jsx(_e.div,{...s,ref:e})});sl.displayName=xh;var bh="ToastDescription",nl=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return i.jsx(_e.div,{...s,ref:e})});nl.displayName=bh;var al="ToastAction",il=f.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?i.jsx(ll,{altText:r,asChild:!0,children:i.jsx(Na,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${al}\`. Expected non-empty \`string\`.`),null)});il.displayName=al;var ol="ToastClose",Na=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,n=gh(ol,r);return i.jsx(ll,{asChild:!0,children:i.jsx(_e.button,{type:"button",...s,ref:e,onClick:pe(t.onClick,n.onClose)})})});Na.displayName=ol;var ll=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...n}=t;return i.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function cl(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),_h(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...cl(s))}}),e}function _s(t,e,r,{discrete:s}){const n=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?ed(n,a):n.dispatchEvent(a)}var fi=(t,e,r=0)=>{const s=Math.abs(t.x),n=Math.abs(t.y),a=s>n;return e==="left"||e==="right"?a&&s>r:!a&&n>r};function wh(t=()=>{}){const e=rs(t);kt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function _h(t){return t.nodeType===t.ELEMENT_NODE}function Sh(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Rn(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var Th=Yo,ul=el,dl=rl,fl=sl,hl=nl,pl=il,ml=Na;function gl(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=gl(t[e]))&&(s&&(s+=" "),s+=r);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function Nh(){for(var t,e,r=0,s="";r<arguments.length;)(t=arguments[r++])&&(e=gl(t))&&(s&&(s+=" "),s+=e);return s}const hi=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,pi=Nh,ja=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return pi(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:a}=e,o=Object.keys(n).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const v=hi(d)||hi(h);return n[u][v]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,v]=d;return v===void 0||(u[h]=v),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:v,..._}=d;return Object.entries(_).every(T=>{let[g,m]=T;return Array.isArray(m)?m.includes({...a,...l}[g]):{...a,...l}[g]===m})?[...u,h,v]:u},[]);return pi(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};function yl(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=yl(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function jh(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=yl(t))&&(s&&(s+=" "),s+=e);return s}const Ea="-",Eh=t=>{const e=Ch(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(Ea);return l[0]===""&&l.length!==1&&l.shift(),vl(l,e)||kh(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},vl=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?vl(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(Ea);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},mi=/^\[(.+)\]$/,kh=t=>{if(mi.test(t)){const e=mi.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Ch=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return Ph(Object.entries(t.classGroups),r).forEach(([a,o])=>{Hn(o,s,a,e)}),s},Hn=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:gi(e,n);a.classGroupId=r;return}if(typeof n=="function"){if(Rh(n)){Hn(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,o])=>{Hn(o,gi(e,a),r,s)})})},gi=(t,e)=>{let r=t;return e.split(Ea).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},Rh=t=>t.isThemeGetter,Ph=(t,e)=>e?t.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,n]}):t,Ah=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return n(a,o),o},set(a,o){r.has(a)?r.set(a,o):n(a,o)}}},xl="!",Ih=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let m=0;m<l.length;m++){let N=l[m];if(u===0){if(N===n&&(s||l.slice(m,m+a)===e)){c.push(l.slice(d,m)),d=m+a;continue}if(N==="/"){h=m;continue}}N==="["?u++:N==="]"&&u--}const v=c.length===0?l:l.substring(d),_=v.startsWith(xl),T=_?v.substring(1):v,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:_,baseClassName:T,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},Oh=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},Dh=t=>({cache:Ah(t.cacheSize),parseClassName:Ih(t),...Eh(t)}),Fh=/\s+/,Mh=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,a=[],o=t.trim().split(Fh);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:v,maybePostfixModifierPosition:_}=r(u);let T=!!_,g=s(T?v.substring(0,_):v);if(!g){if(!T){l=u+(l.length>0?" "+l:l);continue}if(g=s(v),!g){l=u+(l.length>0?" "+l:l);continue}T=!1}const m=Oh(d).join(":"),N=h?m+xl:m,y=N+g;if(a.includes(y))continue;a.push(y);const b=n(g,T);for(let k=0;k<b.length;++k){const I=b[k];a.push(N+I)}l=u+(l.length>0?" "+l:l)}return l};function Uh(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=bl(e))&&(s&&(s+=" "),s+=r);return s}const bl=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=bl(t[s]))&&(r&&(r+=" "),r+=e);return r};function Lh(t,...e){let r,s,n,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=Dh(u),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=Mh(c,r);return n(c,d),d}return function(){return a(Uh.apply(null,arguments))}}const be=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},wl=/^\[(?:([a-z-]+):)?(.+)\]$/i,Vh=/^\d+\/\d+$/,$h=new Set(["px","full","screen"]),Bh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Hh=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,wt=t=>xr(t)||$h.has(t)||Vh.test(t),It=t=>Dr(t,"length",ep),xr=t=>!!t&&!Number.isNaN(Number(t)),Pn=t=>Dr(t,"number",xr),$r=t=>!!t&&Number.isInteger(Number(t)),Zh=t=>t.endsWith("%")&&xr(t.slice(0,-1)),te=t=>wl.test(t),Ot=t=>Bh.test(t),Gh=new Set(["length","size","percentage"]),Kh=t=>Dr(t,Gh,_l),Qh=t=>Dr(t,"position",_l),Xh=new Set(["image","url"]),Yh=t=>Dr(t,Xh,rp),Jh=t=>Dr(t,"",tp),Br=()=>!0,Dr=(t,e,r)=>{const s=wl.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},ep=t=>zh.test(t)&&!qh.test(t),_l=()=>!1,tp=t=>Hh.test(t),rp=t=>Wh.test(t),sp=()=>{const t=be("colors"),e=be("spacing"),r=be("blur"),s=be("brightness"),n=be("borderColor"),a=be("borderRadius"),o=be("borderSpacing"),l=be("borderWidth"),c=be("contrast"),u=be("grayscale"),d=be("hueRotate"),h=be("invert"),v=be("gap"),_=be("gradientColorStops"),T=be("gradientColorStopPositions"),g=be("inset"),m=be("margin"),N=be("opacity"),y=be("padding"),b=be("saturate"),k=be("scale"),I=be("sepia"),P=be("skew"),W=be("space"),D=be("translate"),B=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",te,e],E=()=>[te,e],V=()=>["",wt,It],O=()=>["auto",xr,te],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",te],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[xr,te];return{cacheSize:500,separator:":",theme:{colors:[Br],spacing:[wt,It],blur:["none","",Ot,te],brightness:X(),borderColor:[t],borderRadius:["none","","full",Ot,te],borderSpacing:E(),borderWidth:V(),contrast:X(),grayscale:ge(),hueRotate:X(),invert:ge(),gap:E(),gradientColorStops:[t],gradientColorStopPositions:[Zh,It],inset:q(),margin:q(),opacity:X(),padding:E(),saturate:X(),scale:X(),sepia:ge(),skew:X(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[Ot]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),te]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$r,te]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",$r,te]}],"grid-cols":[{"grid-cols":[Br]}],"col-start-end":[{col:["auto",{span:["full",$r,te]},te]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Br]}],"row-start-end":[{row:["auto",{span:[$r,te]},te]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...me()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...me(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...me(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[W]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[W]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,e]}],"min-w":[{"min-w":[te,e,"min","max","fit"]}],"max-w":[{"max-w":[te,e,"none","full","min","max","fit","prose",{screen:[Ot]},Ot]}],h:[{h:[te,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ot,It]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Pn]}],"font-family":[{font:[Br]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",xr,Pn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",wt,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",wt,It]}],"underline-offset":[{"underline-offset":["auto",wt,te]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),Qh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Kh]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Yh]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[_]}],"gradient-via":[{via:[_]}],"gradient-to":[{to:[_]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:J()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[wt,te]}],"outline-w":[{outline:[wt,It]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[wt,It]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ot,Jh]}],"shadow-color":[{shadow:[Br]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ot,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[b]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[$r,te]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[wt,It,Pn]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},np=Lh(sp);function z(...t){return np(jh(t))}const ap=Th,Sl=f.forwardRef(({className:t,...e},r)=>i.jsx(ul,{ref:r,className:z("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Sl.displayName=ul.displayName;const ip=ja("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tl=f.forwardRef(({className:t,variant:e,...r},s)=>i.jsx(dl,{ref:s,className:z(ip({variant:e}),t),...r}));Tl.displayName=dl.displayName;const op=f.forwardRef(({className:t,...e},r)=>i.jsx(pl,{ref:r,className:z("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));op.displayName=pl.displayName;const Nl=f.forwardRef(({className:t,...e},r)=>i.jsx(ml,{ref:r,className:z("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(uo,{className:"h-4 w-4"})}));Nl.displayName=ml.displayName;const jl=f.forwardRef(({className:t,...e},r)=>i.jsx(fl,{ref:r,className:z("text-sm font-semibold",t),...e}));jl.displayName=fl.displayName;const El=f.forwardRef(({className:t,...e},r)=>i.jsx(hl,{ref:r,className:z("text-sm opacity-90",t),...e}));El.displayName=hl.displayName;function lp(){const{toasts:t}=bt();return i.jsxs(ap,{children:[t.map(function({id:e,title:r,description:s,action:n,...a}){return i.jsxs(Tl,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(jl,{children:r}),s&&i.jsx(El,{children:s})]}),n,i.jsx(Nl,{})]},e)}),i.jsx(Sl,{})]})}const ka=ja("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=f.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},a)=>{const o=s?ma:"button";return i.jsx(o,{className:z(ka({variant:e,size:r,className:t})),ref:a,...n})});ve.displayName="Button";const Es={apiKey:void 0,projectId:void 0,appId:void 0};if(Object.values(Es).some(t=>!t))throw new Error("Missing required Firebase configuration. Please check your environment variables.");const cp={apiKey:Es.apiKey,authDomain:void 0,projectId:Es.projectId,storageBucket:void 0,messagingSenderId:void 0,appId:Es.appId},kl=kd(cp),Ee=Cd(kl),Fr=ga(kl);Ee.useDeviceLanguage();Rd(Ee,Id).catch(t=>{console.error("Error setting auth persistence:",t)});const Cl=new Pd,up=new Ad;Cl.setCustomParameters({prompt:"select_account"});async function hs(t,e,r){try{console.log(`Setting role ${e} for user ${t}`);const s={role:e,updatedAt:new Date().toISOString(),updatedBy:r||null};await ya(Ct(Fr,"userRoles",t),s),console.log(`Successfully set role for user ${t}`)}catch(s){throw console.error("Error setting user role:",s),new Error(s.message||"Failed to set user role")}}async function as(t){try{const e=await Eo(Ct(Fr,"userRoles",t));return e.exists()?e.data().role:"user"}catch(e){return console.error("Error getting user role:",e),"user"}}async function dp(){try{const t=Dd(Fr,"userRoles");return(await Fd(t)).docs.map(s=>{const n=s.data();return{userId:s.id,role:n.role,updatedAt:n.updatedAt,email:n.email,displayName:n.displayName}})}catch(t){throw console.error("Error listing users with roles:",t),new Error("Failed to list users with roles")}}async function yi(t){try{const e=Ee.currentUser;if(!e)throw new Error("No user is currently signed in");if(await as(e.uid)!=="admin")throw new Error("Only admins can delete other users");console.log(`Attempting to delete role document for user ${t}`);const s=Ct(Fr,"userRoles",t);try{await jo(s),console.log(`Successfully deleted role document for user ${t}`)}catch(l){throw console.error("Error deleting role document:",l),l.code==="permission-denied"?new Error("Permission denied: Unable to delete user role. Please check your Firebase rules."):l}const n=await e.getIdToken(),a=await fetch(`/api/admin/deleteUser?userId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to delete user")}const o=await a.json();if(!o.success)throw new Error(o.message||"User deletion partially failed");return console.log("User successfully deleted from both Firestore and Authentication"),!0}catch(e){throw console.error("Error in admin delete user:",e),new Error(e.message||"Failed to delete user")}}async function fp(){if(!Ee.currentUser)throw new Error("No user is currently signed in");const t=Ee.currentUser.uid;try{const e=Ct(Fr,"userRoles",t);await jo(e),console.log("User role document deleted"),await Md(Ee.currentUser),console.log("Account successfully deleted")}catch(e){throw console.error("Error deleting account:",e),new Error(fr(e))}}function fr(t){if(typeof t=="string")return t;switch(t==null?void 0:t.code){case"auth/invalid-credential":return"Incorrect email or password";case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-not-found":return"No account found with this email";case"auth/requires-recent-login":return"Please log in again before updating your profile";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.";default:return console.error("Firebase auth error:",t),(t==null?void 0:t.message)||"An error occurred. Please try again"}}async function Rl(t){try{(await Eo(Ct(Fr,"userRoles",t))).exists()||await hs(t,"user")}catch(e){console.error("Error checking/setting role:",e)}}async function Pl(){var t;try{const e=await ko(Ee,Cl);if(!(e!=null&&e.user))throw new Error("No user data returned from Google sign-in");const r=e.user,s=r.displayName||((t=r.email)==null?void 0:t.split("@")[0])||"User";return await Rl(r.uid),await va(r,{displayName:s}),r}catch(e){throw new Error(fr(e))}}async function Al(){var t;try{const e=await ko(Ee,up);if(!(e!=null&&e.user))throw new Error("No user data returned from Facebook sign-in");const r=e.user,s=r.displayName||((t=r.email)==null?void 0:t.split("@")[0])||"User";return await Rl(r.uid),await va(r,{displayName:s}),r}catch(e){throw new Error(fr(e))}}async function hp({email:t,password:e,name:r,age:s}){try{const n=await $d(Ee,t,e);return await hs(n.user.uid,"user"),await va(n.user,{displayName:r}),await Co(n.user),n.user}catch(n){throw new Error(fr(n))}}async function pp(t,e){try{return await Bd(Ee,t,e)}catch(r){throw new Error(fr(r))}}async function Il(){return Od(Ee)}async function mp(){if(Ee.currentUser)return Co(Ee.currentUser)}async function gp(t){try{await zd(Ee,t)}catch(e){throw new Error(fr(e))}}async function Ol(t,e,r){try{const s=Ud.credential(t.email,e);await Ld(t,s),await Vd(t,r)}catch(s){throw new Error(fr(s))}}async function yp(t){var e;try{const r=Ee.currentUser;if(!r)throw new Error("No user is currently signed in");if(await as(r.uid)!=="admin")throw new Error("Only admins can disable other users");await hs(t,"disabled");const n=await r.getIdToken(),a=await fetch(`/api/admin/disableUser?userId=${t}`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!a.ok){const o=await a.json();throw new Error(o.error||"Failed to disable user")}return((e=Ee.currentUser)==null?void 0:e.uid)===t&&await Il(),console.log("User successfully disabled"),!0}catch(r){throw console.error("Error in admin disable user:",r),new Error(r.message||"Failed to disable user")}}async function vp(t){try{const e=Ee.currentUser;if(!e)throw new Error("No user is currently signed in");if(await as(e.uid)!=="admin")throw new Error("Only admins can enable other users");const s=await e.getIdToken(),n=await fetch(`/api/admin/enableUser?userId=${t}`,{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to enable user")}return await hs(t,"user"),console.log("User successfully enabled"),!0}catch(e){throw console.error("Error in admin enable user:",e),new Error(e.message||"Failed to enable user")}}function vi(){try{const t=localStorage.getItem("firebaseAuth");return t?JSON.parse(t):null}catch{return null}}function ps(){const[t,e]=f.useState(()=>{const o=vi();return o?{...o.user,stsTokenManager:o.stsTokenManager}:null}),[r,s]=f.useState(!0),[n,a]=f.useState(()=>{const o=vi();return(o==null?void 0:o.role)||"user"});return f.useEffect(()=>{const o=qd(Ee,async c=>{if(e(c),c){const u=await as(c.uid);a(u)}s(!1)});return(async()=>{if(t){const c=await as(t.uid);localStorage.setItem("firebaseAuth",JSON.stringify({user:{uid:t.uid,email:t.email,emailVerified:t.emailVerified,displayName:t.displayName,providerData:t.providerData},stsTokenManager:t.stsTokenManager,role:c}))}else localStorage.removeItem("firebaseAuth")})(),()=>o()},[]),{user:t,loading:r,role:n}}function Ca(t="/"){const{user:e,loading:r,role:s}=ps(),[n,a]=f.useState(!1);return f.useEffect(()=>{!r&&!e&&(window.location.href=t),e&&(e.emailVerified||e.providerData.some(o=>o.providerId==="facebook.com"))&&a(!0)},[e,r,t]),{user:e,loading:r,verified:n,role:s}}function xp(t="/"){const{user:e,loading:r,role:s}=ps(),[n,a]=f.useState(!1);return f.useEffect(()=>{r||(!e||s!=="admin"?window.location.href=t:a(!0))},[e,s,r,t]),{user:e,loading:r,isAdmin:n}}function bp(){const{user:t,role:e}=ps();return i.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-14 items-center",children:[i.jsxs("div",{className:"mr-4 hidden md:flex",children:[i.jsx(Vr,{href:"/",className:"mr-6 flex items-center space-x-2",children:i.jsx("span",{className:"hidden font-bold sm:inline-block",children:"Auth Demo"})}),i.jsx("div",{className:"flex gap-6 md:gap-10",children:t&&t.emailVerified&&i.jsxs(i.Fragment,{children:[i.jsx(Vr,{href:"/welcome",children:"Welcome"}),e==="admin"&&i.jsx(Vr,{href:"/admin",children:"Admin"}),i.jsx(Vr,{href:"/profile",children:"Profile"})]})})]}),i.jsx("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:t?i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ve,{variant:"ghost",className:"gap-2",asChild:!0,children:i.jsxs(Vr,{href:"/settings",children:[i.jsx(td,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:t.displayName})]})}),i.jsx(ve,{variant:"ghost",onClick:()=>Il(),children:"Sign out"})]}):null})]})})}const ot=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ot.displayName="Card";const yt=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-6",t),...e}));yt.displayName="CardHeader";const vt=f.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:z("text-2xl font-semibold leading-none tracking-tight",t),...e}));vt.displayName="CardTitle";const wp=f.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",t),...e}));wp.displayName="CardDescription";const lt=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("p-6 pt-0",t),...e}));lt.displayName="CardContent";const _p=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:z("flex items-center p-6 pt-0",t),...e}));_p.displayName="CardFooter";const Sp=(t,e,r,s)=>{var a,o,l,c;const n=[r,{code:e,...s||{}}];if((o=(a=t==null?void 0:t.services)==null?void 0:a.logger)!=null&&o.forward)return t.services.logger.forward(n,"warn","react-i18next::",!0);ir(n[0])&&(n[0]=`react-i18next:: ${n[0]}`),(c=(l=t==null?void 0:t.services)==null?void 0:l.logger)!=null&&c.warn?t.services.logger.warn(...n):console!=null&&console.warn&&console.warn(...n)},xi={},Wn=(t,e,r,s)=>{ir(r)&&xi[r]||(ir(r)&&(xi[r]=new Date),Sp(t,e,r,s))},Dl=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Zn=(t,e,r)=>{t.loadNamespaces(e,Dl(t,r))},bi=(t,e,r,s)=>{if(ir(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Zn(t,r,s);r.forEach(n=>{t.options.ns.indexOf(n)<0&&t.options.ns.push(n)}),t.loadLanguages(e,Dl(t,s))},Tp=(t,e,r={})=>!e.languages||!e.languages.length?(Wn(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(s,n)=>{var a;if(((a=r.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!n(s.isLanguageChangingTo,t))return!1}}),ir=t=>typeof t=="string",Np=t=>typeof t=="object"&&t!==null,jp=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ep={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},kp=t=>Ep[t],Cp=t=>t.replace(jp,kp);let Rp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Cp};const Pp=()=>Rp;let Ap;const Ip=()=>Ap,Op=f.createContext();class Dp{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Fp=(t,e)=>{const r=f.useRef();return f.useEffect(()=>{r.current=t},[t,e]),r.current},Fl=(t,e,r,s)=>t.getFixedT(e,r,s),Mp=(t,e,r,s)=>f.useCallback(Fl(t,e,r,s),[t,e,r,s]),ms=(t,e={})=>{var k,I,P,W;const{i18n:r}=e,{i18n:s,defaultNS:n}=f.useContext(Op)||{},a=r||s||Ip();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Dp),!a){Wn(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const D=(U,q)=>ir(q)?q:Np(q)&&ir(q.defaultValue)?q.defaultValue:Array.isArray(U)?U[U.length-1]:U,B=[D,{},!1];return B.t=D,B.i18n={},B.ready=!1,B}(k=a.options.react)!=null&&k.wait&&Wn(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Pp(),...a.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=n||((I=a.options)==null?void 0:I.defaultNS);u=ir(u)?[u]:u||["translation"],(W=(P=a.reportNamespaces).addUsedNamespaces)==null||W.call(P,u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every(D=>Tp(D,a,o)),h=Mp(a,e.lng||null,o.nsMode==="fallback"?u:u[0],c),v=()=>h,_=()=>Fl(a,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[T,g]=f.useState(v);let m=u.join();e.lng&&(m=`${e.lng}${m}`);const N=Fp(m),y=f.useRef(!0);f.useEffect(()=>{const{bindI18n:D,bindI18nStore:B}=o;y.current=!0,!d&&!l&&(e.lng?bi(a,e.lng,u,()=>{y.current&&g(_)}):Zn(a,u,()=>{y.current&&g(_)})),d&&N&&N!==m&&y.current&&g(_);const U=()=>{y.current&&g(_)};return D&&(a==null||a.on(D,U)),B&&(a==null||a.store.on(B,U)),()=>{y.current=!1,a&&(D==null||D.split(" ").forEach(q=>a.off(q,U))),B&&a&&B.split(" ").forEach(q=>a.store.off(q,U))}},[a,m]),f.useEffect(()=>{y.current&&d&&g(v)},[a,c,d]);const b=[T,a,d];if(b.t=T,b.i18n=a,b.ready=d,d||!d&&!l)return b;throw new Promise(D=>{e.lng?bi(a,e.lng,u,()=>D()):Zn(a,u,()=>D())})};function Up(){const{t}=ms();return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(ot,{className:"w-full max-w-md mx-4",children:i.jsxs(lt,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(rd,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:t("notFoundTitle")})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:t("notFoundMessage")})]})})})}var Ra="Tabs",[Lp,av]=pa(Ra,[fo]),Ml=fo(),[Vp,Pa]=Lp(Ra),Ul=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:n,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=ho(l),[h,v]=Fs({prop:s,onChange:n,defaultProp:a});return i.jsx(Vp,{scope:r,baseId:on(),value:h,onValueChange:v,orientation:o,dir:d,activationMode:c,children:i.jsx(_e.div,{dir:d,"data-orientation":o,...u,ref:e})})});Ul.displayName=Ra;var Ll="TabsList",Vl=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...n}=t,a=Pa(Ll,r),o=Ml(r);return i.jsx(sd,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(_e.div,{role:"tablist","aria-orientation":a.orientation,...n,ref:e})})});Vl.displayName=Ll;var $l="TabsTrigger",Bl=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:n=!1,...a}=t,o=Pa($l,r),l=Ml(r),c=Hl(o.baseId,s),u=Wl(o.baseId,s),d=s===o.value;return i.jsx(nd,{asChild:!0,...l,focusable:!n,active:d,children:i.jsx(_e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...a,ref:e,onMouseDown:pe(t.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:pe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:pe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!n&&h&&o.onValueChange(s)})})})});Bl.displayName=$l;var zl="TabsContent",ql=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:n,children:a,...o}=t,l=Pa(zl,r),c=Hl(l.baseId,s),u=Wl(l.baseId,s),d=s===l.value,h=f.useRef(d);return f.useEffect(()=>{const v=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx(lo,{present:n||d,children:({present:v})=>i.jsx(_e.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!v,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:v&&a})})});ql.displayName=zl;function Hl(t,e){return`${t}-trigger-${e}`}function Wl(t,e){return`${t}-content-${e}`}var $p=Ul,Zl=Vl,Gl=Bl,Kl=ql;const Bp=$p,Ql=f.forwardRef(({className:t,...e},r)=>i.jsx(Zl,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ql.displayName=Zl.displayName;const Gn=f.forwardRef(({className:t,...e},r)=>i.jsx(Gl,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Gn.displayName=Gl.displayName;const Kn=f.forwardRef(({className:t,...e},r)=>i.jsx(Kl,{ref:r,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kn.displayName=Kl.displayName;var gs=t=>t.type==="checkbox",Xt=t=>t instanceof Date,$e=t=>t==null;const Xl=t=>typeof t=="object";var ke=t=>!$e(t)&&!Array.isArray(t)&&Xl(t)&&!Xt(t),Yl=t=>ke(t)&&t.target?gs(t.target)?t.target.checked:t.target.value:t,zp=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Jl=(t,e)=>t.has(zp(e)),qp=t=>{const e=t.constructor&&t.constructor.prototype;return ke(e)&&e.hasOwnProperty("isPrototypeOf")},Aa=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function He(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Aa&&(t instanceof Blob||t instanceof FileList))&&(r||ke(t)))if(e=r?[]:{},!r&&!qp(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=He(t[s]));else return t;return e}var mn=t=>Array.isArray(t)?t.filter(Boolean):[],je=t=>t===void 0,R=(t,e,r)=>{if(!e||!ke(t))return r;const s=mn(e.split(/[,[\].]+?/)).reduce((n,a)=>$e(n)?n:n[a],t);return je(s)||s===t?je(t[e])?r:t[e]:s},Je=t=>typeof t=="boolean",Ia=t=>/^\w*$/.test(t),ec=t=>mn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(t,e,r)=>{let s=-1;const n=Ia(e)?[e]:ec(e),a=n.length,o=a-1;for(;++s<a;){const l=n[s];let c=r;if(s!==o){const u=t[l];c=ke(u)||Array.isArray(u)?u:isNaN(+n[s+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Us={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},it={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_t={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tc=ae.createContext(null),gn=()=>ae.useContext(tc),Hp=t=>{const{children:e,...r}=t;return ae.createElement(tc.Provider,{value:r},e)};var rc=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==it.all&&(e._proxyFormState[o]=!s||it.all),r&&(r[o]=!0),t[o]}});return n},We=t=>ke(t)&&!Object.keys(t).length,sc=(t,e,r,s)=>{r(t);const{name:n,...a}=t;return We(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||it.all))},Xr=t=>Array.isArray(t)?t:[t],nc=(t,e,r)=>!t||!e||t===e||Xr(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s)));function Oa(t){const e=ae.useRef(t);e.current=t,ae.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Wp(t){const e=gn(),{control:r=e.control,disabled:s,name:n,exact:a}=t||{},[o,l]=ae.useState(r._formState),c=ae.useRef(!0),u=ae.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=ae.useRef(n);return d.current=n,Oa({disabled:s,next:h=>c.current&&nc(d.current,h.name,a)&&sc(h,u.current,r._updateFormState)&&l({...r._formState,...h}),subject:r._subjects.state}),ae.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),rc(o,r,u.current,!1)}var ht=t=>typeof t=="string",ac=(t,e,r,s,n)=>ht(t)?(s&&e.watch.add(t),R(r,t,n)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),R(r,a))):(s&&(e.watchAll=!0),r);function Zp(t){const e=gn(),{control:r=e.control,name:s,defaultValue:n,disabled:a,exact:o}=t||{},l=ae.useRef(s);l.current=s,Oa({disabled:a,subject:r._subjects.values,next:d=>{nc(l.current,d.name,o)&&u(He(ac(l.current,r._names,d.values||r._formValues,!1,n)))}});const[c,u]=ae.useState(r._getWatch(s,n));return ae.useEffect(()=>r._removeUnmounted()),c}function Gp(t){const e=gn(),{name:r,disabled:s,control:n=e.control,shouldUnregister:a}=t,o=Jl(n._names.array,r),l=Zp({control:n,name:r,defaultValue:R(n._formValues,r,R(n._defaultValues,r,t.defaultValue)),exact:!0}),c=Wp({control:n,name:r,exact:!0}),u=ae.useRef(n.register(r,{...t.rules,value:l,...Je(t.disabled)?{disabled:t.disabled}:{}}));return ae.useEffect(()=>{const d=n._options.shouldUnregister||a,h=(v,_)=>{const T=R(n._fields,v);T&&T._f&&(T._f.mount=_)};if(h(r,!0),d){const v=He(R(n._options.defaultValues,r));he(n._defaultValues,r,v),je(R(n._formValues,r))&&he(n._formValues,r,v)}return()=>{(o?d&&!n._state.action:d)?n.unregister(r):h(r,!1)}},[r,n,o,a]),ae.useEffect(()=>{R(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:R(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:l,...Je(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:ae.useCallback(d=>u.current.onChange({target:{value:Yl(d),name:r},type:Us.CHANGE}),[r]),onBlur:ae.useCallback(()=>u.current.onBlur({target:{value:R(n._formValues,r),name:r},type:Us.BLUR}),[r,n]),ref:ae.useCallback(d=>{const h=R(n._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:v=>d.setCustomValidity(v),reportValidity:()=>d.reportValidity()})},[n._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!R(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!R(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!R(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!R(c.validatingFields,r)},error:{enumerable:!0,get:()=>R(c.errors,r)}})}}const Kp=t=>t.render(Gp(t));var ic=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},wi=t=>({isOnSubmit:!t||t===it.onSubmit,isOnBlur:t===it.onBlur,isOnChange:t===it.onChange,isOnAll:t===it.all,isOnTouch:t===it.onTouched}),_i=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Yr=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const a=R(t,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Yr(l,e))break}else if(ke(l)&&Yr(l,e))break}}};var Qp=(t,e,r)=>{const s=Xr(R(t,r));return he(s,"root",e[r]),he(t,r,s),t},Da=t=>t.type==="file",Nt=t=>typeof t=="function",Ls=t=>{if(!Aa)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ks=t=>ht(t),Fa=t=>t.type==="radio",Vs=t=>t instanceof RegExp;const Si={value:!1,isValid:!1},Ti={value:!0,isValid:!0};var oc=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!je(t[0].attributes.value)?je(t[0].value)||t[0].value===""?Ti:{value:t[0].value,isValid:!0}:Ti:Si}return Si};const Ni={isValid:!1,value:null};var lc=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,Ni):Ni;function ji(t,e,r="validate"){if(ks(t)||Array.isArray(t)&&t.every(ks)||Je(t)&&!t)return{type:r,message:ks(t)?t:"",ref:e}}var pr=t=>ke(t)&&!Vs(t)?t:{value:t,message:""},Ei=async(t,e,r,s,n)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:v,validate:_,name:T,valueAsNumber:g,mount:m,disabled:N}=t._f,y=R(e,T);if(!m||N)return{};const b=o?o[0]:a,k=E=>{s&&b.reportValidity&&(b.setCustomValidity(Je(E)?"":E||""),b.reportValidity())},I={},P=Fa(a),W=gs(a),D=P||W,B=(g||Da(a))&&je(a.value)&&je(y)||Ls(a)&&a.value===""||y===""||Array.isArray(y)&&!y.length,U=ic.bind(null,T,r,I),q=(E,V,O,Y=_t.maxLength,J=_t.minLength)=>{const ie=E?V:O;I[T]={type:E?Y:J,message:ie,ref:a,...U(E?Y:J,ie)}};if(n?!Array.isArray(y)||!y.length:l&&(!D&&(B||$e(y))||Je(y)&&!y||W&&!oc(o).isValid||P&&!lc(o).isValid)){const{value:E,message:V}=ks(l)?{value:!!l,message:l}:pr(l);if(E&&(I[T]={type:_t.required,message:V,ref:b,...U(_t.required,V)},!r))return k(V),I}if(!B&&(!$e(d)||!$e(h))){let E,V;const O=pr(h),Y=pr(d);if(!$e(y)&&!isNaN(y)){const J=a.valueAsNumber||y&&+y;$e(O.value)||(E=J>O.value),$e(Y.value)||(V=J<Y.value)}else{const J=a.valueAsDate||new Date(y),ie=Q=>new Date(new Date().toDateString()+" "+Q),me=a.type=="time",ge=a.type=="week";ht(O.value)&&y&&(E=me?ie(y)>ie(O.value):ge?y>O.value:J>new Date(O.value)),ht(Y.value)&&y&&(V=me?ie(y)<ie(Y.value):ge?y<Y.value:J<new Date(Y.value))}if((E||V)&&(q(!!E,O.message,Y.message,_t.max,_t.min),!r))return k(I[T].message),I}if((c||u)&&!B&&(ht(y)||n&&Array.isArray(y))){const E=pr(c),V=pr(u),O=!$e(E.value)&&y.length>+E.value,Y=!$e(V.value)&&y.length<+V.value;if((O||Y)&&(q(O,E.message,V.message),!r))return k(I[T].message),I}if(v&&!B&&ht(y)){const{value:E,message:V}=pr(v);if(Vs(E)&&!y.match(E)&&(I[T]={type:_t.pattern,message:V,ref:a,...U(_t.pattern,V)},!r))return k(V),I}if(_){if(Nt(_)){const E=await _(y,e),V=ji(E,b);if(V&&(I[T]={...V,...U(_t.validate,V.message)},!r))return k(V.message),I}else if(ke(_)){let E={};for(const V in _){if(!We(E)&&!r)break;const O=ji(await _[V](y,e),b,V);O&&(E={...O,...U(V,O.message)},k(O.message),r&&(I[T]=E))}if(!We(E)&&(I[T]={ref:b,...E},!r))return I}}return k(!0),I};function Xp(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=je(t)?s++:t[e[s++]];return t}function Yp(t){for(const e in t)if(t.hasOwnProperty(e)&&!je(t[e]))return!1;return!0}function Ce(t,e){const r=Array.isArray(e)?e:Ia(e)?[e]:ec(e),s=r.length===1?t:Xp(t,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(ke(s)&&We(s)||Array.isArray(s)&&Yp(s))&&Ce(t,r.slice(0,-1)),t}var An=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},Qn=t=>$e(t)||!Xl(t);function Ft(t,e){if(Qn(t)||Qn(e))return t===e;if(Xt(t)&&Xt(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const a=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(Xt(a)&&Xt(o)||ke(a)&&ke(o)||Array.isArray(a)&&Array.isArray(o)?!Ft(a,o):a!==o)return!1}}return!0}var cc=t=>t.type==="select-multiple",Jp=t=>Fa(t)||gs(t),In=t=>Ls(t)&&t.isConnected,uc=t=>{for(const e in t)if(Nt(t[e]))return!0;return!1};function $s(t,e={}){const r=Array.isArray(t);if(ke(t)||r)for(const s in t)Array.isArray(t[s])||ke(t[s])&&!uc(t[s])?(e[s]=Array.isArray(t[s])?[]:{},$s(t[s],e[s])):$e(t[s])||(e[s]=!0);return e}function dc(t,e,r){const s=Array.isArray(t);if(ke(t)||s)for(const n in t)Array.isArray(t[n])||ke(t[n])&&!uc(t[n])?je(e)||Qn(r[n])?r[n]=Array.isArray(t[n])?$s(t[n],[]):{...$s(t[n])}:dc(t[n],$e(e)?{}:e[n],r[n]):r[n]=!Ft(t[n],e[n]);return r}var zr=(t,e)=>dc(t,e,$s(e)),fc=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>je(t)?t:e?t===""?NaN:t&&+t:r&&ht(t)?new Date(t):s?s(t):t;function On(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Da(e)?e.files:Fa(e)?lc(t.refs).value:cc(e)?[...e.selectedOptions].map(({value:r})=>r):gs(e)?oc(t.refs).value:fc(je(e.value)?t.ref.value:e.value,t)}var em=(t,e,r,s)=>{const n={};for(const a of t){const o=R(e,a);o&&he(n,a,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},qr=t=>je(t)?t:Vs(t)?t.source:ke(t)?Vs(t.value)?t.value.source:t.value:t;const ki="AsyncFunction";var tm=t=>(!t||!t.validate)&&!!(Nt(t.validate)&&t.validate.constructor.name===ki||ke(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ki)),rm=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Ci(t,e,r){const s=R(t,r);if(s||Ia(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=R(e,a),l=R(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:r}}var sm=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,nm=(t,e)=>!mn(R(t,e)).length&&Ce(t,e);const am={mode:it.onSubmit,reValidateMode:it.onChange,shouldFocusError:!0};function im(t={}){let e={...am,...t},r={submitCount:0,isDirty:!1,isLoading:Nt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},n=ke(e.defaultValues)||ke(e.values)?He(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:He(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:An(),array:An(),state:An()},v=wi(e.mode),_=wi(e.reValidateMode),T=e.criteriaMode===it.all,g=p=>x=>{clearTimeout(u),u=setTimeout(p,x)},m=async p=>{if(!t.disabled&&(d.isValid||p)){const x=e.resolver?We((await D()).errors):await U(s,!0);x!==r.isValid&&h.state.next({isValid:x})}},N=(p,x)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((p||Array.from(l.mount)).forEach(w=>{w&&(x?he(r.validatingFields,w,x):Ce(r.validatingFields,w))}),h.state.next({validatingFields:r.validatingFields,isValidating:!We(r.validatingFields)}))},y=(p,x=[],w,M,A=!0,C=!0)=>{if(M&&w&&!t.disabled){if(o.action=!0,C&&Array.isArray(R(s,p))){const H=w(R(s,p),M.argA,M.argB);A&&he(s,p,H)}if(C&&Array.isArray(R(r.errors,p))){const H=w(R(r.errors,p),M.argA,M.argB);A&&he(r.errors,p,H),nm(r.errors,p)}if(d.touchedFields&&C&&Array.isArray(R(r.touchedFields,p))){const H=w(R(r.touchedFields,p),M.argA,M.argB);A&&he(r.touchedFields,p,H)}d.dirtyFields&&(r.dirtyFields=zr(n,a)),h.state.next({name:p,isDirty:E(p,x),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else he(a,p,x)},b=(p,x)=>{he(r.errors,p,x),h.state.next({errors:r.errors})},k=p=>{r.errors=p,h.state.next({errors:r.errors,isValid:!1})},I=(p,x,w,M)=>{const A=R(s,p);if(A){const C=R(a,p,je(w)?R(n,p):w);je(C)||M&&M.defaultChecked||x?he(a,p,x?C:On(A._f)):Y(p,C),o.mount&&m()}},P=(p,x,w,M,A)=>{let C=!1,H=!1;const se={name:p};if(!t.disabled){const Ie=!!(R(s,p)&&R(s,p)._f&&R(s,p)._f.disabled);if(!w||M){d.isDirty&&(H=r.isDirty,r.isDirty=se.isDirty=E(),C=H!==se.isDirty);const Oe=Ie||Ft(R(n,p),x);H=!!(!Ie&&R(r.dirtyFields,p)),Oe||Ie?Ce(r.dirtyFields,p):he(r.dirtyFields,p,!0),se.dirtyFields=r.dirtyFields,C=C||d.dirtyFields&&H!==!Oe}if(w){const Oe=R(r.touchedFields,p);Oe||(he(r.touchedFields,p,w),se.touchedFields=r.touchedFields,C=C||d.touchedFields&&Oe!==w)}C&&A&&h.state.next(se)}return C?se:{}},W=(p,x,w,M)=>{const A=R(r.errors,p),C=d.isValid&&Je(x)&&r.isValid!==x;if(t.delayError&&w?(c=g(()=>b(p,w)),c(t.delayError)):(clearTimeout(u),c=null,w?he(r.errors,p,w):Ce(r.errors,p)),(w?!Ft(A,w):A)||!We(M)||C){const H={...M,...C&&Je(x)?{isValid:x}:{},errors:r.errors,name:p};r={...r,...H},h.state.next(H)}},D=async p=>{N(p,!0);const x=await e.resolver(a,e.context,em(p||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return N(p),x},B=async p=>{const{errors:x}=await D(p);if(p)for(const w of p){const M=R(x,w);M?he(r.errors,w,M):Ce(r.errors,w)}else r.errors=x;return x},U=async(p,x,w={valid:!0})=>{for(const M in p){const A=p[M];if(A){const{_f:C,...H}=A;if(C){const se=l.array.has(C.name),Ie=A._f&&tm(A._f);Ie&&d.validatingFields&&N([M],!0);const Oe=await Ei(A,a,T,e.shouldUseNativeValidation&&!x,se);if(Ie&&d.validatingFields&&N([M]),Oe[C.name]&&(w.valid=!1,x))break;!x&&(R(Oe,C.name)?se?Qp(r.errors,Oe,C.name):he(r.errors,C.name,Oe[C.name]):Ce(r.errors,C.name))}!We(H)&&await U(H,x,w)}}return w.valid},q=()=>{for(const p of l.unMount){const x=R(s,p);x&&(x._f.refs?x._f.refs.every(w=>!In(w)):!In(x._f.ref))&&rt(p)}l.unMount=new Set},E=(p,x)=>!t.disabled&&(p&&x&&he(a,p,x),!Ft(X(),n)),V=(p,x,w)=>ac(p,l,{...o.mount?a:je(x)?n:ht(p)?{[p]:x}:x},w,x),O=p=>mn(R(o.mount?a:n,p,t.shouldUnregister?R(n,p,[]):[])),Y=(p,x,w={})=>{const M=R(s,p);let A=x;if(M){const C=M._f;C&&(!C.disabled&&he(a,p,fc(x,C)),A=Ls(C.ref)&&$e(x)?"":x,cc(C.ref)?[...C.ref.options].forEach(H=>H.selected=A.includes(H.value)):C.refs?gs(C.ref)?C.refs.length>1?C.refs.forEach(H=>(!H.defaultChecked||!H.disabled)&&(H.checked=Array.isArray(A)?!!A.find(se=>se===H.value):A===H.value)):C.refs[0]&&(C.refs[0].checked=!!A):C.refs.forEach(H=>H.checked=H.value===A):Da(C.ref)?C.ref.value="":(C.ref.value=A,C.ref.type||h.values.next({name:p,values:{...a}})))}(w.shouldDirty||w.shouldTouch)&&P(p,A,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&Q(p)},J=(p,x,w)=>{for(const M in x){const A=x[M],C=`${p}.${M}`,H=R(s,C);(l.array.has(p)||ke(A)||H&&!H._f)&&!Xt(A)?J(C,A,w):Y(C,A,w)}},ie=(p,x,w={})=>{const M=R(s,p),A=l.array.has(p),C=He(x);he(a,p,C),A?(h.array.next({name:p,values:{...a}}),(d.isDirty||d.dirtyFields)&&w.shouldDirty&&h.state.next({name:p,dirtyFields:zr(n,a),isDirty:E(p,C)})):M&&!M._f&&!$e(C)?J(p,C,w):Y(p,C,w),_i(p,l)&&h.state.next({...r}),h.values.next({name:o.mount?p:void 0,values:{...a}})},me=async p=>{o.mount=!0;const x=p.target;let w=x.name,M=!0;const A=R(s,w),C=()=>x.type?On(A._f):Yl(p),H=se=>{M=Number.isNaN(se)||Xt(se)&&isNaN(se.getTime())||Ft(se,R(a,w,se))};if(A){let se,Ie;const Oe=C(),Wt=p.type===Us.BLUR||p.type===Us.FOCUS_OUT,Ku=!rm(A._f)&&!e.resolver&&!R(r.errors,w)&&!A._f.deps||sm(Wt,R(r.touchedFields,w),r.isSubmitted,_,v),Sn=_i(w,l,Wt);he(a,w,Oe),Wt?(A._f.onBlur&&A._f.onBlur(p),c&&c(0)):A._f.onChange&&A._f.onChange(p);const Tn=P(w,Oe,Wt,!1),Qu=!We(Tn)||Sn;if(!Wt&&h.values.next({name:w,type:p.type,values:{...a}}),Ku)return d.isValid&&(t.mode==="onBlur"?Wt&&m():m()),Qu&&h.state.next({name:w,...Sn?{}:Tn});if(!Wt&&Sn&&h.state.next({...r}),e.resolver){const{errors:Za}=await D([w]);if(H(Oe),M){const Xu=Ci(r.errors,s,w),Ga=Ci(Za,s,Xu.name||w);se=Ga.error,w=Ga.name,Ie=We(Za)}}else N([w],!0),se=(await Ei(A,a,T,e.shouldUseNativeValidation))[w],N([w]),H(Oe),M&&(se?Ie=!1:d.isValid&&(Ie=await U(s,!0)));M&&(A._f.deps&&Q(A._f.deps),W(w,Ie,se,Tn))}},ge=(p,x)=>{if(R(r.errors,x)&&p.focus)return p.focus(),1},Q=async(p,x={})=>{let w,M;const A=Xr(p);if(e.resolver){const C=await B(je(p)?p:A);w=We(C),M=p?!A.some(H=>R(C,H)):w}else p?(M=(await Promise.all(A.map(async C=>{const H=R(s,C);return await U(H&&H._f?{[C]:H}:H)}))).every(Boolean),!(!M&&!r.isValid)&&m()):M=w=await U(s);return h.state.next({...!ht(p)||d.isValid&&w!==r.isValid?{}:{name:p},...e.resolver||!p?{isValid:w}:{},errors:r.errors}),x.shouldFocus&&!M&&Yr(s,ge,p?A:l.mount),M},X=p=>{const x={...o.mount?a:n};return je(p)?x:ht(p)?R(x,p):p.map(w=>R(x,w))},xe=(p,x)=>({invalid:!!R((x||r).errors,p),isDirty:!!R((x||r).dirtyFields,p),error:R((x||r).errors,p),isValidating:!!R(r.validatingFields,p),isTouched:!!R((x||r).touchedFields,p)}),oe=p=>{p&&Xr(p).forEach(x=>Ce(r.errors,x)),h.state.next({errors:p?r.errors:{}})},Pe=(p,x,w)=>{const M=(R(s,p,{_f:{}})._f||{}).ref,A=R(r.errors,p)||{},{ref:C,message:H,type:se,...Ie}=A;he(r.errors,p,{...Ie,...x,ref:M}),h.state.next({name:p,errors:r.errors,isValid:!1}),w&&w.shouldFocus&&M&&M.focus&&M.focus()},Ue=(p,x)=>Nt(p)?h.values.subscribe({next:w=>p(V(void 0,x),w)}):V(p,x,!0),rt=(p,x={})=>{for(const w of p?Xr(p):l.mount)l.mount.delete(w),l.array.delete(w),x.keepValue||(Ce(s,w),Ce(a,w)),!x.keepError&&Ce(r.errors,w),!x.keepDirty&&Ce(r.dirtyFields,w),!x.keepTouched&&Ce(r.touchedFields,w),!x.keepIsValidating&&Ce(r.validatingFields,w),!e.shouldUnregister&&!x.keepDefaultValue&&Ce(n,w);h.values.next({values:{...a}}),h.state.next({...r,...x.keepDirty?{isDirty:E()}:{}}),!x.keepIsValid&&m()},G=({disabled:p,name:x,field:w,fields:M,value:A})=>{if(Je(p)&&o.mount||p){const C=p?void 0:je(A)?On(w?w._f:R(M,x)._f):A;he(a,x,C),P(x,C,!1,!1,!0)}},le=(p,x={})=>{let w=R(s,p);const M=Je(x.disabled)||Je(t.disabled);return he(s,p,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:p}},name:p,mount:!0,...x}}),l.mount.add(p),w?G({field:w,disabled:Je(x.disabled)?x.disabled:t.disabled,name:p,value:x.value}):I(p,!0,x.value),{...M?{disabled:x.disabled||t.disabled}:{},...e.progressive?{required:!!x.required,min:qr(x.min),max:qr(x.max),minLength:qr(x.minLength),maxLength:qr(x.maxLength),pattern:qr(x.pattern)}:{},name:p,onChange:me,onBlur:me,ref:A=>{if(A){le(p,x),w=R(s,p);const C=je(A.value)&&A.querySelectorAll&&A.querySelectorAll("input,select,textarea")[0]||A,H=Jp(C),se=w._f.refs||[];if(H?se.find(Ie=>Ie===C):C===w._f.ref)return;he(s,p,{_f:{...w._f,...H?{refs:[...se.filter(In),C,...Array.isArray(R(n,p))?[{}]:[]],ref:{type:C.type,name:p}}:{ref:C}}}),I(p,!1,void 0,C)}else w=R(s,p,{}),w._f&&(w._f.mount=!1),(e.shouldUnregister||x.shouldUnregister)&&!(Jl(l.array,p)&&o.action)&&l.unMount.add(p)}}},Ae=()=>e.shouldFocusError&&Yr(s,ge,l.mount),ye=p=>{Je(p)&&(h.state.next({disabled:p}),Yr(s,(x,w)=>{const M=R(s,w);M&&(x.disabled=M._f.disabled||p,Array.isArray(M._f.refs)&&M._f.refs.forEach(A=>{A.disabled=M._f.disabled||p}))},0,!1))},ue=(p,x)=>async w=>{let M;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let A=He(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:C,values:H}=await D();r.errors=C,A=H}else await U(s);if(Ce(r.errors,"root"),We(r.errors)){h.state.next({errors:{}});try{await p(A,w)}catch(C){M=C}}else x&&await x({...r.errors},w),Ae(),setTimeout(Ae);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:We(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},de=(p,x={})=>{R(s,p)&&(je(x.defaultValue)?ie(p,He(R(n,p))):(ie(p,x.defaultValue),he(n,p,He(x.defaultValue))),x.keepTouched||Ce(r.touchedFields,p),x.keepDirty||(Ce(r.dirtyFields,p),r.isDirty=x.defaultValue?E(p,He(R(n,p))):E()),x.keepError||(Ce(r.errors,p),d.isValid&&m()),h.state.next({...r}))},Xe=(p,x={})=>{const w=p?He(p):n,M=He(w),A=We(p),C=A?n:M;if(x.keepDefaultValues||(n=w),!x.keepValues){if(x.keepDirtyValues){const H=new Set([...l.mount,...Object.keys(zr(n,a))]);for(const se of Array.from(H))R(r.dirtyFields,se)?he(C,se,R(a,se)):ie(se,R(C,se))}else{if(Aa&&je(p))for(const H of l.mount){const se=R(s,H);if(se&&se._f){const Ie=Array.isArray(se._f.refs)?se._f.refs[0]:se._f.ref;if(Ls(Ie)){const Oe=Ie.closest("form");if(Oe){Oe.reset();break}}}}s={}}a=t.shouldUnregister?x.keepDefaultValues?He(n):{}:He(C),h.array.next({values:{...C}}),h.values.next({values:{...C}})}l={mount:x.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!x.keepIsValid||!!x.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:x.keepSubmitCount?r.submitCount:0,isDirty:A?!1:x.keepDirty?r.isDirty:!!(x.keepDefaultValues&&!Ft(p,n)),isSubmitted:x.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:A?{}:x.keepDirtyValues?x.keepDefaultValues&&a?zr(n,a):r.dirtyFields:x.keepDefaultValues&&p?zr(n,p):x.keepDirty?r.dirtyFields:{},touchedFields:x.keepTouched?r.touchedFields:{},errors:x.keepErrors?r.errors:{},isSubmitSuccessful:x.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Ke=(p,x)=>Xe(Nt(p)?p(a):p,x);return{control:{register:le,unregister:rt,getFieldState:xe,handleSubmit:ue,setError:Pe,_executeSchema:D,_getWatch:V,_getDirty:E,_updateValid:m,_removeUnmounted:q,_updateFieldArray:y,_updateDisabledField:G,_getFieldArray:O,_reset:Xe,_resetDefaultValues:()=>Nt(e.defaultValues)&&e.defaultValues().then(p=>{Ke(p,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:p=>{r={...r,...p}},_disableForm:ye,_subjects:h,_proxyFormState:d,_setErrors:k,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(p){o=p},get _defaultValues(){return n},get _names(){return l},set _names(p){l=p},get _formState(){return r},set _formState(p){r=p},get _options(){return e},set _options(p){e={...e,...p}}},trigger:Q,register:le,handleSubmit:ue,watch:Ue,setValue:ie,getValues:X,reset:Ke,resetField:de,clearErrors:oe,unregister:rt,setError:Pe,setFocus:(p,x={})=>{const w=R(s,p),M=w&&w._f;if(M){const A=M.refs?M.refs[0]:M.ref;A.focus&&(A.focus(),x.shouldSelect&&A.select())}},getFieldState:xe}}function hc(t={}){const e=ae.useRef(),r=ae.useRef(),[s,n]=ae.useState({isDirty:!1,isValidating:!1,isLoading:Nt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Nt(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...im(t),formState:s});const a=e.current.control;return a._options=t,Oa({subject:a._subjects.state,next:o=>{sc(o,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),ae.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ae.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),ae.useEffect(()=>{t.values&&!Ft(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),ae.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),ae.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),ae.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),ae.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[s]),e.current.formState=rc(s,a),e.current}const Ri=(t,e,r)=>{if(t&&"reportValidity"in t){const s=R(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},pc=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?Ri(s.ref,r,t):s.refs&&s.refs.forEach(n=>Ri(n,r,t))}},om=(t,e)=>{e.shouldUseNativeValidation&&pc(t,e);const r={};for(const s in t){const n=R(e.fields,s),a=Object.assign(t[s]||{},{ref:n&&n.ref});if(lm(e.names||Object.keys(t),s)){const o=Object.assign({},R(r,s));he(o,"root",a),he(r,s,o)}else he(r,s,a)}return r},lm=(t,e)=>t.some(r=>r.startsWith(e+"."));var cm=function(t,e){for(var r={};t.length;){var s=t[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,u=c&&c[s.code];r[o]=ic(o,e,r,n,u?[].concat(u,s.message):s.message)}t.shift()}return r},mc=function(t,e,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return a.shouldUseNativeValidation&&pc({},a),{errors:{},values:r.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:om(cm(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},ce;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(ce||(ce={}));var Pi;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Pi||(Pi={}));const L=ce.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Kt=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},j=ce.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class et extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return n(this),s}static assert(e){if(!(e instanceof et))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ce.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}et.create=t=>new et(t);const is=(t,e)=>{let r;switch(t.code){case j.invalid_type:t.received===L.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case j.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,ce.jsonStringifyReplacer)}`;break;case j.unrecognized_keys:r=`Unrecognized key(s) in object: ${ce.joinValues(t.keys,", ")}`;break;case j.invalid_union:r="Invalid input";break;case j.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${ce.joinValues(t.options)}`;break;case j.invalid_enum_value:r=`Invalid enum value. Expected ${ce.joinValues(t.options)}, received '${t.received}'`;break;case j.invalid_arguments:r="Invalid function arguments";break;case j.invalid_return_type:r="Invalid function return type";break;case j.invalid_date:r="Invalid date";break;case j.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:ce.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case j.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case j.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case j.custom:r="Invalid input";break;case j.invalid_intersection_types:r="Intersection results could not be merged";break;case j.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case j.not_finite:r="Number must be finite";break;default:r=e.defaultError,ce.assertNever(t)}return{message:r}};let um=is;function Xn(){return um}const Yn=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...n,path:a,message:l}};function F(t,e){const r=Xn(),s=Yn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===is?void 0:is].filter(n=>!!n)});t.common.issues.push(s)}class qe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return K;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const a=await n.key,o=await n.value;s.push({key:a,value:o})}return qe.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return K;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const K=Object.freeze({status:"aborted"}),Wr=t=>({status:"dirty",value:t}),Ge=t=>({status:"valid",value:t}),Ai=t=>t.status==="aborted",Ii=t=>t.status==="dirty",Bs=t=>t.status==="valid",zs=t=>typeof Promise<"u"&&t instanceof Promise;function qs(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function gc(t,e,r,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var $;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})($||($={}));var Zr,Gr;class xt{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Oi=(t,e)=>{if(Bs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new et(t.common.issues);return this._error=r,this._error}}};function ee(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:n}}class ne{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Kt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new qe,ctx:{common:e.parent.common,data:e.data,parsedType:Kt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(zs(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},a=this._parseSync({data:e,path:n.path,parent:n});return Oi(n,a)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Kt(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(zs(n)?n:Promise.resolve(n));return Oi(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=e(n),l=()=>a.addIssue({code:j.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new Pt({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Et.create(this,this._def)}nullable(){return cr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return mt.create(this,this._def)}promise(){return ls.create(this,this._def)}or(e){return Zs.create([this,e],this._def)}and(e){return Gs.create(this,e,this._def)}transform(e){return new Pt({...ee(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Js({...ee(this._def),innerType:this,defaultValue:r,typeName:Z.ZodDefault})}brand(){return new bc({typeName:Z.ZodBranded,type:this,...ee(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new en({...ee(this._def),innerType:this,catchValue:r,typeName:Z.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return yn.create(this,e)}readonly(){return tn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dm=/^c[^\s-]{8,}$/i,fm=/^[0-9a-z]+$/,hm=/^[0-9A-HJKMNP-TV-Z]{26}$/,pm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mm=/^[a-z0-9_-]{21}$/i,gm=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ym=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dn;const xm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bm=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,wm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,yc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_m=new RegExp(`^${yc}$`);function vc(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Sm(t){return new RegExp(`^${vc(t)}$`)}function Tm(t){let e=`${yc}T${vc(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Nm(t,e){return!!((e==="v4"||!e)&&xm.test(t)||(e==="v6"||!e)&&bm.test(t))}class jt extends ne{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){const a=this._getOrReturnCtx(e);return F(a,{code:j.invalid_type,expected:L.string,received:a.parsedType}),K}const s=new qe;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:j.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:j.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?F(n,{code:j.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&F(n,{code:j.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")ym.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"email",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")Dn||(Dn=new RegExp(vm,"u")),Dn.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"emoji",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")pm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"uuid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")mm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"nanoid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")dm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"cuid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")fm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"cuid2",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")hm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"ulid",code:j.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),F(n,{validation:"url",code:j.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"regex",code:j.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Tm(a).test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?_m.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?Sm(a).test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{code:j.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?gm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"duration",code:j.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Nm(e.data,a.version)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"ip",code:j.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?wm.test(e.data)||(n=this._getOrReturnCtx(e,n),F(n,{validation:"base64",code:j.invalid_string,message:a.message}),s.dirty()):ce.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:j.invalid_string,...$.errToObj(s)})}_addCheck(e){return new jt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...$.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...$.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...$.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...$.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...$.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...$.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...$.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...$.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...$.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...$.errToObj(r)})}nonempty(e){return this.min(1,$.errToObj(e))}trim(){return new jt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new jt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new jt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}jt.create=t=>{var e;return new jt({checks:[],typeName:Z.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};function jm(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class Pr extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){const a=this._getOrReturnCtx(e);return F(a,{code:j.invalid_type,expected:L.number,received:a.parsedType}),K}let s;const n=new qe;for(const a of this._def.checks)a.kind==="int"?ce.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),F(s,{code:j.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?jm(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),F(s,{code:j.not_finite,message:a.message}),n.dirty()):ce.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,$.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$.toString(r))}setLimit(e,r,s,n){return new Pr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:$.toString(n)}]})}_addCheck(e){return new Pr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:$.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ce.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Pr.create=t=>new Pr({checks:[],typeName:Z.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});class Ar extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==L.bigint){const a=this._getOrReturnCtx(e);return F(a,{code:j.invalid_type,expected:L.bigint,received:a.parsedType}),K}let s;const n=new qe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),F(s,{code:j.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):ce.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,$.toString(r))}gt(e,r){return this.setLimit("min",e,!1,$.toString(r))}lte(e,r){return this.setLimit("max",e,!0,$.toString(r))}lt(e,r){return this.setLimit("max",e,!1,$.toString(r))}setLimit(e,r,s,n){return new Ar({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:$.toString(n)}]})}_addCheck(e){return new Ar({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:$.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ar.create=t=>{var e;return new Ar({checks:[],typeName:Z.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ee(t)})};class Jn extends ne{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==L.boolean){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.boolean,received:s.parsedType}),K}return Ge(e.data)}}Jn.create=t=>new Jn({typeName:Z.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ee(t)});class os extends ne{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){const a=this._getOrReturnCtx(e);return F(a,{code:j.invalid_type,expected:L.date,received:a.parsedType}),K}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return F(a,{code:j.invalid_date}),K}const s=new qe;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:j.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),F(n,{code:j.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):ce.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new os({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:$.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:$.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}os.create=t=>new os({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Z.ZodDate,...ee(t)});class ea extends ne{_parse(e){if(this._getType(e)!==L.symbol){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.symbol,received:s.parsedType}),K}return Ge(e.data)}}ea.create=t=>new ea({typeName:Z.ZodSymbol,...ee(t)});class Hs extends ne{_parse(e){if(this._getType(e)!==L.undefined){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.undefined,received:s.parsedType}),K}return Ge(e.data)}}Hs.create=t=>new Hs({typeName:Z.ZodUndefined,...ee(t)});class Ws extends ne{_parse(e){if(this._getType(e)!==L.null){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.null,received:s.parsedType}),K}return Ge(e.data)}}Ws.create=t=>new Ws({typeName:Z.ZodNull,...ee(t)});class ta extends ne{constructor(){super(...arguments),this._any=!0}_parse(e){return Ge(e.data)}}ta.create=t=>new ta({typeName:Z.ZodAny,...ee(t)});class br extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ge(e.data)}}br.create=t=>new br({typeName:Z.ZodUnknown,...ee(t)});class zt extends ne{_parse(e){const r=this._getOrReturnCtx(e);return F(r,{code:j.invalid_type,expected:L.never,received:r.parsedType}),K}}zt.create=t=>new zt({typeName:Z.ZodNever,...ee(t)});class ra extends ne{_parse(e){if(this._getType(e)!==L.undefined){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.void,received:s.parsedType}),K}return Ge(e.data)}}ra.create=t=>new ra({typeName:Z.ZodVoid,...ee(t)});class mt extends ne{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==L.array)return F(r,{code:j.invalid_type,expected:L.array,received:r.parsedType}),K;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(F(r,{code:o?j.too_big:j.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(F(r,{code:j.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(F(r,{code:j.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new xt(r,o,r.path,l)))).then(o=>qe.mergeArray(s,o));const a=[...r.data].map((o,l)=>n.type._parseSync(new xt(r,o,r.path,l)));return qe.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new mt({...this._def,minLength:{value:e,message:$.toString(r)}})}max(e,r){return new mt({...this._def,maxLength:{value:e,message:$.toString(r)}})}length(e,r){return new mt({...this._def,exactLength:{value:e,message:$.toString(r)}})}nonempty(e){return this.min(1,e)}}mt.create=(t,e)=>new mt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...ee(e)});function gr(t){if(t instanceof Ne){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Et.create(gr(s))}return new Ne({...t._def,shape:()=>e})}else return t instanceof mt?new mt({...t._def,type:gr(t.element)}):t instanceof Et?Et.create(gr(t.unwrap())):t instanceof cr?cr.create(gr(t.unwrap())):t instanceof Rt?Rt.create(t.items.map(e=>gr(e))):t}class Ne extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=ce.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==L.object){const u=this._getOrReturnCtx(e);return F(u,{code:j.invalid_type,expected:L.object,received:u.parsedType}),K}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof zt&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new xt(n,h,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof zt){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(u==="strict")l.length>0&&(F(n,{code:j.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new xt(n,h,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,v=await d.value;u.push({key:h,value:v,alwaysSet:d.alwaysSet})}return u}).then(u=>qe.mergeObjectSync(s,u)):qe.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return $.errToObj,new Ne({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,o,l;const c=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=$.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Ne({...this._def,unknownKeys:"strip"})}passthrough(){return new Ne({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ne({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ne({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Z.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ne({...this._def,catchall:e})}pick(e){const r={};return ce.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new Ne({...this._def,shape:()=>r})}omit(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new Ne({...this._def,shape:()=>r})}deepPartial(){return gr(this)}partial(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new Ne({...this._def,shape:()=>r})}required(e){const r={};return ce.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Et;)a=a._def.innerType;r[s]=a}}),new Ne({...this._def,shape:()=>r})}keyof(){return xc(ce.objectKeys(this.shape))}}Ne.create=(t,e)=>new Ne({shape:()=>t,unknownKeys:"strip",catchall:zt.create(),typeName:Z.ZodObject,...ee(e)});Ne.strictCreate=(t,e)=>new Ne({shape:()=>t,unknownKeys:"strict",catchall:zt.create(),typeName:Z.ZodObject,...ee(e)});Ne.lazycreate=(t,e)=>new Ne({shape:t,unknownKeys:"strip",catchall:zt.create(),typeName:Z.ZodObject,...ee(e)});class Zs extends ne{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new et(l.ctx.common.issues));return F(r,{code:j.invalid_union,unionErrors:o}),K}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of s){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new et(c));return F(r,{code:j.invalid_union,unionErrors:l}),K}}get options(){return this._def.options}}Zs.create=(t,e)=>new Zs({options:t,typeName:Z.ZodUnion,...ee(e)});const Tt=t=>t instanceof Qs?Tt(t.schema):t instanceof Pt?Tt(t.innerType()):t instanceof Xs?[t.value]:t instanceof lr?t.options:t instanceof Ys?ce.objectValues(t.enum):t instanceof Js?Tt(t._def.innerType):t instanceof Hs?[void 0]:t instanceof Ws?[null]:t instanceof Et?[void 0,...Tt(t.unwrap())]:t instanceof cr?[null,...Tt(t.unwrap())]:t instanceof bc||t instanceof tn?Tt(t.unwrap()):t instanceof en?Tt(t._def.innerType):[];class Ma extends ne{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.object)return F(r,{code:j.invalid_type,expected:L.object,received:r.parsedType}),K;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(F(r,{code:j.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),K)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const o=Tt(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(n.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);n.set(l,a)}}return new Ma({typeName:Z.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...ee(s)})}}function sa(t,e){const r=Kt(t),s=Kt(e);if(t===e)return{valid:!0,data:t};if(r===L.object&&s===L.object){const n=ce.objectKeys(e),a=ce.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=sa(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===L.array&&s===L.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=sa(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===L.date&&s===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Gs extends ne{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,o)=>{if(Ai(a)||Ai(o))return K;const l=sa(a.value,o.value);return l.valid?((Ii(a)||Ii(o))&&r.dirty(),{status:r.value,value:l.data}):(F(s,{code:j.invalid_intersection_types}),K)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Gs.create=(t,e,r)=>new Gs({left:t,right:e,typeName:Z.ZodIntersection,...ee(r)});class Rt extends ne{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==L.array)return F(s,{code:j.invalid_type,expected:L.array,received:s.parsedType}),K;if(s.data.length<this._def.items.length)return F(s,{code:j.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&s.data.length>this._def.items.length&&(F(s,{code:j.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new xt(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>qe.mergeArray(r,o)):qe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Rt({...this._def,rest:e})}}Rt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Rt({items:t,typeName:Z.ZodTuple,rest:null,...ee(e)})};class Ks extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==L.object)return F(s,{code:j.invalid_type,expected:L.object,received:s.parsedType}),K;const n=[],a=this._def.keyType,o=this._def.valueType;for(const l in s.data)n.push({key:a._parse(new xt(s,l,s.path,l)),value:o._parse(new xt(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?qe.mergeObjectAsync(r,n):qe.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof ne?new Ks({keyType:e,valueType:r,typeName:Z.ZodRecord,...ee(s)}):new Ks({keyType:jt.create(),valueType:e,typeName:Z.ZodRecord,...ee(r)})}}class na extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==L.map)return F(s,{code:j.invalid_type,expected:L.map,received:s.parsedType}),K;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:n._parse(new xt(s,l,s.path,[u,"key"])),value:a._parse(new xt(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return K;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return K;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}na.create=(t,e,r)=>new na({valueType:e,keyType:t,typeName:Z.ZodMap,...ee(r)});class Ir extends ne{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==L.set)return F(s,{code:j.invalid_type,expected:L.set,received:s.parsedType}),K;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(F(s,{code:j.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(F(s,{code:j.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return K;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...s.data.values()].map((c,u)=>a._parse(new xt(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Ir({...this._def,minSize:{value:e,message:$.toString(r)}})}max(e,r){return new Ir({...this._def,maxSize:{value:e,message:$.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Ir.create=(t,e)=>new Ir({valueType:t,minSize:null,maxSize:null,typeName:Z.ZodSet,...ee(e)});class Jr extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.function)return F(r,{code:j.invalid_type,expected:L.function,received:r.parsedType}),K;function s(l,c){return Yn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Xn(),is].filter(u=>!!u),issueData:{code:j.invalid_arguments,argumentsError:c}})}function n(l,c){return Yn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Xn(),is].filter(u=>!!u),issueData:{code:j.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ls){const l=this;return Ge(async function(...c){const u=new et([]),d=await l._def.args.parseAsync(c,a).catch(_=>{throw u.addIssue(s(c,_)),u}),h=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(h,a).catch(_=>{throw u.addIssue(n(h,_)),u})})}else{const l=this;return Ge(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new et([s(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(d,a);if(!h.success)throw new et([n(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Jr({...this._def,args:Rt.create(e).rest(br.create())})}returns(e){return new Jr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Jr({args:e||Rt.create([]).rest(br.create()),returns:r||br.create(),typeName:Z.ZodFunction,...ee(s)})}}class Qs extends ne{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Qs.create=(t,e)=>new Qs({getter:t,typeName:Z.ZodLazy,...ee(e)});class Xs extends ne{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return F(r,{received:r.data,code:j.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:e.data}}get value(){return this._def.value}}Xs.create=(t,e)=>new Xs({value:t,typeName:Z.ZodLiteral,...ee(e)});function xc(t,e){return new lr({values:t,typeName:Z.ZodEnum,...ee(e)})}class lr extends ne{constructor(){super(...arguments),Zr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return F(r,{expected:ce.joinValues(s),received:r.parsedType,code:j.invalid_type}),K}if(qs(this,Zr)||gc(this,Zr,new Set(this._def.values)),!qs(this,Zr).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return F(r,{received:r.data,code:j.invalid_enum_value,options:s}),K}return Ge(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return lr.create(e,{...this._def,...r})}exclude(e,r=this._def){return lr.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}Zr=new WeakMap;lr.create=xc;class Ys extends ne{constructor(){super(...arguments),Gr.set(this,void 0)}_parse(e){const r=ce.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==L.string&&s.parsedType!==L.number){const n=ce.objectValues(r);return F(s,{expected:ce.joinValues(n),received:s.parsedType,code:j.invalid_type}),K}if(qs(this,Gr)||gc(this,Gr,new Set(ce.getValidEnumValues(this._def.values))),!qs(this,Gr).has(e.data)){const n=ce.objectValues(r);return F(s,{received:s.data,code:j.invalid_enum_value,options:n}),K}return Ge(e.data)}get enum(){return this._def.values}}Gr=new WeakMap;Ys.create=(t,e)=>new Ys({values:t,typeName:Z.ZodNativeEnum,...ee(e)});class ls extends ne{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.promise&&r.common.async===!1)return F(r,{code:j.invalid_type,expected:L.promise,received:r.parsedType}),K;const s=r.parsedType===L.promise?r.data:Promise.resolve(r.data);return Ge(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ls.create=(t,e)=>new ls({type:t,typeName:Z.ZodPromise,...ee(e)});class Pt extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{F(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return K;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?K:c.status==="dirty"||r.value==="dirty"?Wr(c.value):c});{if(r.value==="aborted")return K;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?K:l.status==="dirty"||r.value==="dirty"?Wr(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?K:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?K:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Bs(o))return o;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Bs(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);ce.assertNever(n)}}Pt.create=(t,e,r)=>new Pt({schema:t,typeName:Z.ZodEffects,effect:e,...ee(r)});Pt.createWithPreprocess=(t,e,r)=>new Pt({schema:e,effect:{type:"preprocess",transform:t},typeName:Z.ZodEffects,...ee(r)});class Et extends ne{_parse(e){return this._getType(e)===L.undefined?Ge(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Et.create=(t,e)=>new Et({innerType:t,typeName:Z.ZodOptional,...ee(e)});class cr extends ne{_parse(e){return this._getType(e)===L.null?Ge(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cr.create=(t,e)=>new cr({innerType:t,typeName:Z.ZodNullable,...ee(e)});class Js extends ne{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===L.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Js.create=(t,e)=>new Js({innerType:t,typeName:Z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ee(e)});class en extends ne{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return zs(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new et(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new et(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}en.create=(t,e)=>new en({innerType:t,typeName:Z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ee(e)});class aa extends ne{_parse(e){if(this._getType(e)!==L.nan){const s=this._getOrReturnCtx(e);return F(s,{code:j.invalid_type,expected:L.nan,received:s.parsedType}),K}return{status:"valid",value:e.data}}}aa.create=t=>new aa({typeName:Z.ZodNaN,...ee(t)});class bc extends ne{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class yn extends ne{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?K:a.status==="dirty"?(r.dirty(),Wr(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?K:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new yn({in:e,out:r,typeName:Z.ZodPipeline})}}class tn extends ne{_parse(e){const r=this._def.innerType._parse(e),s=n=>(Bs(n)&&(n.value=Object.freeze(n.value)),n);return zs(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}tn.create=(t,e)=>new tn({innerType:t,typeName:Z.ZodReadonly,...ee(e)});Ne.lazycreate;var Z;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Z||(Z={}));const es=jt.create,Em=Pr.create;aa.create;Ar.create;Jn.create;os.create;ea.create;Hs.create;Ws.create;ta.create;br.create;zt.create;ra.create;mt.create;const wc=Ne.create;Ne.strictCreate;Zs.create;Ma.create;Gs.create;Rt.create;Ks.create;na.create;Ir.create;Jr.create;Qs.create;Xs.create;lr.create;Ys.create;ls.create;Pt.create;Et.create;cr.create;Pt.createWithPreprocess;yn.create;var km="Label",_c=f.forwardRef((t,e)=>i.jsx(_e.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));_c.displayName=km;var Sc=_c;const Cm=ja("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Me=f.forwardRef(({className:t,...e},r)=>i.jsx(Sc,{ref:r,className:z(Cm(),t),...e}));Me.displayName=Sc.displayName;const Tc=Hp,Nc=f.createContext({}),yr=({...t})=>i.jsx(Nc.Provider,{value:{name:t.name},children:i.jsx(Kp,{...t})}),vn=()=>{const t=f.useContext(Nc),e=f.useContext(jc),{getFieldState:r,formState:s}=gn(),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},jc=f.createContext({}),Yt=f.forwardRef(({className:t,...e},r)=>{const s=f.useId();return i.jsx(jc.Provider,{value:{id:s},children:i.jsx("div",{ref:r,className:z("space-y-2",t),...e})})});Yt.displayName="FormItem";const Jt=f.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:n}=vn();return i.jsx(Me,{ref:r,className:z(s&&"text-destructive",t),htmlFor:n,...e})});Jt.displayName="FormLabel";const er=f.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=vn();return i.jsx(ma,{ref:e,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...t})});er.displayName="FormControl";const Rm=f.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=vn();return i.jsx("p",{ref:r,id:s,className:z("text-sm text-muted-foreground",t),...e})});Rm.displayName="FormDescription";const tr=f.forwardRef(({className:t,children:e,...r},s)=>{const{error:n,formMessageId:a}=vn(),o=n?String(n==null?void 0:n.message):e;return o?i.jsx("p",{ref:s,id:a,className:z("text-sm font-medium text-destructive",t),...r,children:o}):null});tr.displayName="FormMessage";const Re=f.forwardRef(({className:t,type:e,...r},s)=>i.jsx("input",{type:e,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));Re.displayName="Input";const Pm=od,Am=ld,Im=id,Ec=f.forwardRef(({className:t,...e},r)=>i.jsx(po,{ref:r,className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Ec.displayName=po.displayName;const kc=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(Im,{children:[i.jsx(Ec,{}),i.jsxs(mo,{ref:s,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(ad,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(uo,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));kc.displayName=mo.displayName;const Cc=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Cc.displayName="DialogHeader";const Rc=f.forwardRef(({className:t,...e},r)=>i.jsx(go,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",t),...e}));Rc.displayName=go.displayName;const Om=f.forwardRef(({className:t,...e},r)=>i.jsx(yo,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));Om.displayName=yo.displayName;function Dm(){const[t,e]=f.useState(""),[r,s]=f.useState(!1),{toast:n}=bt(),a=async o=>{if(o.preventDefault(),o.stopPropagation(),!t){n({variant:"destructive",title:"Error",description:"Please enter your email address"});return}try{await gp(t),n({title:"Success",description:"Password reset email sent. Please check your inbox."}),e(""),s(!1)}catch(l){n({variant:"destructive",title:"Error",description:l.message})}};return i.jsxs(Pm,{open:r,onOpenChange:s,children:[i.jsx(Am,{asChild:!0,children:i.jsx(ve,{variant:"link",className:"px-0 font-normal",children:"Forgot password?"})}),i.jsxs(kc,{className:"sm:max-w-[425px]",children:[i.jsx(Cc,{children:i.jsx(Rc,{children:"Reset Password"})}),i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsx(Re,{type:"email",placeholder:"Enter your email",value:t,onChange:o=>e(o.target.value),required:!0}),i.jsx(ve,{type:"submit",className:"w-full",children:"Send Reset Link"})]})]})]})}var Pc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Di=ae.createContext&&ae.createContext(Pc),Fm=["attr","size","title"];function Mm(t,e){if(t==null)return{};var r=Um(t,e),s,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)s=a[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function Um(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function rn(){return rn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},rn.apply(this,arguments)}function Fi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function sn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Fi(Object(r),!0).forEach(function(s){Lm(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fi(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function Lm(t,e,r){return e=Vm(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vm(t){var e=$m(t,"string");return typeof e=="symbol"?e:e+""}function $m(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ac(t){return t&&t.map((e,r)=>ae.createElement(e.tag,sn({key:r},e.attr),Ac(e.child)))}function Ic(t){return e=>ae.createElement(Bm,rn({attr:sn({},t.attr)},e),Ac(t.child))}function Bm(t){var e=r=>{var{attr:s,size:n,title:a}=t,o=Mm(t,Fm),l=n||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),ae.createElement("svg",rn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:c,style:sn(sn({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&ae.createElement("title",null,a),t.children)};return Di!==void 0?ae.createElement(Di.Consumer,null,r=>e(r)):e(Pc)}function Oc(t){return Ic({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function Dc(t){return Ic({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const zm=wc({email:es().email(),password:es().min(6)});function qm(){const{toast:t}=bt(),e=hc({resolver:mc(zm),defaultValues:{email:"",password:""}});async function r(a){try{await pp(a.email,a.password),t({title:"Success",description:"You have been logged in"})}catch(o){t({variant:"destructive",title:"Login Error",description:o.message||"Failed to log in. Please try again."})}}const s=async()=>{try{await Pl(),t({title:"Success",description:"You have been logged in with Google"})}catch(a){t({variant:"destructive",title:"Google Sign-In Error",description:a.message})}},n=async()=>{try{await Al(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(a){t({variant:"destructive",title:"Facebook Sign-In Error",description:a.message})}};return i.jsxs(ot,{className:"w-[350px]",children:[i.jsx(yt,{children:i.jsx(vt,{children:"Login"})}),i.jsx(lt,{children:i.jsx(Tc,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-4",children:[i.jsx(yr,{control:e.control,name:"email",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Email"}),i.jsx(er,{children:i.jsx(Re,{placeholder:"email@example.com",...a})}),i.jsx(tr,{})]})}),i.jsx(yr,{control:e.control,name:"password",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Password"}),i.jsx(er,{children:i.jsx(Re,{type:"password",...a})}),i.jsx(tr,{})]})}),i.jsx("div",{className:"text-sm",children:i.jsx(Dm,{})}),i.jsx(ve,{type:"submit",className:"w-full",children:"Sign in"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(ve,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[i.jsx(Dc,{className:"mr-2 h-4 w-4"}),"Google"]}),i.jsxs(ve,{type:"button",variant:"outline",className:"w-full",onClick:n,children:[i.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}const Hm=wc({email:es().email(),password:es().min(6),name:es().min(2),age:Em().min(13).max(120)});function Wm(){const{toast:t}=bt(),e=hc({resolver:mc(Hm),defaultValues:{email:"",password:"",name:"",age:18}});async function r(a){try{await hp(a),t({title:"Success",description:"Please verify your email to continue"})}catch(o){t({variant:"destructive",title:"Error",description:o.message})}}const s=async()=>{try{await Pl(),t({title:"Success",description:"You have been logged in with Google"})}catch(a){t({variant:"destructive",title:"Error",description:a.message})}},n=async()=>{try{await Al(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(a){t({variant:"destructive",title:"Error",description:a.message})}};return i.jsxs(ot,{className:"w-[350px]",children:[i.jsx(yt,{children:i.jsx(vt,{children:"Sign up"})}),i.jsx(lt,{children:i.jsx(Tc,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-4",children:[i.jsx(yr,{control:e.control,name:"email",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Email"}),i.jsx(er,{children:i.jsx(Re,{placeholder:"email@example.com",...a})}),i.jsx(tr,{})]})}),i.jsx(yr,{control:e.control,name:"password",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Password"}),i.jsx(er,{children:i.jsx(Re,{type:"password",...a})}),i.jsx(tr,{})]})}),i.jsx(yr,{control:e.control,name:"name",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Name"}),i.jsx(er,{children:i.jsx(Re,{...a})}),i.jsx(tr,{})]})}),i.jsx(yr,{control:e.control,name:"age",render:({field:a})=>i.jsxs(Yt,{children:[i.jsx(Jt,{children:"Age"}),i.jsx(er,{children:i.jsx(Re,{type:"number",...a,onChange:o=>a.onChange(parseInt(o.target.value))})}),i.jsx(tr,{})]})}),i.jsx(ve,{type:"submit",className:"w-full",children:"Sign up"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(ve,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[i.jsx(Dc,{className:"mr-2 h-4 w-4"}),"Google"]}),i.jsxs(ve,{type:"button",variant:"outline",className:"w-full",onClick:n,children:[i.jsx(Oc,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}function Zm(){const{t}=ms(),{user:e}=ps(),[r,s]=$o();return f.useEffect(()=>{e!=null&&e.emailVerified&&s("/welcome")},[e,s]),i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("welcomeMessage")}),i.jsxs(Bp,{defaultValue:"login",className:"w-[350px]",children:[i.jsxs(Ql,{className:"grid w-full grid-cols-2",children:[i.jsx(Gn,{value:"login",children:t("login")}),i.jsx(Gn,{value:"signup",children:t("signup")})]}),i.jsx(Kn,{value:"login",children:i.jsx(qm,{})}),i.jsx(Kn,{value:"signup",children:i.jsx(Wm,{})})]})]})})}function Fc(){var o;const{toast:t}=bt(),[e,r]=f.useState(!1);if((o=Ee.currentUser)==null?void 0:o.providerData.some(l=>l.providerId==="facebook.com"))return null;const n=async()=>{try{await mp(),t({title:"Success",description:"Verification email sent"})}catch(l){t({variant:"destructive",title:"Error",description:l.message})}},a=async()=>{var l,c;r(!0);try{if(await((l=Ee.currentUser)==null?void 0:l.reload()),(c=Ee.currentUser)!=null&&c.emailVerified){window.location.reload();return}t({variant:"destructive",title:"Not verified",description:"Please check your email and verify your address before continuing"})}catch(u){t({variant:"destructive",title:"Error",description:u.message})}finally{r(!1)}};return i.jsxs(ot,{className:"w-[350px]",children:[i.jsx(yt,{children:i.jsx(vt,{children:"Verify your email"})}),i.jsxs(lt,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your email for a verification link. Once verified, click the button below to continue."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ve,{onClick:a,className:"w-full",disabled:e,children:e?"Checking...":"Verify and Continue"}),i.jsx(ve,{onClick:n,variant:"outline",className:"w-full",disabled:e,children:"Resend verification email"})]})]})]})}function Or({className:t,...e}){return i.jsx("div",{className:z("animate-pulse rounded-md bg-muted",t),...e})}function Mi(){var c;const{t}=ms(),{user:e,loading:r,verified:s}=Ca(),{toast:n}=bt(),[,a]=$o(),o=async()=>{try{await fp(),n({title:t("accountDeleted"),description:t("accountDeletedDescription")}),a("/")}catch(u){n({variant:"destructive",title:t("error"),description:u.message})}};if(r)return i.jsxs("div",{className:"container py-8",children:[i.jsx(Or,{className:"h-8 w-[200px]"}),i.jsx(Or,{className:"mt-4 h-32 w-full"})]});if(!s)return i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsx(Fc,{})});const l=((c=e==null?void 0:e.displayName)==null?void 0:c.split("|")[0])||t("user");return i.jsxs("div",{className:"container py-8",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("welcomeUser",{name:l})}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:t("loginSuccessMessage")}),i.jsx("div",{className:"mt-8",children:i.jsx(ve,{variant:"destructive",onClick:o,className:"w-full max-w-xs",children:t("deleteAccount")})})]})}const Mc=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:z("w-full caption-bottom text-sm",t),...e})}));Mc.displayName="Table";const Uc=f.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:z("[&_tr]:border-b",t),...e}));Uc.displayName="TableHeader";const Lc=f.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:z("[&_tr:last-child]:border-0",t),...e}));Lc.displayName="TableBody";const Gm=f.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:z("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Gm.displayName="TableFooter";const ia=f.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:z("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ia.displayName="TableRow";const Zt=f.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:z("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Zt.displayName="TableHead";const Gt=f.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:z("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Gt.displayName="TableCell";const Km=f.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:z("mt-4 text-sm text-muted-foreground",t),...e}));Km.displayName="TableCaption";const Fn=ud,Mn=dd,Qm=cd,Vc=f.forwardRef(({className:t,...e},r)=>i.jsx(vo,{className:z("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Vc.displayName=vo.displayName;const Cs=f.forwardRef(({className:t,...e},r)=>i.jsxs(Qm,{children:[i.jsx(Vc,{}),i.jsx(xo,{ref:r,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Cs.displayName=xo.displayName;const Rs=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col space-y-2 text-center sm:text-left",t),...e});Rs.displayName="AlertDialogHeader";const Ps=({className:t,...e})=>i.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ps.displayName="AlertDialogFooter";const As=f.forwardRef(({className:t,...e},r)=>i.jsx(bo,{ref:r,className:z("text-lg font-semibold",t),...e}));As.displayName=bo.displayName;const Is=f.forwardRef(({className:t,...e},r)=>i.jsx(wo,{ref:r,className:z("text-sm text-muted-foreground",t),...e}));Is.displayName=wo.displayName;const Os=f.forwardRef(({className:t,...e},r)=>i.jsx(_o,{ref:r,className:z(ka(),t),...e}));Os.displayName=_o.displayName;const Ds=f.forwardRef(({className:t,...e},r)=>i.jsx(So,{ref:r,className:z(ka({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));Ds.displayName=So.displayName;function Xm(){const{loading:t}=xp(),[e,r]=f.useState([]),[s,n]=f.useState(!0),{toast:a}=bt();f.useEffect(()=>{async function d(){try{const h=await dp();r(h)}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to load users"})}finally{n(!1)}}t||d()},[t,a]);const o=async(d,h)=>{try{await hs(d,h),r(v=>v.map(_=>_.userId===d?{..._,role:h,updatedAt:new Date().toISOString()}:_)),a({title:"Success",description:`User role updated to ${h}`})}catch(v){a({variant:"destructive",title:"Error",description:v.message||"Failed to update user role"})}},l=async d=>{try{await vp(d),r(h=>h.map(v=>v.userId===d?{...v,role:"user",updatedAt:new Date().toISOString()}:v)),a({title:"Success",description:"User has been enabled"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to enable user"})}},c=async d=>{try{await yp(d),r(h=>h.map(v=>v.userId===d?{...v,role:"disabled",updatedAt:new Date().toISOString()}:v)),a({title:"Success",description:"User has been disabled"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to disable user"})}},u=async d=>{try{await yi(d),await yi(d),r(h=>h.filter(v=>v.userId!==d)),a({title:"Success",description:"User has been permanently deleted"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to delete user"})}};return t||s?i.jsxs("div",{className:"container py-8",children:[i.jsx(Or,{className:"h-8 w-[200px]"}),i.jsx(Or,{className:"mt-4 h-32 w-full"})]}):i.jsxs("div",{className:"container py-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage users and their roles"})]})}),i.jsx("div",{className:"mt-8 rounded-md border",children:i.jsxs(Mc,{children:[i.jsx(Uc,{children:i.jsxs(ia,{children:[i.jsx(Zt,{children:"User"}),i.jsx(Zt,{children:"User ID"}),i.jsx(Zt,{children:"Email"}),i.jsx(Zt,{children:"Role"}),i.jsx(Zt,{children:"Last Updated"}),i.jsx(Zt,{className:"text-right",children:"Actions"})]})}),i.jsx(Lc,{children:e.map(d=>i.jsxs(ia,{children:[i.jsx(Gt,{children:d.displayName||"N/A"}),i.jsx(Gt,{className:"font-mono text-sm text-muted-foreground",children:d.userId}),i.jsx(Gt,{children:d.email||"N/A"}),i.jsx(Gt,{className:"capitalize",children:d.role}),i.jsx(Gt,{children:new Date(d.updatedAt).toLocaleDateString()}),i.jsx(Gt,{children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.role==="disabled"?i.jsxs(Fn,{children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(ve,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(Qa,{className:"h-4 w-4"}),"Enable User"]})}),i.jsxs(Cs,{children:[i.jsxs(Rs,{children:[i.jsx(As,{children:"Enable User Account"}),i.jsx(Is,{children:"This action will restore the user's access to the application."})]}),i.jsxs(Ps,{children:[i.jsx(Ds,{children:"Cancel"}),i.jsx(Os,{onClick:()=>l(d.userId),className:"bg-green-600 text-white hover:bg-green-700",children:"Enable User"})]})]})]}):i.jsx(ve,{variant:"outline",size:"sm",onClick:()=>o(d.userId,d.role==="admin"?"user":"admin"),children:d.role==="admin"?i.jsxs(i.Fragment,{children:[i.jsx(fd,{className:"mr-2 h-4 w-4"}),"Remove Admin"]}):i.jsxs(i.Fragment,{children:[i.jsx(Qa,{className:"mr-2 h-4 w-4"}),"Make Admin"]})}),i.jsxs(Fn,{children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(ve,{variant:"destructive",size:"sm",className:"gap-2",disabled:d.role==="disabled",children:[i.jsx(hd,{className:"h-4 w-4"}),"Disable User"]})}),i.jsxs(Cs,{children:[i.jsxs(Rs,{children:[i.jsx(As,{children:"Disable User Account"}),i.jsx(Is,{children:"This action will disable the user account. The user will no longer be able to access the application."})]}),i.jsxs(Ps,{children:[i.jsx(Ds,{children:"Cancel"}),i.jsx(Os,{onClick:()=>c(d.userId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Disable"})]})]})]}),i.jsxs(Fn,{children:[i.jsx(Mn,{asChild:!0,children:i.jsxs(ve,{variant:"destructive",size:"sm",className:"gap-2",children:[i.jsx(pd,{className:"h-4 w-4"}),"Delete User"]})}),i.jsxs(Cs,{children:[i.jsxs(Rs,{children:[i.jsx(As,{children:"Permanently Delete User"}),i.jsx(Is,{children:"This will permanently delete the user account and all associated data. This action cannot be undone."})]}),i.jsxs(Ps,{children:[i.jsx(Ds,{children:"Cancel"}),i.jsx(Os,{onClick:()=>u(d.userId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},d.userId))})]})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="firebasestorage.googleapis.com",Bc="storageBucket",Ym=2*60*1e3,Jm=10*60*1e3,eg=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se extends Yd{constructor(e,r,s=0){super(Un(e),`Firebase Storage: ${r} (${Un(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Se.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Un(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var we;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(we||(we={}));function Un(t){return"storage/"+t}function Ua(){const t="An unknown error occurred, please check the error payload for server response.";return new Se(we.UNKNOWN,t)}function tg(t){return new Se(we.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rg(t){return new Se(we.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function sg(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Se(we.UNAUTHENTICATED,t)}function ng(){return new Se(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function ag(t){return new Se(we.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function zc(){return new Se(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qc(){return new Se(we.CANCELED,"User canceled the upload/download.")}function ig(t){return new Se(we.INVALID_URL,"Invalid URL '"+t+"'.")}function og(t){return new Se(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lg(){return new Se(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Bc+"' property when initializing the app?")}function Hc(){return new Se(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cg(){return new Se(we.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function ug(){return new Se(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dg(t){return new Se(we.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function oa(t){return new Se(we.INVALID_ARGUMENT,t)}function Wc(){return new Se(we.APP_DELETED,"The Firebase app was deleted.")}function fg(t){return new Se(we.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ts(t,e){return new Se(we.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hr(t){throw new Se(we.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=ze.makeFromUrl(e,r)}catch{return new ze(e,"")}if(s.path==="")return s;throw og(e)}static makeFromUrl(e,r){let s=null;const n="([A-Za-z0-9.\\-_]+)";function a(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+n+o,"i"),c={bucket:1,path:3};function u(k){k.path_=decodeURIComponent(k.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",_=new RegExp(`^https?://${h}/${d}/b/${n}/o${v}`,"i"),T={bucket:1,path:3},g=r===$c?"(?:storage.googleapis.com|storage.cloud.google.com)":r,m="([^?#]*)",N=new RegExp(`^https?://${g}/${n}/${m}`,"i"),b=[{regex:l,indices:c,postModify:a},{regex:_,indices:T,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let k=0;k<b.length;k++){const I=b[k],P=I.regex.exec(e);if(P){const W=P[I.indices.bucket];let D=P[I.indices.path];D||(D=""),s=new ze(W,D),I.postModify(s);break}}if(s==null)throw ig(e);return s}}class hg{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t,e,r){let s=1,n=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...m){u||(u=!0,e.apply(null,m))}function h(m){n=setTimeout(()=>{n=null,t(_,c())},m)}function v(){a&&clearTimeout(a)}function _(m,...N){if(u){v();return}if(m){v(),d.call(null,m,...N);return}if(c()||o){v(),d.call(null,m,...N);return}s<64&&(s*=2);let b;l===1?(l=2,b=0):b=(s+Math.random())*1e3,h(b)}let T=!1;function g(m){T||(T=!0,v(),!u&&(n!==null?(m||(l=2),clearTimeout(n),h(0)):m||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function mg(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t){return t!==void 0}function yg(t){return typeof t=="function"}function vg(t){return typeof t=="object"&&!Array.isArray(t)}function xn(t){return typeof t=="string"||t instanceof String}function Ui(t){return La()&&t instanceof Blob}function La(){return typeof Blob<"u"}function la(t,e,r,s){if(s<e)throw oa(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>r)throw oa(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,e,r){let s=e;return r==null&&(s=`https://${e}`),`${r}://${s}/v0${t}`}function Zc(t){const e=encodeURIComponent;let r="?";for(const s in t)if(t.hasOwnProperty(s)){const n=e(s)+"="+e(t[s]);r=r+n+"&"}return r=r.slice(0,-1),r}var or;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(or||(or={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e){const r=t>=500&&t<600,n=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||n||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,r,s,n,a,o,l,c,u,d,h,v=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=n,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,T)=>{this.resolve_=_,this.reject_=T,this.start_()})}start_(){const e=(s,n)=>{if(n){s(!1,new Ss(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===or.NO_ERROR,c=a.getStatus();if(!l||Gc(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===or.ABORT;s(!1,new Ss(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Ss(u,a))})},r=(s,n)=>{const a=this.resolve_,o=this.reject_,l=n.connection;if(n.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());gg(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=Ua();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(n.canceled){const c=this.appDelete_?Wc():qc();o(c)}else{const c=zc();o(c)}};this.canceled_?r(!1,new Ss(!1,null,!0)):this.backoffId_=pg(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mg(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ss{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function bg(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function wg(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function _g(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sg(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Tg(t,e,r,s,n,a,o=!0){const l=Zc(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return _g(u,e),bg(u,r),wg(u,a),Sg(u,s),new xg(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function jg(...t){const e=Ng();if(e!==void 0){const r=new e;for(let s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}else{if(La())return new Blob(t);throw new Se(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Eg(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t){if(typeof atob>"u")throw dg("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ln{constructor(e,r){this.data=e,this.contentType=r||null}}function Cg(t,e){switch(t){case pt.RAW:return new Ln(Kc(e));case pt.BASE64:case pt.BASE64URL:return new Ln(Qc(t,e));case pt.DATA_URL:return new Ln(Pg(e),Ag(e))}throw Ua()}function Kc(t){const e=[];for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=s,o=t.charCodeAt(++r);s=65536|(a&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function Rg(t){let e;try{e=decodeURIComponent(t)}catch{throw ts(pt.DATA_URL,"Malformed data URL.")}return Kc(e)}function Qc(t,e){switch(t){case pt.BASE64:{const n=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(n||a)throw ts(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case pt.BASE64URL:{const n=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(n||a)throw ts(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=kg(e)}catch(n){throw n.message.includes("polyfill")?n:ts(t,"Invalid character found")}const s=new Uint8Array(r.length);for(let n=0;n<r.length;n++)s[n]=r.charCodeAt(n);return s}class Xc{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw ts(pt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;s!=null&&(this.base64=Ig(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function Pg(t){const e=new Xc(t);return e.base64?Qc(pt.BASE64,e.rest):Rg(e.rest)}function Ag(t){return new Xc(t).contentType}function Ig(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,r){let s=0,n="";Ui(e)?(this.data_=e,s=e.size,n=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,r){if(Ui(this.data_)){const s=this.data_,n=Eg(s,e,r);return n===null?null:new Mt(n)}else{const s=new Uint8Array(this.data_.buffer,e,r-e);return new Mt(s,!0)}}static getBlob(...e){if(La()){const r=e.map(s=>s instanceof Mt?s.data_:s);return new Mt(jg.apply(null,r))}else{const r=e.map(o=>xn(o)?Cg(pt.RAW,o).data:o.data_);let s=0;r.forEach(o=>{s+=o.byteLength});const n=new Uint8Array(s);let a=0;return r.forEach(o=>{for(let l=0;l<o.length;l++)n[a++]=o[l]}),new Mt(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){let e;try{e=JSON.parse(t)}catch{return null}return vg(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Dg(t,e){const r=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?r:t+"/"+r}function Yc(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(t,e){return e}class Le{constructor(e,r,s,n){this.server=e,this.local=r||e,this.writable=!!s,this.xform=n||Fg}}let Ts=null;function Mg(t){return!xn(t)||t.length<2?t:Yc(t)}function Jc(){if(Ts)return Ts;const t=[];t.push(new Le("bucket")),t.push(new Le("generation")),t.push(new Le("metageneration")),t.push(new Le("name","fullPath",!0));function e(a,o){return Mg(o)}const r=new Le("name");r.xform=e,t.push(r);function s(a,o){return o!==void 0?Number(o):o}const n=new Le("size");return n.xform=s,t.push(n),t.push(new Le("timeCreated")),t.push(new Le("updated")),t.push(new Le("md5Hash",null,!0)),t.push(new Le("cacheControl",null,!0)),t.push(new Le("contentDisposition",null,!0)),t.push(new Le("contentEncoding",null,!0)),t.push(new Le("contentLanguage",null,!0)),t.push(new Le("contentType",null,!0)),t.push(new Le("metadata","customMetadata",!0)),Ts=t,Ts}function Ug(t,e){function r(){const s=t.bucket,n=t.fullPath,a=new ze(s,n);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function Lg(t,e,r){const s={};s.type="file";const n=r.length;for(let a=0;a<n;a++){const o=r[a];s[o.local]=o.xform(s,e[o.server])}return Ug(s,t),s}function eu(t,e,r){const s=Va(e);return s===null?null:Lg(t,s,r)}function Vg(t,e,r,s){const n=Va(e);if(n===null||!xn(n.downloadTokens))return null;const a=n.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,h=t.fullPath,v="/b/"+o(d)+"/o/"+o(h),_=Mr(v,r,s),T=Zc({alt:"media",token:u});return _+T})[0]}function tu(t,e){const r={},s=e.length;for(let n=0;n<s;n++){const a=e[n];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="prefixes",Vi="items";function $g(t,e,r){const s={prefixes:[],items:[],nextPageToken:r.nextPageToken};if(r[Li])for(const n of r[Li]){const a=n.replace(/\/$/,""),o=t._makeStorageReference(new ze(e,a));s.prefixes.push(o)}if(r[Vi])for(const n of r[Vi]){const a=t._makeStorageReference(new ze(e,n.name));s.items.push(a)}return s}function Bg(t,e,r){const s=Va(r);return s===null?null:$g(t,e,s)}class hr{constructor(e,r,s,n){this.url=e,this.method=r,this.handler=s,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t){if(!t)throw Ua()}function $a(t,e){function r(s,n){const a=eu(t,n,e);return gt(a!==null),a}return r}function zg(t,e){function r(s,n){const a=Bg(t,e,n);return gt(a!==null),a}return r}function qg(t,e){function r(s,n){const a=eu(t,n,e);return gt(a!==null),Vg(a,n,t.host,t._protocol)}return r}function Ur(t){function e(r,s){let n;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?n=ng():n=sg():r.getStatus()===402?n=rg(t.bucket):r.getStatus()===403?n=ag(t.path):n=s,n.status=r.getStatus(),n.serverResponse=s.serverResponse,n}return e}function ru(t){const e=Ur(t);function r(s,n){let a=e(s,n);return s.getStatus()===404&&(a=tg(t.path)),a.serverResponse=n.serverResponse,a}return r}function Hg(t,e,r){const s=e.fullServerUrl(),n=Mr(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new hr(n,a,$a(t,r),o);return l.errorHandler=ru(e),l}function Wg(t,e,r,s,n){const a={};e.isRoot?a.prefix="":a.prefix=e.path+"/",r.length>0&&(a.delimiter=r),s&&(a.pageToken=s),n&&(a.maxResults=n);const o=e.bucketOnlyServerUrl(),l=Mr(o,t.host,t._protocol),c="GET",u=t.maxOperationRetryTime,d=new hr(l,c,zg(t,e.bucket),u);return d.urlParams=a,d.errorHandler=Ur(e),d}function Zg(t,e,r){const s=e.fullServerUrl(),n=Mr(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new hr(n,a,qg(t,r),o);return l.errorHandler=ru(e),l}function Gg(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function su(t,e,r){const s=Object.assign({},r);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=Gg(null,e)),s}function Kg(t,e,r,s,n){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let b="";for(let k=0;k<2;k++)b=b+Math.random().toString().slice(2);return b}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=su(e,s,n),d=tu(u,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+c+"--",_=Mt.getBlob(h,s,v);if(_===null)throw Hc();const T={name:u.fullPath},g=Mr(a,t.host,t._protocol),m="POST",N=t.maxUploadRetryTime,y=new hr(g,m,$a(t,r),N);return y.urlParams=T,y.headers=o,y.body=_.uploadData(),y.errorHandler=Ur(e),y}class nn{constructor(e,r,s,n){this.current=e,this.total=r,this.finalized=!!s,this.metadata=n||null}}function Ba(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{gt(!1)}return gt(!!r&&(e||["active"]).indexOf(r)!==-1),r}function Qg(t,e,r,s,n){const a=e.bucketOnlyServerUrl(),o=su(e,s,n),l={name:o.fullPath},c=Mr(a,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=tu(o,r),v=t.maxUploadRetryTime;function _(g){Ba(g);let m;try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{gt(!1)}return gt(xn(m)),m}const T=new hr(c,u,_,v);return T.urlParams=l,T.headers=d,T.body=h,T.errorHandler=Ur(e),T}function Xg(t,e,r,s){const n={"X-Goog-Upload-Command":"query"};function a(u){const d=Ba(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{gt(!1)}h||gt(!1);const v=Number(h);return gt(!isNaN(v)),new nn(v,s.size(),d==="final")}const o="POST",l=t.maxUploadRetryTime,c=new hr(r,o,a,l);return c.headers=n,c.errorHandler=Ur(e),c}const $i=256*1024;function Yg(t,e,r,s,n,a,o,l){const c=new nn(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=s.size()),s.size()!==c.total)throw cg();const u=c.total-c.current;let d=u;n>0&&(d=Math.min(d,n));const h=c.current,v=h+d;let _="";d===0?_="finalize":u===d?_="upload, finalize":_="upload";const T={"X-Goog-Upload-Command":_,"X-Goog-Upload-Offset":`${c.current}`},g=s.slice(h,v);if(g===null)throw Hc();function m(k,I){const P=Ba(k,["active","final"]),W=c.current+d,D=s.size();let B;return P==="final"?B=$a(e,a)(k,I):B=null,new nn(W,D,P==="final",B)}const N="POST",y=e.maxUploadRetryTime,b=new hr(r,N,m,y);return b.headers=T,b.body=g.uploadData(),b.progressCallback=l||null,b.errorHandler=Ur(t),b}const Ze={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Vn(t){switch(t){case"running":case"pausing":case"canceling":return Ze.RUNNING;case"paused":return Ze.PAUSED;case"success":return Ze.SUCCESS;case"canceled":return Ze.CANCELED;case"error":return Ze.ERROR;default:return Ze.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,r,s){if(yg(e)||r!=null||s!=null)this.next=e,this.error=r??void 0,this.complete=s??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class ey{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=or.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=or.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=or.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,s,n){if(this.sent_)throw Hr("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),n!==void 0)for(const a in n)n.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,n[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hr("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hr("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hr("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hr("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ty extends ey{initXhr(){this.xhr_.responseType="text"}}function Qt(){return new ty}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=s,this._mappings=Jc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=n=>{if(this._request=void 0,this._chunkMultiplier=1,n._codeEquals(we.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Gc(n.status,[]))if(a)n=zc();else{this.sleepTime=Math.max(this.sleepTime*2,eg),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=n,this._transition("error")}},this._metadataErrorHandler=n=>{this._request=void 0,n._codeEquals(we.CANCELED)?this.completeTransitions_():(this._error=n,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((n,a)=>{this._resolve=n,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":e(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const s=Qg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,Qt,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,s)=>{const n=Xg(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(n,Qt,r,s);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=$i*this._chunkMultiplier,r=new nn(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((n,a)=>{let o;try{o=Yg(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,Qt,n,a,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){$i*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const s=Hg(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(s,Qt,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const s=Kg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,Qt,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=qc(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Vn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,s,n){const a=new Jg(r||void 0,s||void 0,n||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Vn(this._state)){case Ze.SUCCESS:mr(this._resolve.bind(null,this.snapshot))();break;case Ze.CANCELED:case Ze.ERROR:const r=this._reject;mr(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Vn(this._state)){case Ze.RUNNING:case Ze.PAUSED:e.next&&mr(e.next.bind(e,this.snapshot))();break;case Ze.SUCCESS:e.complete&&mr(e.complete.bind(e))();break;case Ze.CANCELED:case Ze.ERROR:e.error&&mr(e.error.bind(e,this._error))();break;default:e.error&&mr(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,r){this._service=e,r instanceof ze?this._location=r:this._location=ze.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ur(e,r)}get root(){const e=new ze(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yc(this._location.path)}get storage(){return this._service}get parent(){const e=Og(this._location.path);if(e===null)return null;const r=new ze(this._location.bucket,e);return new ur(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw fg(e)}}function sy(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new ry(t,new Mt(e),r)}function ny(t){const e={prefixes:[],items:[]};return nu(t,e).then(()=>e)}async function nu(t,e,r){const n=await ay(t,{pageToken:r});e.prefixes.push(...n.prefixes),e.items.push(...n.items),n.nextPageToken!=null&&await nu(t,e,n.nextPageToken)}function ay(t,e){e!=null&&typeof e.maxResults=="number"&&la("options.maxResults",1,1e3,e.maxResults);const r=e||{},s=Wg(t.storage,t._location,"/",r.pageToken,r.maxResults);return t.storage.makeRequestWithTokens(s,Qt)}function iy(t){t._throwIfRoot("getDownloadURL");const e=Zg(t.storage,t._location,Jc());return t.storage.makeRequestWithTokens(e,Qt).then(r=>{if(r===null)throw ug();return r})}function oy(t,e){const r=Dg(t._location.path,e),s=new ze(t._location.bucket,r);return new ur(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t){return/^[A-Za-z]+:\/\//.test(t)}function cy(t,e){return new ur(t,e)}function au(t,e){if(t instanceof za){const r=t;if(r._bucket==null)throw lg();const s=new ur(r,r._bucket);return e!=null?au(s,e):s}else return e!==void 0?oy(t,e):t}function uy(t,e){if(e&&ly(e)){if(t instanceof za)return cy(t,e);throw oa("To use ref(service, url), the first argument must be a Storage instance.")}else return au(t,e)}function Bi(t,e){const r=e==null?void 0:e[Bc];return r==null?null:ze.makeFromBucketSpec(r,t)}function dy(t,e,r,s={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:n}=s;n&&(t._overrideAuthToken=typeof n=="string"?n:Qd(n,t.app.options.projectId))}class za{constructor(e,r,s,n,a){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=n,this._firebaseVersion=a,this._bucket=null,this._host=$c,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Ym,this._maxUploadRetryTime=Jm,this._requests=new Set,n!=null?this._bucket=ze.makeFromBucketSpec(n,this._host):this._bucket=Bi(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ze.makeFromBucketSpec(this._url,e):this._bucket=Bi(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){la("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){la("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ur(this,e)}_makeRequest(e,r,s,n,a=!0){if(this._deleted)return new hg(Wc());{const o=Tg(e,this._appId,s,n,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[s,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,n).getPromise()}}const zi="@firebase/storage",qi="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu="storage";function fy(t,e,r){return t=ds(t),sy(t,e,r)}function hy(t){return t=ds(t),ny(t)}function Hi(t){return t=ds(t),iy(t)}function Wi(t,e){return t=ds(t),uy(t,e)}function py(t=Zd(),e){t=ds(t);const s=Hd(t,iu).getImmediate({identifier:e}),n=Wd("storage");return n&&my(s,...n),s}function my(t,e,r,s={}){dy(t,e,r,s)}function gy(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),n=t.getProvider("app-check-internal");return new za(r,s,n,e,Xd)}function yy(){Gd(new Kd(iu,gy,"PUBLIC").setMultipleInstances(!0)),Xa(zi,qi,""),Xa(zi,qi,"esm2017")}yy();function Zi(t,[e,r]){return Math.min(r,Math.max(e,t))}function vy(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xy=[" ","Enter","ArrowUp","ArrowDown"],by=[" ","Enter"],ys="Select",[bn,wn,wy]=oo(ys),[Lr,iv]=pa(ys,[wy,To]),_n=To(),[_y,qt]=Lr(ys),[Sy,Ty]=Lr(ys),ou=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:n,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:v,required:_,form:T}=t,g=_n(e),[m,N]=f.useState(null),[y,b]=f.useState(null),[k,I]=f.useState(!1),P=ho(u),[W=!1,D]=Fs({prop:s,defaultProp:n,onChange:a}),[B,U]=Fs({prop:o,defaultProp:l,onChange:c}),q=f.useRef(null),E=m?T||!!m.closest("form"):!0,[V,O]=f.useState(new Set),Y=Array.from(V).map(J=>J.props.value).join(";");return i.jsx(Sd,{...g,children:i.jsxs(_y,{required:_,scope:e,trigger:m,onTriggerChange:N,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:I,contentId:on(),value:B,onValueChange:U,open:W,onOpenChange:D,dir:P,triggerPointerDownPosRef:q,disabled:v,children:[i.jsx(bn.Provider,{scope:e,children:i.jsx(Sy,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(J=>{O(ie=>new Set(ie).add(J))},[]),onNativeOptionRemove:f.useCallback(J=>{O(ie=>{const me=new Set(ie);return me.delete(J),me})},[]),children:r})}),E?i.jsxs(Iu,{"aria-hidden":!0,required:_,tabIndex:-1,name:d,autoComplete:h,value:B,onChange:J=>U(J.target.value),disabled:v,form:T,children:[B===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},Y):null]})})};ou.displayName=ys;var lu="SelectTrigger",cu=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...n}=t,a=_n(r),o=qt(lu,r),l=o.disabled||s,c=tt(e,o.onTriggerChange),u=wn(r),d=f.useRef("touch"),[h,v,_]=Ou(g=>{const m=u().filter(b=>!b.disabled),N=m.find(b=>b.value===o.value),y=Du(m,g,N);y!==void 0&&o.onValueChange(y.value)}),T=g=>{l||(o.onOpenChange(!0),_()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(md,{asChild:!0,...a,children:i.jsx(_e.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":Au(o.value)?"":void 0,...n,ref:c,onClick:pe(n.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&T(g)}),onPointerDown:pe(n.onPointerDown,g=>{d.current=g.pointerType;const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(T(g),g.preventDefault())}),onKeyDown:pe(n.onKeyDown,g=>{const m=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&v(g.key),!(m&&g.key===" ")&&xy.includes(g.key)&&(T(),g.preventDefault())})})})});cu.displayName=lu;var uu="SelectValue",du=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,children:a,placeholder:o="",...l}=t,c=qt(uu,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=tt(e,c.onValueNodeChange);return kt(()=>{u(d)},[u,d]),i.jsx(_e.span,{...l,ref:h,style:{pointerEvents:"none"},children:Au(c.value)?i.jsx(i.Fragment,{children:o}):a})});du.displayName=uu;var Ny="SelectIcon",fu=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...n}=t;return i.jsx(_e.span,{"aria-hidden":!0,...n,ref:e,children:s||"▼"})});fu.displayName=Ny;var jy="SelectPortal",hu=t=>i.jsx(co,{asChild:!0,...t});hu.displayName=jy;var dr="SelectContent",pu=f.forwardRef((t,e)=>{const r=qt(dr,t.__scopeSelect),[s,n]=f.useState();if(kt(()=>{n(new DocumentFragment)},[]),!r.open){const a=s;return a?ln.createPortal(i.jsx(mu,{scope:t.__scopeSelect,children:i.jsx(bn.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(gu,{...t,ref:e})});pu.displayName=dr;var st=10,[mu,Ht]=Lr(dr),Ey="SelectContentImpl",gu=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:T,hideWhenDetached:g,avoidCollisions:m,...N}=t,y=qt(dr,r),[b,k]=f.useState(null),[I,P]=f.useState(null),W=tt(e,G=>k(G)),[D,B]=f.useState(null),[U,q]=f.useState(null),E=wn(r),[V,O]=f.useState(!1),Y=f.useRef(!1);f.useEffect(()=>{if(b)return gd(b)},[b]),yd();const J=f.useCallback(G=>{const[le,...Ae]=E().map(de=>de.ref.current),[ye]=Ae.slice(-1),ue=document.activeElement;for(const de of G)if(de===ue||(de==null||de.scrollIntoView({block:"nearest"}),de===le&&I&&(I.scrollTop=0),de===ye&&I&&(I.scrollTop=I.scrollHeight),de==null||de.focus(),document.activeElement!==ue))return},[E,I]),ie=f.useCallback(()=>J([D,b]),[J,D,b]);f.useEffect(()=>{V&&ie()},[V,ie]);const{onOpenChange:me,triggerPointerDownPosRef:ge}=y;f.useEffect(()=>{if(b){let G={x:0,y:0};const le=ye=>{var ue,de;G={x:Math.abs(Math.round(ye.pageX)-(((ue=ge.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((de=ge.current)==null?void 0:de.y)??0))}},Ae=ye=>{G.x<=10&&G.y<=10?ye.preventDefault():b.contains(ye.target)||me(!1),document.removeEventListener("pointermove",le),ge.current=null};return ge.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[b,me,ge]),f.useEffect(()=>{const G=()=>me(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[me]);const[Q,X]=Ou(G=>{const le=E().filter(ue=>!ue.disabled),Ae=le.find(ue=>ue.ref.current===document.activeElement),ye=Du(le,G,Ae);ye&&setTimeout(()=>ye.ref.current.focus())}),xe=f.useCallback((G,le,Ae)=>{const ye=!Y.current&&!Ae;(y.value!==void 0&&y.value===le||ye)&&(B(G),ye&&(Y.current=!0))},[y.value]),oe=f.useCallback(()=>b==null?void 0:b.focus(),[b]),Pe=f.useCallback((G,le,Ae)=>{const ye=!Y.current&&!Ae;(y.value!==void 0&&y.value===le||ye)&&q(G)},[y.value]),Ue=s==="popper"?ca:yu,rt=Ue===ca?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:T,hideWhenDetached:g,avoidCollisions:m}:{};return i.jsx(mu,{scope:r,content:b,viewport:I,onViewportChange:P,itemRefCallback:xe,selectedItem:D,onItemLeave:oe,itemTextRefCallback:Pe,focusSelectedItem:ie,selectedItemText:U,position:s,isPositioned:V,searchRef:Q,children:i.jsx(vd,{as:ma,allowPinchZoom:!0,children:i.jsx(xd,{asChild:!0,trapped:y.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:pe(n,G=>{var le;(le=y.trigger)==null||le.focus({preventScroll:!0}),G.preventDefault()}),children:i.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:i.jsx(Ue,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:G=>G.preventDefault(),...N,...rt,onPlaced:()=>O(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:pe(N.onKeyDown,G=>{const le=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!le&&G.key.length===1&&X(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let ye=E().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(G.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const ue=G.target,de=ye.indexOf(ue);ye=ye.slice(de+1)}setTimeout(()=>J(ye)),G.preventDefault()}})})})})})})});gu.displayName=Ey;var ky="SelectItemAlignedPosition",yu=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...n}=t,a=qt(dr,r),o=Ht(dr,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=tt(e,W=>d(W)),v=wn(r),_=f.useRef(!1),T=f.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:N,focusSelectedItem:y}=o,b=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&m&&N){const W=a.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),B=a.valueNode.getBoundingClientRect(),U=N.getBoundingClientRect();if(a.dir!=="rtl"){const ue=U.left-D.left,de=B.left-ue,Xe=W.left-de,Ke=W.width+Xe,ct=Math.max(Ke,D.width),vs=window.innerWidth-st,xs=Zi(de,[st,Math.max(st,vs-ct)]);l.style.minWidth=Ke+"px",l.style.left=xs+"px"}else{const ue=D.right-U.right,de=window.innerWidth-B.right-ue,Xe=window.innerWidth-W.right-de,Ke=W.width+Xe,ct=Math.max(Ke,D.width),vs=window.innerWidth-st,xs=Zi(de,[st,Math.max(st,vs-ct)]);l.style.minWidth=Ke+"px",l.style.right=xs+"px"}const q=v(),E=window.innerHeight-st*2,V=g.scrollHeight,O=window.getComputedStyle(u),Y=parseInt(O.borderTopWidth,10),J=parseInt(O.paddingTop,10),ie=parseInt(O.borderBottomWidth,10),me=parseInt(O.paddingBottom,10),ge=Y+J+V+me+ie,Q=Math.min(m.offsetHeight*5,ge),X=window.getComputedStyle(g),xe=parseInt(X.paddingTop,10),oe=parseInt(X.paddingBottom,10),Pe=W.top+W.height/2-st,Ue=E-Pe,rt=m.offsetHeight/2,G=m.offsetTop+rt,le=Y+J+G,Ae=ge-le;if(le<=Pe){const ue=q.length>0&&m===q[q.length-1].ref.current;l.style.bottom="0px";const de=u.clientHeight-g.offsetTop-g.offsetHeight,Xe=Math.max(Ue,rt+(ue?oe:0)+de+ie),Ke=le+Xe;l.style.height=Ke+"px"}else{const ue=q.length>0&&m===q[0].ref.current;l.style.top="0px";const Xe=Math.max(Pe,Y+g.offsetTop+(ue?xe:0)+rt)+Ae;l.style.height=Xe+"px",g.scrollTop=le-Pe+g.offsetTop}l.style.margin=`${st}px 0`,l.style.minHeight=Q+"px",l.style.maxHeight=E+"px",s==null||s(),requestAnimationFrame(()=>_.current=!0)}},[v,a.trigger,a.valueNode,l,u,g,m,N,a.dir,s]);kt(()=>b(),[b]);const[k,I]=f.useState();kt(()=>{u&&I(window.getComputedStyle(u).zIndex)},[u]);const P=f.useCallback(W=>{W&&T.current===!0&&(b(),y==null||y(),T.current=!1)},[b,y]);return i.jsx(Ry,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:_,onScrollButtonChange:P,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:i.jsx(_e.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});yu.displayName=ky;var Cy="SelectPopperPosition",ca=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=st,...a}=t,o=_n(r);return i.jsx(wd,{...o,...a,ref:e,align:s,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ca.displayName=Cy;var[Ry,qa]=Lr(dr,{}),ua="SelectViewport",vu=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...n}=t,a=Ht(ua,r),o=qa(ua,r),l=tt(e,a.onViewportChange),c=f.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(bn.Slot,{scope:r,children:i.jsx(_e.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:pe(n.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=o;if(v!=null&&v.current&&h){const _=Math.abs(c.current-d.scrollTop);if(_>0){const T=window.innerHeight-st*2,g=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),N=Math.max(g,m);if(N<T){const y=N+_,b=Math.min(T,y),k=y-b;h.style.height=b+"px",h.style.bottom==="0px"&&(d.scrollTop=k>0?k:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vu.displayName=ua;var xu="SelectGroup",[Py,Ay]=Lr(xu),bu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=on();return i.jsx(Py,{scope:r,id:n,children:i.jsx(_e.div,{role:"group","aria-labelledby":n,...s,ref:e})})});bu.displayName=xu;var wu="SelectLabel",_u=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=Ay(wu,r);return i.jsx(_e.div,{id:n.id,...s,ref:e})});_u.displayName=wu;var an="SelectItem",[Iy,Su]=Lr(an),Tu=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:a,...o}=t,l=qt(an,r),c=Ht(an,r),u=l.value===s,[d,h]=f.useState(a??""),[v,_]=f.useState(!1),T=tt(e,y=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,y,s,n)}),g=on(),m=f.useRef("touch"),N=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Iy,{scope:r,value:s,disabled:n,textId:g,isSelected:u,onItemTextChange:f.useCallback(y=>{h(b=>b||((y==null?void 0:y.textContent)??"").trim())},[]),children:i.jsx(bn.ItemSlot,{scope:r,value:s,disabled:n,textValue:d,children:i.jsx(_e.div,{role:"option","aria-labelledby":g,"data-highlighted":v?"":void 0,"aria-selected":u&&v,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:T,onFocus:pe(o.onFocus,()=>_(!0)),onBlur:pe(o.onBlur,()=>_(!1)),onClick:pe(o.onClick,()=>{m.current!=="mouse"&&N()}),onPointerUp:pe(o.onPointerUp,()=>{m.current==="mouse"&&N()}),onPointerDown:pe(o.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:pe(o.onPointerMove,y=>{var b;m.current=y.pointerType,n?(b=c.onItemLeave)==null||b.call(c):m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pe(o.onPointerLeave,y=>{var b;y.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:pe(o.onKeyDown,y=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&y.key===" "||(by.includes(y.key)&&N(),y.key===" "&&y.preventDefault())})})})})});Tu.displayName=an;var Kr="SelectItemText",Nu=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,...a}=t,o=qt(Kr,r),l=Ht(Kr,r),c=Su(Kr,r),u=Ty(Kr,r),[d,h]=f.useState(null),v=tt(e,N=>h(N),c.onItemTextChange,N=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,N,c.value,c.disabled)}),_=d==null?void 0:d.textContent,T=f.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:_},c.value),[c.disabled,c.value,_]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=u;return kt(()=>(g(T),()=>m(T)),[g,m,T]),i.jsxs(i.Fragment,{children:[i.jsx(_e.span,{id:c.textId,...a,ref:v}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ln.createPortal(a.children,o.valueNode):null]})});Nu.displayName=Kr;var ju="SelectItemIndicator",Eu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return Su(ju,r).isSelected?i.jsx(_e.span,{"aria-hidden":!0,...s,ref:e}):null});Eu.displayName=ju;var da="SelectScrollUpButton",ku=f.forwardRef((t,e)=>{const r=Ht(da,t.__scopeSelect),s=qa(da,t.__scopeSelect),[n,a]=f.useState(!1),o=tt(e,s.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(Ru,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});ku.displayName=da;var fa="SelectScrollDownButton",Cu=f.forwardRef((t,e)=>{const r=Ht(fa,t.__scopeSelect),s=qa(fa,t.__scopeSelect),[n,a]=f.useState(!1),o=tt(e,s.onScrollButtonChange);return kt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(Ru,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});Cu.displayName=fa;var Ru=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=t,a=Ht("SelectScrollButton",r),o=f.useRef(null),l=wn(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),kt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(_e.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:pe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:pe(n.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:pe(n.onPointerLeave,()=>{c()})})}),Oy="SelectSeparator",Pu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return i.jsx(_e.div,{"aria-hidden":!0,...s,ref:e})});Pu.displayName=Oy;var ha="SelectArrow",Dy=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=_n(r),a=qt(ha,r),o=Ht(ha,r);return a.open&&o.position==="popper"?i.jsx(_d,{...n,...s,ref:e}):null});Dy.displayName=ha;function Au(t){return t===""||t===void 0}var Iu=f.forwardRef((t,e)=>{const{value:r,...s}=t,n=f.useRef(null),a=tt(e,n),o=vy(r);return f.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(fn,{asChild:!0,children:i.jsx("select",{...s,ref:a,defaultValue:r})})});Iu.displayName="BubbleSelect";function Ou(t){const e=rs(t),r=f.useRef(""),s=f.useRef(0),n=f.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,a]}function Du(t,e,r){const n=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=Fy(t,Math.max(a,0));n.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function Fy(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var My=ou,Fu=cu,Uy=du,Ly=fu,Vy=hu,Mu=pu,$y=vu,By=bu,Uu=_u,Lu=Tu,zy=Nu,qy=Eu,Vu=ku,$u=Cu,Bu=Pu;const zu=My,qu=By,Hu=Uy,Ha=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(Fu,{ref:s,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(Ly,{asChild:!0,children:i.jsx(No,{className:"h-4 w-4 opacity-50"})})]}));Ha.displayName=Fu.displayName;const Wu=f.forwardRef(({className:t,...e},r)=>i.jsx(Vu,{ref:r,className:z("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(Td,{className:"h-4 w-4"})}));Wu.displayName=Vu.displayName;const Zu=f.forwardRef(({className:t,...e},r)=>i.jsx($u,{ref:r,className:z("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(No,{className:"h-4 w-4"})}));Zu.displayName=$u.displayName;const Wa=f.forwardRef(({className:t,children:e,position:r="popper",...s},n)=>i.jsx(Vy,{children:i.jsxs(Mu,{ref:n,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[i.jsx(Wu,{}),i.jsx($y,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(Zu,{})]})}));Wa.displayName=Mu.displayName;const Hy=f.forwardRef(({className:t,...e},r)=>i.jsx(Uu,{ref:r,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Hy.displayName=Uu.displayName;const vr=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(Lu,{ref:s,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(qy,{children:i.jsx(Nd,{className:"h-4 w-4"})})}),i.jsx(zy,{children:e})]}));vr.displayName=Lu.displayName;const Wy=f.forwardRef(({className:t,...e},r)=>i.jsx(Bu,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",t),...e}));Wy.displayName=Bu.displayName;const Zy=({className:t,...e})=>i.jsx("textarea",{...e,className:`p-2 border rounded w-full ${t||""}`}),Gy=t=>{try{const e=new URL(t),s=decodeURIComponent(e.pathname).split("/");return s[s.length-1]}catch(e){return console.error("Error parsing URL:",t,e),""}},Gi=ga(),Ki=py();function Ky(){const{t}=ms(),{user:e,loading:r}=Ca(),{toast:s}=bt(),[n,a]=f.useState(""),[o,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(""),[v,_]=f.useState(""),[T,g]=f.useState([]),[m,N]=f.useState([]),[y,b]=f.useState(""),[k,I]=f.useState([]),[P,W]=f.useState(!1),[D,B]=f.useState(""),[U,q]=f.useState(""),[E,V]=f.useState({}),O=async Q=>{const X=Wi(Ki,Q);try{const xe=await hy(X),oe=await Promise.all(xe.items.map(Ue=>Hi(Ue)));console.log("Refreshed download URLs:",oe),g(oe);const Pe=oe.map(Ue=>Gy(Ue));N(Pe),!y&&Pe.length>0&&b(Pe[0])}catch(xe){xe.code==="storage/object-not-found"?(console.log("No photos found in folder."),g([]),N([])):console.error("Error listing photos:",xe)}};f.useEffect(()=>{if(e!=null&&e.uid){const Q=Ct(Gi,"users",e.uid),X=Ro(Q,xe=>{if(xe.exists()){const oe=xe.data();V(oe),a(oe.interests||""),l(oe.bio||""),u(oe.lookingFor||""),h(oe.gender||""),oe.url&&(_(oe.url),console.log("Fetched folder path from Firestore:",oe.url),O(oe.url),oe.primaryPhoto&&b(oe.primaryPhoto)),console.log("Fetched profile data:",oe)}else console.log("No profile document found; using defaults.")},xe=>{console.error("Failed to subscribe to profile:",xe)});return()=>X()}},[e]);const Y=Q=>{const X=["image/jpeg","image/png"];for(const oe of Q){if(!X.includes(oe.type))return t("onlyJpegPngAllowed");if(oe.size>2097152)return t("eachFileLessThan2MB")}return null},J=async Q=>{if(Q.target.files){const X=Array.from(Q.target.files);if(X.length>5){s({title:t("error"),description:t("uploadLimitError")});return}const xe=Y(X);if(xe){s({variant:"destructive",title:t("error"),description:xe});return}I(X);const oe=v||`users/${e.uid}/photos/`;_(oe);const Pe=Date.now(),Ue=X.map(le=>`${Pe}-${le.name}`);N(Ue);const rt=Ue.map(le=>oe+le),G=X.map((le,Ae)=>{const ye=rt[Ae],ue=Wi(Ki,ye),de=fy(ue,le);return new Promise((Xe,Ke)=>{de.on("state_changed",()=>{},ct=>{Ke(ct)},async()=>{try{const ct=await Hi(de.snapshot.ref);Xe(ct)}catch(ct){Ke(ct)}})})});try{await Promise.all(G),await O(oe),m.length===0&&Ue.length>0&&b(Ue[0]),s({title:t("photosUploaded"),description:t("photosUploadedSuccess")})}catch{s({variant:"destructive",title:t("uploadError"),description:t("failedToUploadPhotos")})}}},ie=Q=>{b(Q)},me=async()=>{if(!(e!=null&&e.uid))return;const Q=y||(m.length>0?m[0]:"");try{const X={interests:n,bio:o,lookingFor:c,gender:d,url:v,primaryPhoto:Q},xe=Ct(Gi,"users",e.uid);await ya(xe,X),s({title:t("success"),description:t("profileUpdatedSuccessfully")}),W(!1)}catch(X){s({variant:"destructive",title:t("error"),description:X.message})}},ge=async()=>{if(!D||!U){s({variant:"destructive",title:t("error"),description:t("pleaseFillBothPasswordFields")});return}try{await Ol(e,D,U),s({title:t("success"),description:t("passwordUpdatedSuccessfully")}),B(""),q("")}catch(Q){s({variant:"destructive",title:t("error"),description:Q.message})}};return r?i.jsx("div",{className:"container py-8",children:"Loading..."}):i.jsxs("div",{className:"container py-8 space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("profileSettings")}),i.jsx("div",{className:"flex justify-end",children:P?i.jsx(ve,{variant:"ghost",onClick:me,children:t("save")}):i.jsxs(ve,{variant:"ghost",onClick:()=>W(!0),children:[i.jsx(jd,{className:"h-4 w-4"}),t("editProfile")]})}),i.jsxs(ot,{children:[i.jsx(yt,{children:i.jsx(vt,{children:t("profileInformation")})}),i.jsxs(lt,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Me,{children:t("interests")}),P?i.jsx(Re,{value:n,onChange:Q=>a(Q.target.value),placeholder:t("interestsPlaceholder")}):i.jsx("p",{className:"text-sm text-muted-foreground",children:n||t("notProvided")})]}),i.jsxs("div",{children:[i.jsx(Me,{children:t("bio")}),P?i.jsx(Zy,{value:o,onChange:Q=>l(Q.target.value),placeholder:t("bioPlaceholder"),rows:4}):i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:o||t("notProvided")})]}),i.jsxs("div",{children:[i.jsx(Me,{children:t("lookingFor")}),P?i.jsx(Re,{value:c,onChange:Q=>u(Q.target.value),placeholder:t("lookingForPlaceholder")}):i.jsx("p",{className:"text-sm text-muted-foreground",children:c||t("notProvided")})]}),i.jsxs("div",{children:[i.jsx(Me,{children:t("gender")}),P?i.jsxs(zu,{value:d,onValueChange:Q=>h(Q),children:[i.jsx(Ha,{children:i.jsx(Hu,{placeholder:t("selectGender")})}),i.jsx(Wa,{children:i.jsxs(qu,{children:[i.jsx(vr,{value:"male",children:"Male"}),i.jsx(vr,{value:"female",children:"Female"}),i.jsx(vr,{value:"nonbinary",children:"Non-binary"}),i.jsx(vr,{value:"other",children:"Other"})]})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:d||t("notProvided")})]}),i.jsxs("div",{children:[i.jsxs(Me,{children:[t("photos")," (",t("upTo5"),")"]}),P?i.jsxs(i.Fragment,{children:[i.jsx(Re,{type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:J}),T.length>0?i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:T.map((Q,X)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:Q,alt:`${t("photo")} ${X+1}`,className:"object-cover w-full h-32 rounded border"}),m[X]!==y&&i.jsx(ve,{variant:"outline",size:"sm",onClick:()=>ie(m[X]),className:"absolute bottom-1 right-1",children:t("selectAsMain")}),m[X]===y&&i.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white px-1 text-xs rounded",children:t("main")})]},X))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:t("noPhotosUploaded")})]}):i.jsx(i.Fragment,{children:T.length>0?i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:T.map((Q,X)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:Q,alt:`${t("photo")} ${X+1}`,className:"object-cover w-full h-32 rounded border"}),m[X]===y&&i.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white px-1 text-xs rounded",children:t("main")})]},X))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:t("noPhotosUploaded")})})]})]})]}),i.jsxs(ot,{children:[i.jsx(yt,{children:i.jsx(vt,{children:t("changePassword")})}),i.jsxs(lt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("currentPassword")}),i.jsx(Re,{type:"password",value:D,onChange:Q=>B(Q.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("newPassword")}),i.jsx(Re,{type:"password",value:U,onChange:Q=>q(Q.target.value)})]}),i.jsx(ve,{onClick:ge,children:t("updatePassword")})]})]})]})}const Qy=({onClick:t})=>i.jsx("button",{type:"button",onClick:t,title:"Refresh location",className:"ml-2 text-muted-foreground hover:text-primary",style:{fontSize:"1.2rem"},children:"↻"}),Qi=ga();function Xy(){const{t}=ms(),{user:e,loading:r}=Ca(),{toast:s}=bt(),[n,a]=f.useState(!1),[o,l]=f.useState(""),[c,u]=f.useState(""),[d,h]=f.useState(""),[v,_]=f.useState(""),[T,g]=f.useState("English"),[m,N]=f.useState(""),[y,b]=f.useState(""),[k,I]=f.useState(!1),P=e;f.useEffect(()=>{if(P!=null&&P.uid){const U=Ct(Qi,"users",P.uid),q=Ro(U,E=>{if(E.exists()){const V=E.data();n||(l(V.displayName??""),u(V.birthdate??""),_(V.location??""),g(V.language??"English"))}else n||(l(P.displayName??""),u(P.birthdate??""),_(P.location??""),g(P.language??"English"));k||I(!0)},E=>{console.error("Failed to subscribe to user profile:",E)});return()=>q()}},[P,n,k]),f.useEffect(()=>{(!(P!=null&&P.location)||P.location==="")&&(!v||v==="")&&navigator.geolocation&&W()},[P,v]);const W=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(U=>{fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${U.coords.latitude}&longitude=${U.coords.longitude}&localityLanguage=en`).then(q=>q.json()).then(q=>{const E=q.city||"Unknown city",V=q.country||q.countryName||"Unknown country";_(`${E}, ${V}`)}).catch(()=>_(t("unknownLocation")))},U=>{console.error("Geolocation error:",U),_(t("unknownLocation"))})};if(r||!k)return i.jsxs("div",{className:"container py-8",children:[i.jsx(Or,{className:"h-8 w-[200px]"}),i.jsx(Or,{className:"mt-4 h-32 w-full"})]});const D=async()=>{if(!d&&P!=null&&P.uid)try{const U={displayName:o,birthdate:c,location:v,language:T},q=Ct(Qi,"users",P.uid);await ya(q,U,{merge:!0}),s({title:t("save"),description:t("profileUpdatedSuccessfully")}),a(!1)}catch(U){s({variant:"destructive",title:t("error"),description:U.message})}},B=async()=>{if(!m||!y){s({variant:"destructive",title:t("error"),description:t("pleaseFillBothPasswordFields")});return}try{await Ol(e,m,y),s({title:t("success"),description:t("passwordUpdatedSuccessfully")}),N(""),b("")}catch(U){s({variant:"destructive",title:t("error"),description:U.message})}};return i.jsxs("div",{className:"container py-8 space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:t("profileSettings")}),i.jsxs(ot,{children:[i.jsxs(yt,{className:"flex justify-between items-center",children:[i.jsx(vt,{children:t("personalInformation")}),n?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ve,{onClick:D,children:t("save")}),i.jsx(ve,{variant:"outline",onClick:()=>a(!1),children:t("cancel")})]}):i.jsx(ve,{variant:"outline",size:"sm",onClick:()=>a(!0),children:t("edit")})]}),i.jsxs(lt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("email")}),i.jsx("p",{className:"text-sm text-muted-foreground",children:P==null?void 0:P.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("displayName")}),n?i.jsx(Re,{value:o,onChange:U=>l(U.target.value),placeholder:t("displayName")}):i.jsx("p",{className:"text-sm text-muted-foreground",children:o||t("notSet")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("birthdate")}),n?i.jsx(Re,{type:"date",value:c,onChange:U=>{const q=U.target.value,E=new Date(q),V=new Date,O=new Date(V.getFullYear()-18,V.getMonth(),V.getDate());E>O?h(t("youMustBe18OrOlder")):h(""),u(q)},max:new Date().toISOString().split("T")[0]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:c?new Date(c).toLocaleDateString():t("notSet")}),d&&i.jsx("p",{className:"text-sm text-red-500",children:d})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("location")}),n?i.jsxs("div",{className:"flex items-center",children:[i.jsx(Re,{value:v,onChange:U=>_(U.target.value),placeholder:"City, Country"}),i.jsx(Qy,{onClick:W})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:v||t("notSet")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("language")}),n?i.jsxs(zu,{value:T,onValueChange:g,children:[i.jsx(Ha,{children:i.jsx(Hu,{placeholder:t("selectLanguage")})}),i.jsx(Wa,{children:i.jsx(qu,{children:["English","Spanish"].map(U=>i.jsx(vr,{value:U,children:U},U))})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:T})]})]})]}),i.jsxs(ot,{children:[i.jsx(yt,{children:i.jsx(vt,{children:t("changePassword")})}),i.jsxs(lt,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("currentPassword")}),i.jsx(Re,{type:"password",value:m,onChange:U=>N(U.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Me,{children:t("newPassword")}),i.jsx(Re,{type:"password",value:y,onChange:U=>b(U.target.value)})]}),i.jsx(ve,{onClick:B,children:t("updatePassword")})]})]})]})}function Xi(){return i.jsx("div",{className:"container py-8",children:i.jsxs(ot,{children:[i.jsx(yt,{children:i.jsx(vt,{children:"Privacy Policy"})}),i.jsxs(lt,{className:"prose dark:prose-invert",children:[i.jsx("h2",{children:"Introduction"}),i.jsx("p",{children:"This Privacy Policy outlines how we collect, use, and protect your personal information when you use our authentication service."}),i.jsx("h2",{children:"Information We Collect"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Basic profile information (name, email)"}),i.jsx("li",{children:"Authentication provider information"}),i.jsx("li",{children:"Usage data and timestamps"})]}),i.jsx("h2",{children:"How We Use Your Information"}),i.jsx("p",{children:"We use your information to:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Provide and maintain our authentication service"}),i.jsx("li",{children:"Improve user experience"}),i.jsx("li",{children:"Communicate with you about your account"})]}),i.jsx("h2",{children:"Data Protection"}),i.jsx("p",{children:"We implement appropriate security measures to protect your personal information. Your data is stored securely using industry-standard encryption."}),i.jsx("h2",{children:"Contact Us"}),i.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at support@example.com"}),i.jsx("h2",{children:"Updates to This Policy"}),i.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-8",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})})}function Yi(){const[t,e]=f.useState(""),{toast:r}=bt(),s=n=>{n.preventDefault(),r({title:"Request Received",description:"We'll process your data deletion request within 30 days."}),e("")};return i.jsx("div",{className:"container py-8",children:i.jsxs(ot,{children:[i.jsx(yt,{children:i.jsx(vt,{children:"Data Deletion Request"})}),i.jsxs(lt,{className:"prose dark:prose-invert",children:[i.jsx("h2",{children:"How to Delete Your Data"}),i.jsx("h3",{children:"Option 1: Through Your Account"}),i.jsx("p",{children:"If you have an active account, you can delete your data by:"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Logging into your account"}),i.jsx("li",{children:"Going to Profile settings"}),i.jsx("li",{children:'Clicking on "Delete Account"'})]}),i.jsx("h3",{children:"Option 2: Submit a Deletion Request"}),i.jsx("p",{children:"If you don't have access to your account, you can submit a deletion request:"}),i.jsxs("form",{onSubmit:s,className:"space-y-4 not-prose",children:[i.jsx("div",{children:i.jsx(Re,{type:"email",placeholder:"Enter your email",value:t,onChange:n=>e(n.target.value),required:!0})}),i.jsx(ve,{type:"submit",children:"Submit Deletion Request"})]}),i.jsx("h3",{className:"mt-8",children:"What Gets Deleted"}),i.jsx("p",{children:"When you request data deletion, we will remove:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Your profile information"}),i.jsx("li",{children:"Authentication data"}),i.jsx("li",{children:"Usage history"})]}),i.jsx("p",{children:"Note: The deletion process may take up to 30 days to complete across all our systems."}),i.jsx("h3",{children:"Contact Us"}),i.jsx("p",{children:"If you have any questions about data deletion, please contact us at privacy@example.com"})]})]})})}function Yy(){const{user:t,loading:e,role:r}=ps();if(window.location.pathname==="/privacy-policy")return i.jsx(Xi,{});if(window.location.pathname==="/data-deletion")return i.jsx(Yi,{});if(e)return null;if(!t)return i.jsx(Zm,{});const s=t.providerData.some(n=>n.providerId==="facebook.com");return!t.emailVerified&&!s?i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsx(Fc,{})}):i.jsxs(Cf,{children:[i.jsx(At,{path:"/",component:Mi}),i.jsx(At,{path:"/welcome",component:Mi}),r==="admin"&&i.jsx(At,{path:"/admin",component:Xm}),i.jsx(At,{path:"/profile",component:Ky}),i.jsx(At,{path:"/settings",component:Xy}),i.jsx(At,{path:"/privacy-policy",component:Xi}),i.jsx(At,{path:"/data-deletion",component:Yi}),i.jsx(At,{component:Up})]})}function Jy(){return i.jsx(f.StrictMode,{children:i.jsxs(Jf,{client:eh,children:[i.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[i.jsx(bp,{}),i.jsx(Yy,{})]}),i.jsx(lp,{})]})})}const Gu=document.getElementById("root");if(!Gu)throw new Error("Failed to find the root element");Po(Gu).render(i.jsx(f.StrictMode,{children:i.jsx(Jy,{})}));
