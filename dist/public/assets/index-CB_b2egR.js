var qa=t=>{throw TypeError(t)};var Tn=(t,e,r)=>e.has(t)||qa("Cannot "+r);var _=(t,e,r)=>(Tn(t,e,"read from private field"),r?r.call(t):e.get(t)),ae=(t,e,r)=>e.has(t)?qa("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Y=(t,e,r,s)=>(Tn(t,e,"write to private field"),s?s.call(t,r):e.set(t,r),r),Pe=(t,e,r)=>(Tn(t,e,"access private method"),r);var ys=(t,e,r,s)=>({set _(n){Y(t,e,n,r)},get _(){return _(t,e,s)}});import{j as i,P as ve,c as Qi,a as ua,u as Qe,B as Fu,b as Is,d as Xi,e as Yr,f as oe,R as Mu,g as Yi,h as Tt,i as Uu,X as Ji,S as da,C as Lu,k as Vu,l as eo,m as to,n as sn,o as $u,I as Bu,O as ro,p as so,q as zu,T as no,D as ao,r as qu,s as Hu,t as Wu,v as io,w as oo,x as lo,y as co,A as uo,z as fo,E as Zu,F as Gu,G as Ku,H as Ha,J as Qu,K as Xu,L as Yu,M as ho,N as Ju,Q as ed,U as td,V as rd,W as sd,Y as nd,Z as ad,_ as id,$ as od,a0 as po,a1 as ld,a2 as cd,a3 as ud}from"./vendor-BSrhq6tN.js";import{a as nn,r as f,c as dd,R as re}from"./react-CX2mysxk.js";import{i as fd,g as hd,c as fa,s as pd,G as md,F as gd,d as yd,e as vd,f as ha,h as Et,j as xd,k as bd,l as mo,m as wd,E as _d,r as Sd,u as Td,n as an,o as go,p as pa,q as Ed,t as yo,v as jd,w as kd,x as Nd,y as on,z as Cd,A as Rd,B as Pd,C as Ad,D as Id,H as Wa,I as Od,S as Dd,J as Fd}from"./firebase-pIKov50-.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();var vo,Za=nn;vo=Za.createRoot,Za.hydrateRoot;function Md(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var r,s,n,a,o=[],l="",c=t.split("/");for(c[0]||c.shift();n=c.shift();)r=n[0],r==="*"?(o.push(r),l+=n[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(s=n.indexOf("?",1),a=n.indexOf(".",1),o.push(n.substring(1,~s?s:~a?a:n.length)),l+=~s&&!~a?"(?:/([^/]+?))?":"/([^/]+?)",~a&&(l+=(~s?"?":"")+"\\"+n.substring(a))):l+="/"+n;return{keys:o,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}var xo={exports:{}},bo={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=f;function Ud(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ld=typeof Object.is=="function"?Object.is:Ud,Vd=kr.useState,$d=kr.useEffect,Bd=kr.useLayoutEffect,zd=kr.useDebugValue;function qd(t,e){var r=e(),s=Vd({inst:{value:r,getSnapshot:e}}),n=s[0].inst,a=s[1];return Bd(function(){n.value=r,n.getSnapshot=e,En(n)&&a({inst:n})},[t,r,e]),$d(function(){return En(n)&&a({inst:n}),t(function(){En(n)&&a({inst:n})})},[t]),zd(r),r}function En(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ld(t,r)}catch{return!0}}function Hd(t,e){return e()}var Wd=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hd:qd;bo.useSyncExternalStore=kr.useSyncExternalStore!==void 0?kr.useSyncExternalStore:Wd;xo.exports=bo;var Zd=xo.exports;const Gd=dd.useInsertionEffect,Kd=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qd=Kd?f.useLayoutEffect:f.useEffect,Xd=Gd||Qd,wo=t=>{const e=f.useRef([t,(...r)=>e[0](...r)]).current;return Xd(()=>{e[0]=t}),e[1]},Yd="popstate",ma="pushState",ga="replaceState",Jd="hashchange",Ga=[Yd,ma,ga,Jd],ef=t=>{for(const e of Ga)addEventListener(e,t);return()=>{for(const e of Ga)removeEventListener(e,t)}},_o=(t,e)=>Zd.useSyncExternalStore(ef,t,e),tf=()=>location.search,rf=({ssrSearch:t=""}={})=>_o(tf,()=>t),Ka=()=>location.pathname,sf=({ssrPath:t}={})=>_o(Ka,t?()=>t:Ka),nf=(t,{replace:e=!1,state:r=null}={})=>history[e?ga:ma](r,"",t),af=(t={})=>[sf(t),nf],Qa=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Qa]>"u"){for(const t of[ma,ga]){const e=history[t];history[t]=function(){const r=e.apply(this,arguments),s=new Event(t);return s.arguments=arguments,dispatchEvent(s),r}}Object.defineProperty(window,Qa,{value:!0})}const of=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",So=(t="")=>t==="/"?"":t,lf=(t,e)=>t[0]==="~"?t.slice(1):So(e)+t,cf=(t="",e)=>of(Xa(So(t)),Xa(e)),Xa=t=>{try{return decodeURI(t)}catch{return t}},To={hook:af,searchHook:rf,parser:Md,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Eo=f.createContext(To),os=()=>f.useContext(Eo),jo={},ko=f.createContext(jo),uf=()=>f.useContext(ko),ln=t=>{const[e,r]=t.hook(t);return[cf(t.base,e),wo((s,n)=>r(lf(s,t.base),n))]},No=()=>ln(os()),Co=(t,e,r,s)=>{const{pattern:n,keys:a}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",s),o=n.exec(r)||[],[l,...c]=o;return l!==void 0?[!0,(()=>{const u=a!==!1?Object.fromEntries(a.map((h,y)=>[h,c[y]])):o.groups;let d={...c};return u&&Object.assign(d,u),d})(),...s?[l]:[]]:[!1,null]},df=({children:t,...e})=>{var d,h;const r=os(),s=e.hook?To:r;let n=s;const[a,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=a),e.hrefs=e.hrefs??((h=e.hook)==null?void 0:h.hrefs);let l=f.useRef({}),c=l.current,u=c;for(let y in s){const T=y==="base"?s[y]+(e[y]||""):e[y]||s[y];c===u&&T!==u[y]&&(l.current=u={...u}),u[y]=T,T!==s[y]&&(n=u)}return f.createElement(Eo.Provider,{value:n,children:t})},Ya=({children:t,component:e},r)=>e?f.createElement(e,{params:r}):typeof t=="function"?t(r):t,ff=t=>{let e=f.useRef(jo),r=e.current;for(const s in t)t[s]!==r[s]&&(r=t);return Object.keys(t).length===0&&(r=t),e.current=r},Rt=({path:t,nest:e,match:r,...s})=>{const n=os(),[a]=ln(n),[o,l,c]=r??Co(n.parser,t,a,e),u=ff({...uf(),...l});if(!o)return null;const d=c?f.createElement(df,{base:c},Ya(s,u)):Ya(s,u);return f.createElement(ko.Provider,{value:u,children:d})},Fr=f.forwardRef((t,e)=>{const r=os(),[s,n]=ln(r),{to:a="",href:o=a,onClick:l,asChild:c,children:u,className:d,replace:h,state:y,...T}=t,S=wo(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(l==null||l(m),m.defaultPrevented||(m.preventDefault(),n(o,t)))}),g=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return c&&f.isValidElement(u)?f.cloneElement(u,{onClick:S,href:g}):f.createElement("a",{...T,onClick:S,href:g,className:d!=null&&d.call?d(s===o):d,children:u,ref:e})}),Ro=t=>Array.isArray(t)?t.flatMap(e=>Ro(e&&e.type===f.Fragment?e.props.children:e)):[t],hf=({children:t,location:e})=>{const r=os(),[s]=ln(r);for(const n of Ro(t)){let a=0;if(f.isValidElement(n)&&(a=Co(r.parser,n.props.path,e||s,n.props.nest))[0])return f.cloneElement(n,{match:a})}return null};var cn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},un=typeof window>"u"||"Deno"in globalThis;function Ye(){}function pf(t,e){return typeof t=="function"?t(e):t}function mf(t){return typeof t=="number"&&t>=0&&t!==1/0}function gf(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ja(t,e){return typeof t=="function"?t(e):t}function yf(t,e){return typeof t=="function"?t(e):t}function ei(t,e){const{type:r="all",exact:s,fetchStatus:n,predicate:a,queryKey:o,stale:l}=t;if(o){if(s){if(e.queryHash!==ya(o,e.options))return!1}else if(!es(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||n&&n!==e.state.fetchStatus||a&&!a(e))}function ti(t,e){const{exact:r,status:s,predicate:n,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Jr(e.options.mutationKey)!==Jr(a))return!1}else if(!es(e.options.mutationKey,a))return!1}return!(s&&e.state.status!==s||n&&!n(e))}function ya(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jr)(t)}function Jr(t){return JSON.stringify(t,(e,r)=>Vn(r)?Object.keys(r).sort().reduce((s,n)=>(s[n]=r[n],s),{}):r)}function es(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!es(t[r],e[r])):!1}function Po(t,e){if(t===e)return t;const r=ri(t)&&ri(e);if(r||Vn(t)&&Vn(e)){const s=r?t:Object.keys(t),n=s.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{};let c=0;for(let u=0;u<o;u++){const d=r?u:a[u];(!r&&s.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(l[d]=void 0,c++):(l[d]=Po(t[d],e[d]),l[d]===t[d]&&t[d]!==void 0&&c++)}return n===o&&c===n?t:l}return e}function ri(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Vn(t){if(!si(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!si(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function si(t){return Object.prototype.toString.call(t)==="[object Object]"}function vf(t){return new Promise(e=>{setTimeout(e,t)})}function xf(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Po(t,e):e}function bf(t,e,r=0){const s=[...t,e];return r&&s.length>r?s.slice(1):s}function wf(t,e,r=0){const s=[e,...t];return r&&s.length>r?s.slice(0,-1):s}var va=Symbol();function Ao(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===va?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Jt,Ft,vr,Bi,_f=(Bi=class extends cn{constructor(){super();ae(this,Jt);ae(this,Ft);ae(this,vr);Y(this,vr,e=>{if(!un&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){_(this,Ft)||this.setEventListener(_(this,vr))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Ft))==null||e.call(this),Y(this,Ft,void 0))}setEventListener(e){var r;Y(this,vr,e),(r=_(this,Ft))==null||r.call(this),Y(this,Ft,e(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(e){_(this,Jt)!==e&&(Y(this,Jt,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof _(this,Jt)=="boolean"?_(this,Jt):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Jt=new WeakMap,Ft=new WeakMap,vr=new WeakMap,Bi),Io=new _f,xr,Mt,br,zi,Sf=(zi=class extends cn{constructor(){super();ae(this,xr,!0);ae(this,Mt);ae(this,br);Y(this,br,e=>{if(!un&&window.addEventListener){const r=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",s)}}})}onSubscribe(){_(this,Mt)||this.setEventListener(_(this,br))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Mt))==null||e.call(this),Y(this,Mt,void 0))}setEventListener(e){var r;Y(this,br,e),(r=_(this,Mt))==null||r.call(this),Y(this,Mt,e(this.setOnline.bind(this)))}setOnline(e){_(this,xr)!==e&&(Y(this,xr,e),this.listeners.forEach(s=>{s(e)}))}isOnline(){return _(this,xr)}},xr=new WeakMap,Mt=new WeakMap,br=new WeakMap,zi),Os=new Sf;function Tf(){let t,e;const r=new Promise((n,a)=>{t=n,e=a});r.status="pending",r.catch(()=>{});function s(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{s({status:"fulfilled",value:n}),t(n)},r.reject=n=>{s({status:"rejected",reason:n}),e(n)},r}function Ef(t){return Math.min(1e3*2**t,3e4)}function Oo(t){return(t??"online")==="online"?Os.isOnline():!0}var Do=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function jn(t){return t instanceof Do}function Fo(t){let e=!1,r=0,s=!1,n;const a=Tf(),o=g=>{var m;s||(y(new Do(g)),(m=t.abort)==null||m.call(t))},l=()=>{e=!0},c=()=>{e=!1},u=()=>Io.isFocused()&&(t.networkMode==="always"||Os.isOnline())&&t.canRun(),d=()=>Oo(t.networkMode)&&t.canRun(),h=g=>{var m;s||(s=!0,(m=t.onSuccess)==null||m.call(t,g),n==null||n(),a.resolve(g))},y=g=>{var m;s||(s=!0,(m=t.onError)==null||m.call(t,g),n==null||n(),a.reject(g))},T=()=>new Promise(g=>{var m;n=j=>{(s||u())&&g(j)},(m=t.onPause)==null||m.call(t)}).then(()=>{var g;n=void 0,s||(g=t.onContinue)==null||g.call(t)}),S=()=>{if(s)return;let g;const m=r===0?t.initialPromise:void 0;try{g=m??t.fn()}catch(j){g=Promise.reject(j)}Promise.resolve(g).then(h).catch(j=>{var L;if(s)return;const b=t.retry??(un?0:3),x=t.retryDelay??Ef,E=typeof x=="function"?x(r,j):x,k=b===!0||typeof b=="number"&&r<b||typeof b=="function"&&b(r,j);if(e||!k){y(j);return}r++,(L=t.onFail)==null||L.call(t,r,j),vf(E).then(()=>u()?void 0:T()).then(()=>{e?y(j):S()})})};return{promise:a,cancel:o,continue:()=>(n==null||n(),a),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?S():T().then(S),a)}}function jf(){let t=[],e=0,r=l=>{l()},s=l=>{l()},n=l=>setTimeout(l,0);const a=l=>{e?t.push(l):n(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&n(()=>{s(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{s=l},setScheduler:l=>{n=l}}}var Fe=jf(),er,qi,Mo=(qi=class{constructor(){ae(this,er)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),mf(this.gcTime)&&Y(this,er,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(un?1/0:5*60*1e3))}clearGcTimeout(){_(this,er)&&(clearTimeout(_(this,er)),Y(this,er,void 0))}},er=new WeakMap,qi),wr,_r,Ze,Ae,as,tr,Je,vt,Hi,kf=(Hi=class extends Mo{constructor(e){super();ae(this,Je);ae(this,wr);ae(this,_r);ae(this,Ze);ae(this,Ae);ae(this,as);ae(this,tr);Y(this,tr,!1),Y(this,as,e.defaultOptions),this.setOptions(e.options),this.observers=[],Y(this,Ze,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Y(this,wr,Cf(this.options)),this.state=e.state??_(this,wr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,Ae))==null?void 0:e.promise}setOptions(e){this.options={..._(this,as),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Ze).remove(this)}setData(e,r){const s=xf(this.state.data,e,this.options);return Pe(this,Je,vt).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(e,r){Pe(this,Je,vt).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var s,n;const r=(s=_(this,Ae))==null?void 0:s.promise;return(n=_(this,Ae))==null||n.cancel(e),r?r.then(Ye).catch(Ye):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,wr))}isActive(){return this.observers.some(e=>yf(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===va||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!gf(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(s=>s.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Ae))==null||r.continue()}onOnline(){var r;const e=this.observers.find(s=>s.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=_(this,Ae))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Ze).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(_(this,Ae)&&(_(this,tr)?_(this,Ae).cancel({revert:!0}):_(this,Ae).cancelRetry()),this.scheduleGc()),_(this,Ze).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Pe(this,Je,vt).call(this,{type:"invalidate"})}fetch(e,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(_(this,Ae))return _(this,Ae).continueRetry(),_(this,Ae).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(y=>y.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,n=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Y(this,tr,!0),s.signal)})},a=()=>{const h=Ao(this.options,r),y={queryKey:this.queryKey,meta:this.meta};return n(y),Y(this,tr,!1),this.options.persister?this.options.persister(h,y,this):h(y)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:a};n(o),(c=this.options.behavior)==null||c.onFetch(o,this),Y(this,_r,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Pe(this,Je,vt).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=h=>{var y,T,S,g;jn(h)&&h.silent||Pe(this,Je,vt).call(this,{type:"error",error:h}),jn(h)||((T=(y=_(this,Ze).config).onError)==null||T.call(y,h,this),(g=(S=_(this,Ze).config).onSettled)==null||g.call(S,this.state.data,h,this)),this.scheduleGc()};return Y(this,Ae,Fo({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var y,T,S,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(m){l(m);return}(T=(y=_(this,Ze).config).onSuccess)==null||T.call(y,h,this),(g=(S=_(this,Ze).config).onSettled)==null||g.call(S,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,y)=>{Pe(this,Je,vt).call(this,{type:"failed",failureCount:h,error:y})},onPause:()=>{Pe(this,Je,vt).call(this,{type:"pause"})},onContinue:()=>{Pe(this,Je,vt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,Ae).start()}},wr=new WeakMap,_r=new WeakMap,Ze=new WeakMap,Ae=new WeakMap,as=new WeakMap,tr=new WeakMap,Je=new WeakSet,vt=function(e){const r=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Nf(s.data,this.options),fetchMeta:e.meta??null};case"success":return{...s,data:e.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return jn(n)&&n.revert&&_(this,_r)?{..._(this,_r),fetchStatus:"idle"}:{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=r(this.state),Fe.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),_(this,Ze).notify({query:this,type:"updated",action:e})})},Hi);function Nf(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Oo(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Cf(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,s=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var at,Wi,Rf=(Wi=class extends cn{constructor(e={}){super();ae(this,at);this.config=e,Y(this,at,new Map)}build(e,r,s){const n=r.queryKey,a=r.queryHash??ya(n,r);let o=this.get(a);return o||(o=new kf({cache:this,queryKey:n,queryHash:a,options:e.defaultQueryOptions(r),state:s,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){_(this,at).has(e.queryHash)||(_(this,at).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=_(this,at).get(e.queryHash);r&&(e.destroy(),r===e&&_(this,at).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Fe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,at).get(e)}getAll(){return[..._(this,at).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ei(r,s))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(s=>ei(e,s)):r}notify(e){Fe.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Fe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Fe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},at=new WeakMap,Wi),it,Oe,rr,ot,It,Zi,Pf=(Zi=class extends Mo{constructor(e){super();ae(this,ot);ae(this,it);ae(this,Oe);ae(this,rr);this.mutationId=e.mutationId,Y(this,Oe,e.mutationCache),Y(this,it,[]),this.state=e.state||Af(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,it).includes(e)||(_(this,it).push(e),this.clearGcTimeout(),_(this,Oe).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Y(this,it,_(this,it).filter(r=>r!==e)),this.scheduleGc(),_(this,Oe).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,it).length||(this.state.status==="pending"?this.scheduleGc():_(this,Oe).remove(this))}continue(){var e;return((e=_(this,rr))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var n,a,o,l,c,u,d,h,y,T,S,g,m,j,b,x,E,k,L,O;Y(this,rr,Fo({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(A,q)=>{Pe(this,ot,It).call(this,{type:"failed",failureCount:A,error:q})},onPause:()=>{Pe(this,ot,It).call(this,{type:"pause"})},onContinue:()=>{Pe(this,ot,It).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,Oe).canRun(this)}));const r=this.state.status==="pending",s=!_(this,rr).canStart();try{if(!r){Pe(this,ot,It).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(n=_(this,Oe).config).onMutate)==null?void 0:a.call(n,e,this));const q=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));q!==this.state.context&&Pe(this,ot,It).call(this,{type:"pending",context:q,variables:e,isPaused:s})}const A=await _(this,rr).start();return await((u=(c=_(this,Oe).config).onSuccess)==null?void 0:u.call(c,A,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,A,e,this.state.context)),await((T=(y=_(this,Oe).config).onSettled)==null?void 0:T.call(y,A,null,this.state.variables,this.state.context,this)),await((g=(S=this.options).onSettled)==null?void 0:g.call(S,A,null,e,this.state.context)),Pe(this,ot,It).call(this,{type:"success",data:A}),A}catch(A){try{throw await((j=(m=_(this,Oe).config).onError)==null?void 0:j.call(m,A,e,this.state.context,this)),await((x=(b=this.options).onError)==null?void 0:x.call(b,A,e,this.state.context)),await((k=(E=_(this,Oe).config).onSettled)==null?void 0:k.call(E,void 0,A,this.state.variables,this.state.context,this)),await((O=(L=this.options).onSettled)==null?void 0:O.call(L,void 0,A,e,this.state.context)),A}finally{Pe(this,ot,It).call(this,{type:"error",error:A})}}finally{_(this,Oe).runNext(this)}}},it=new WeakMap,Oe=new WeakMap,rr=new WeakMap,ot=new WeakSet,It=function(e){const r=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fe.batch(()=>{_(this,it).forEach(s=>{s.onMutationUpdate(e)}),_(this,Oe).notify({mutation:this,type:"updated",action:e})})},Zi);function Af(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qe,is,Gi,If=(Gi=class extends cn{constructor(e={}){super();ae(this,qe);ae(this,is);this.config=e,Y(this,qe,new Map),Y(this,is,Date.now())}build(e,r,s){const n=new Pf({mutationCache:this,mutationId:++ys(this,is)._,options:e.defaultMutationOptions(r),state:s});return this.add(n),n}add(e){const r=vs(e),s=_(this,qe).get(r)??[];s.push(e),_(this,qe).set(r,s),this.notify({type:"added",mutation:e})}remove(e){var s;const r=vs(e);if(_(this,qe).has(r)){const n=(s=_(this,qe).get(r))==null?void 0:s.filter(a=>a!==e);n&&(n.length===0?_(this,qe).delete(r):_(this,qe).set(r,n))}this.notify({type:"removed",mutation:e})}canRun(e){var s;const r=(s=_(this,qe).get(vs(e)))==null?void 0:s.find(n=>n.state.status==="pending");return!r||r===e}runNext(e){var s;const r=(s=_(this,qe).get(vs(e)))==null?void 0:s.find(n=>n!==e&&n.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){Fe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[..._(this,qe).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(s=>ti(r,s))}findAll(e={}){return this.getAll().filter(r=>ti(e,r))}notify(e){Fe.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Fe.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ye))))}},qe=new WeakMap,is=new WeakMap,Gi);function vs(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function ni(t){return{onFetch:(e,r)=>{var d,h,y,T,S;const s=e.options,n=(y=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:y.direction,a=((T=e.state.data)==null?void 0:T.pages)||[],o=((S=e.state.data)==null?void 0:S.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},j=Ao(e.options,e.fetchOptions),b=async(x,E,k)=>{if(g)return Promise.reject();if(E==null&&x.pages.length)return Promise.resolve(x);const L={queryKey:e.queryKey,pageParam:E,direction:k?"backward":"forward",meta:e.options.meta};m(L);const O=await j(L),{maxPages:A}=e.options,q=k?wf:bf;return{pages:q(x.pages,O,A),pageParams:q(x.pageParams,E,A)}};if(n&&a.length){const x=n==="backward",E=x?Of:ai,k={pages:a,pageParams:o},L=E(s,k);l=await b(k,L,x)}else{const x=t??a.length;do{const E=c===0?o[0]??s.initialPageParam:ai(s,l);if(c>0&&E==null)break;l=await b(l,E),c++}while(c<x)}return l};e.options.persister?e.fetchFn=()=>{var g,m;return(m=(g=e.options).persister)==null?void 0:m.call(g,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function ai(t,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?t.getNextPageParam(e[s],e,r[s],r):void 0}function Of(t,{pages:e,pageParams:r}){var s;return e.length>0?(s=t.getPreviousPageParam)==null?void 0:s.call(t,e[0],e,r[0],r):void 0}var be,Ut,Lt,Sr,Tr,Vt,Er,jr,Ki,Df=(Ki=class{constructor(t={}){ae(this,be);ae(this,Ut);ae(this,Lt);ae(this,Sr);ae(this,Tr);ae(this,Vt);ae(this,Er);ae(this,jr);Y(this,be,t.queryCache||new Rf),Y(this,Ut,t.mutationCache||new If),Y(this,Lt,t.defaultOptions||{}),Y(this,Sr,new Map),Y(this,Tr,new Map),Y(this,Vt,0)}mount(){ys(this,Vt)._++,_(this,Vt)===1&&(Y(this,Er,Io.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,be).onFocus())})),Y(this,jr,Os.subscribe(async t=>{t&&(await this.resumePausedMutations(),_(this,be).onOnline())})))}unmount(){var t,e;ys(this,Vt)._--,_(this,Vt)===0&&((t=_(this,Er))==null||t.call(this),Y(this,Er,void 0),(e=_(this,jr))==null||e.call(this),Y(this,jr,void 0))}isFetching(t){return _(this,be).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return _(this,Ut).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,be).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),s=_(this,be).build(this,r);return t.revalidateIfStale&&s.isStaleByTime(Ja(r.staleTime,s))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return _(this,be).findAll(t).map(({queryKey:e,state:r})=>{const s=r.data;return[e,s]})}setQueryData(t,e,r){const s=this.defaultQueryOptions({queryKey:t}),n=_(this,be).get(s.queryHash),a=n==null?void 0:n.state.data,o=pf(e,a);if(o!==void 0)return _(this,be).build(this,s).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Fe.batch(()=>_(this,be).findAll(t).map(({queryKey:s})=>[s,this.setQueryData(s,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=_(this,be).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=_(this,be);Fe.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=_(this,be),s={type:"active",...t};return Fe.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries(s,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},s=Fe.batch(()=>_(this,be).findAll(t).map(n=>n.cancel(r)));return Promise.all(s).then(Ye).catch(Ye)}invalidateQueries(t={},e={}){return Fe.batch(()=>{if(_(this,be).findAll(t).forEach(s=>{s.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},s=Fe.batch(()=>_(this,be).findAll(t).filter(n=>!n.isDisabled()).map(n=>{let a=n.fetch(void 0,r);return r.throwOnError||(a=a.catch(Ye)),n.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(s).then(Ye)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=_(this,be).build(this,e);return r.isStaleByTime(Ja(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ye).catch(Ye)}fetchInfiniteQuery(t){return t.behavior=ni(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ye).catch(Ye)}ensureInfiniteQueryData(t){return t.behavior=ni(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Os.isOnline()?_(this,Ut).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,be)}getMutationCache(){return _(this,Ut)}getDefaultOptions(){return _(this,Lt)}setDefaultOptions(t){Y(this,Lt,t)}setQueryDefaults(t,e){_(this,Sr).set(Jr(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[..._(this,Sr).values()];let r={};return e.forEach(s=>{es(t,s.queryKey)&&(r={...r,...s.defaultOptions})}),r}setMutationDefaults(t,e){_(this,Tr).set(Jr(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[..._(this,Tr).values()];let r={};return e.forEach(s=>{es(t,s.mutationKey)&&(r={...r,...s.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={..._(this,Lt).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ya(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===va&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{..._(this,Lt).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){_(this,be).clear(),_(this,Ut).clear()}},be=new WeakMap,Ut=new WeakMap,Lt=new WeakMap,Sr=new WeakMap,Tr=new WeakMap,Vt=new WeakMap,Er=new WeakMap,jr=new WeakMap,Ki),Ff=f.createContext(void 0),Mf=({client:t,children:e})=>(f.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),i.jsx(Ff.Provider,{value:t,children:e}));const Uf=new Df({defaultOptions:{queries:{queryFn:async({queryKey:t})=>{const e=await fetch(t[0],{credentials:"include"});if(!e.ok)throw e.status>=500?new Error(`${e.status}: ${e.statusText}`):new Error(`${e.status}: ${await e.text()}`);return e.json()},refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Lf=1,Vf=1e6;let kn=0;function $f(){return kn=(kn+1)%Number.MAX_SAFE_INTEGER,kn.toString()}const Nn=new Map,ii=t=>{if(Nn.has(t))return;const e=setTimeout(()=>{Nn.delete(t),Wr({type:"REMOVE_TOAST",toastId:t})},Vf);Nn.set(t,e)},Bf=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Lf)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ii(r):t.toasts.forEach(s=>{ii(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},_s=[];let Ss={toasts:[]};function Wr(t){Ss=Bf(Ss,t),_s.forEach(e=>{e(Ss)})}function zf({...t}){const e=$f(),r=n=>Wr({type:"UPDATE_TOAST",toast:{...n,id:e}}),s=()=>Wr({type:"DISMISS_TOAST",toastId:e});return Wr({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:n=>{n||s()}}}),{id:e,dismiss:s,update:r}}function pt(){const[t,e]=f.useState(Ss);return f.useEffect(()=>(_s.push(e),()=>{const r=_s.indexOf(e);r>-1&&_s.splice(r,1)}),[t]),{...t,toast:zf,dismiss:r=>Wr({type:"DISMISS_TOAST",toastId:r})}}var qf="VisuallyHidden",dn=f.forwardRef((t,e)=>i.jsx(ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));dn.displayName=qf;var xa="ToastProvider",[ba,Hf,Wf]=Qi("Toast"),[Uo,Sy]=ua("Toast",[Wf]),[Zf,fn]=Uo(xa),Lo=t=>{const{__scopeToast:e,label:r="Notification",duration:s=5e3,swipeDirection:n="right",swipeThreshold:a=50,children:o}=t,[l,c]=f.useState(null),[u,d]=f.useState(0),h=f.useRef(!1),y=f.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${xa}\`. Expected non-empty \`string\`.`),i.jsx(ba.Provider,{scope:e,children:i.jsx(Zf,{scope:e,label:r,duration:s,swipeDirection:n,swipeThreshold:a,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:f.useCallback(()=>d(T=>T+1),[]),onToastRemove:f.useCallback(()=>d(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:y,children:o})})};Lo.displayName=xa;var Vo="ToastViewport",Gf=["F8"],$n="toast.viewportPause",Bn="toast.viewportResume",$o=f.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:s=Gf,label:n="Notifications ({hotkey})",...a}=t,o=fn(Vo,r),l=Hf(r),c=f.useRef(null),u=f.useRef(null),d=f.useRef(null),h=f.useRef(null),y=Qe(e,h,o.onViewportChange),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=o.toastCount>0;f.useEffect(()=>{const m=j=>{var x;s.length!==0&&s.every(E=>j[E]||j.code===E)&&((x=h.current)==null||x.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[s]),f.useEffect(()=>{const m=c.current,j=h.current;if(S&&m&&j){const b=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent($n);j.dispatchEvent(L),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Bn);j.dispatchEvent(L),o.isClosePausedRef.current=!1}},E=L=>{!m.contains(L.relatedTarget)&&x()},k=()=>{m.contains(document.activeElement)||x()};return m.addEventListener("focusin",b),m.addEventListener("focusout",E),m.addEventListener("pointermove",b),m.addEventListener("pointerleave",k),window.addEventListener("blur",b),window.addEventListener("focus",x),()=>{m.removeEventListener("focusin",b),m.removeEventListener("focusout",E),m.removeEventListener("pointermove",b),m.removeEventListener("pointerleave",k),window.removeEventListener("blur",b),window.removeEventListener("focus",x)}}},[S,o.isClosePausedRef]);const g=f.useCallback(({tabbingDirection:m})=>{const b=l().map(x=>{const E=x.ref.current,k=[E,...oh(E)];return m==="forwards"?k:k.reverse()});return(m==="forwards"?b.reverse():b).flat()},[l]);return f.useEffect(()=>{const m=h.current;if(m){const j=b=>{var k,L,O;const x=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!x){const A=document.activeElement,q=b.shiftKey;if(b.target===m&&q){(k=u.current)==null||k.focus();return}const R=g({tabbingDirection:q?"backwards":"forwards"}),$=R.findIndex(F=>F===A);Cn(R.slice($+1))?b.preventDefault():q?(L=u.current)==null||L.focus():(O=d.current)==null||O.focus()}};return m.addEventListener("keydown",j),()=>m.removeEventListener("keydown",j)}},[l,g]),i.jsxs(Fu,{ref:c,role:"region","aria-label":n.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&i.jsx(zn,{ref:u,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"forwards"});Cn(m)}}),i.jsx(ba.Slot,{scope:r,children:i.jsx(ve.ol,{tabIndex:-1,...a,ref:y})}),S&&i.jsx(zn,{ref:d,onFocusFromOutsideViewport:()=>{const m=g({tabbingDirection:"backwards"});Cn(m)}})]})});$o.displayName=Vo;var Bo="ToastFocusProxy",zn=f.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:s,...n}=t,a=fn(Bo,r);return i.jsx(dn,{"aria-hidden":!0,tabIndex:0,...n,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=a.viewport)!=null&&u.contains(l))&&s()}})});zn.displayName=Bo;var hn="Toast",Kf="toast.swipeStart",Qf="toast.swipeMove",Xf="toast.swipeCancel",Yf="toast.swipeEnd",zo=f.forwardRef((t,e)=>{const{forceMount:r,open:s,defaultOpen:n,onOpenChange:a,...o}=t,[l=!0,c]=Is({prop:s,defaultProp:n,onChange:a});return i.jsx(Xi,{present:r||l,children:i.jsx(th,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Yr(t.onPause),onResume:Yr(t.onResume),onSwipeStart:oe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:oe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});zo.displayName=hn;var[Jf,eh]=Uo(hn,{onClose(){}}),th=f.forwardRef((t,e)=>{const{__scopeToast:r,type:s="foreground",duration:n,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:y,onSwipeEnd:T,...S}=t,g=fn(hn,r),[m,j]=f.useState(null),b=Qe(e,F=>j(F)),x=f.useRef(null),E=f.useRef(null),k=n||g.duration,L=f.useRef(0),O=f.useRef(k),A=f.useRef(0),{onToastAdd:q,onToastRemove:ee}=g,le=Yr(()=>{var G;(m==null?void 0:m.contains(document.activeElement))&&((G=g.viewport)==null||G.focus()),o()}),R=f.useCallback(F=>{!F||F===1/0||(window.clearTimeout(A.current),L.current=new Date().getTime(),A.current=window.setTimeout(le,F))},[le]);f.useEffect(()=>{const F=g.viewport;if(F){const G=()=>{R(O.current),u==null||u()},X=()=>{const ne=new Date().getTime()-L.current;O.current=O.current-ne,window.clearTimeout(A.current),c==null||c()};return F.addEventListener($n,X),F.addEventListener(Bn,G),()=>{F.removeEventListener($n,X),F.removeEventListener(Bn,G)}}},[g.viewport,k,c,u,R]),f.useEffect(()=>{a&&!g.isClosePausedRef.current&&R(k)},[a,k,g.isClosePausedRef,R]),f.useEffect(()=>(q(),()=>ee()),[q,ee]);const $=f.useMemo(()=>m?Qo(m):null,[m]);return g.viewport?i.jsxs(i.Fragment,{children:[$&&i.jsx(rh,{__scopeToast:r,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:$}),i.jsx(Jf,{scope:r,onClose:le,children:nn.createPortal(i.jsx(ba.ItemSlot,{scope:r,children:i.jsx(Mu,{asChild:!0,onEscapeKeyDown:oe(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||le(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:i.jsx(ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":g.swipeDirection,...S,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:oe(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,le()))}),onPointerDown:oe(t.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:oe(t.onPointerMove,F=>{if(!x.current)return;const G=F.clientX-x.current.x,X=F.clientY-x.current.y,ne=!!E.current,fe=["left","right"].includes(g.swipeDirection),he=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Ue=fe?he(0,G):0,Ee=fe?0:he(0,X),tt=F.pointerType==="touch"?10:2,rt={x:Ue,y:Ee},We={originalEvent:F,delta:rt};ne?(E.current=rt,xs(Qf,h,We,{discrete:!1})):oi(rt,g.swipeDirection,tt)?(E.current=rt,xs(Kf,d,We,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(G)>tt||Math.abs(X)>tt)&&(x.current=null)}),onPointerUp:oe(t.onPointerUp,F=>{const G=E.current,X=F.target;if(X.hasPointerCapture(F.pointerId)&&X.releasePointerCapture(F.pointerId),E.current=null,x.current=null,G){const ne=F.currentTarget,fe={originalEvent:F,delta:G};oi(G,g.swipeDirection,g.swipeThreshold)?xs(Yf,T,fe,{discrete:!0}):xs(Xf,y,fe,{discrete:!0}),ne.addEventListener("click",he=>he.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),rh=t=>{const{__scopeToast:e,children:r,...s}=t,n=fn(hn,e),[a,o]=f.useState(!1),[l,c]=f.useState(!1);return ah(()=>o(!0)),f.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:i.jsx(Yi,{asChild:!0,children:i.jsx(dn,{...s,children:a&&i.jsxs(i.Fragment,{children:[n.label," ",r]})})})},sh="ToastTitle",qo=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return i.jsx(ve.div,{...s,ref:e})});qo.displayName=sh;var nh="ToastDescription",Ho=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t;return i.jsx(ve.div,{...s,ref:e})});Ho.displayName=nh;var Wo="ToastAction",Zo=f.forwardRef((t,e)=>{const{altText:r,...s}=t;return r.trim()?i.jsx(Ko,{altText:r,asChild:!0,children:i.jsx(wa,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Wo}\`. Expected non-empty \`string\`.`),null)});Zo.displayName=Wo;var Go="ToastClose",wa=f.forwardRef((t,e)=>{const{__scopeToast:r,...s}=t,n=eh(Go,r);return i.jsx(Ko,{asChild:!0,children:i.jsx(ve.button,{type:"button",...s,ref:e,onClick:oe(t.onClick,n.onClose)})})});wa.displayName=Go;var Ko=f.forwardRef((t,e)=>{const{__scopeToast:r,altText:s,...n}=t;return i.jsx(ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...n,ref:e})});function Qo(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),ih(s)){const n=s.ariaHidden||s.hidden||s.style.display==="none",a=s.dataset.radixToastAnnounceExclude==="";if(!n)if(a){const o=s.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Qo(s))}}),e}function xs(t,e,r,{discrete:s}){const n=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&n.addEventListener(t,e,{once:!0}),s?Uu(n,a):n.dispatchEvent(a)}var oi=(t,e,r=0)=>{const s=Math.abs(t.x),n=Math.abs(t.y),a=s>n;return e==="left"||e==="right"?a&&s>r:!a&&n>r};function ah(t=()=>{}){const e=Yr(t);Tt(()=>{let r=0,s=0;return r=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(s)}},[e])}function ih(t){return t.nodeType===t.ELEMENT_NODE}function oh(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const n=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||n?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Cn(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var lh=Lo,Xo=$o,Yo=zo,Jo=qo,el=Ho,tl=Zo,rl=wa;function sl(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=sl(t[e]))&&(s&&(s+=" "),s+=r);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function ch(){for(var t,e,r=0,s="";r<arguments.length;)(t=arguments[r++])&&(e=sl(t))&&(s&&(s+=" "),s+=e);return s}const li=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,ci=ch,_a=(t,e)=>r=>{var s;if((e==null?void 0:e.variants)==null)return ci(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:n,defaultVariants:a}=e,o=Object.keys(n).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const y=li(d)||li(h);return n[u][y]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,y]=d;return y===void 0||(u[h]=y),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:y,...T}=d;return Object.entries(T).every(S=>{let[g,m]=S;return Array.isArray(m)?m.includes({...a,...l}[g]):{...a,...l}[g]===m})?[...u,h,y]:u},[]);return ci(t,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};function nl(t){var e,r,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var n=t.length;for(e=0;e<n;e++)t[e]&&(r=nl(t[e]))&&(s&&(s+=" "),s+=r)}else for(r in t)t[r]&&(s&&(s+=" "),s+=r);return s}function uh(){for(var t,e,r=0,s="",n=arguments.length;r<n;r++)(t=arguments[r])&&(e=nl(t))&&(s&&(s+=" "),s+=e);return s}const Sa="-",dh=t=>{const e=hh(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(Sa);return l[0]===""&&l.length!==1&&l.shift(),al(l,e)||fh(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},al=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const r=t[0],s=e.nextPart.get(r),n=s?al(t.slice(1),s):void 0;if(n)return n;if(e.validators.length===0)return;const a=t.join(Sa);return(o=e.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},ui=/^\[(.+)\]$/,fh=t=>{if(ui.test(t)){const e=ui.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},hh=t=>{const{theme:e,prefix:r}=t,s={nextPart:new Map,validators:[]};return mh(Object.entries(t.classGroups),r).forEach(([a,o])=>{qn(o,s,a,e)}),s},qn=(t,e,r,s)=>{t.forEach(n=>{if(typeof n=="string"){const a=n===""?e:di(e,n);a.classGroupId=r;return}if(typeof n=="function"){if(ph(n)){qn(n(s),e,r,s);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([a,o])=>{qn(o,di(e,a),r,s)})})},di=(t,e)=>{let r=t;return e.split(Sa).forEach(s=>{r.nextPart.has(s)||r.nextPart.set(s,{nextPart:new Map,validators:[]}),r=r.nextPart.get(s)}),r},ph=t=>t.isThemeGetter,mh=(t,e)=>e?t.map(([r,s])=>{const n=s.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,n]}):t,gh=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,s=new Map;const n=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,s=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=s.get(a))!==void 0)return n(a,o),o},set(a,o){r.has(a)?r.set(a,o):n(a,o)}}},il="!",yh=t=>{const{separator:e,experimentalParseClassName:r}=t,s=e.length===1,n=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let m=0;m<l.length;m++){let j=l[m];if(u===0){if(j===n&&(s||l.slice(m,m+a)===e)){c.push(l.slice(d,m)),d=m+a;continue}if(j==="/"){h=m;continue}}j==="["?u++:j==="]"&&u--}const y=c.length===0?l:l.substring(d),T=y.startsWith(il),S=T?y.substring(1):y,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:T,baseClassName:S,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},vh=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(s=>{s[0]==="["?(e.push(...r.sort(),s),r=[]):r.push(s)}),e.push(...r.sort()),e},xh=t=>({cache:gh(t.cacheSize),parseClassName:yh(t),...dh(t)}),bh=/\s+/,wh=(t,e)=>{const{parseClassName:r,getClassGroupId:s,getConflictingClassGroupIds:n}=e,a=[],o=t.trim().split(bh);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:y,maybePostfixModifierPosition:T}=r(u);let S=!!T,g=s(S?y.substring(0,T):y);if(!g){if(!S){l=u+(l.length>0?" "+l:l);continue}if(g=s(y),!g){l=u+(l.length>0?" "+l:l);continue}S=!1}const m=vh(d).join(":"),j=h?m+il:m,b=j+g;if(a.includes(b))continue;a.push(b);const x=n(g,S);for(let E=0;E<x.length;++E){const k=x[E];a.push(j+k)}l=u+(l.length>0?" "+l:l)}return l};function _h(){let t=0,e,r,s="";for(;t<arguments.length;)(e=arguments[t++])&&(r=ol(e))&&(s&&(s+=" "),s+=r);return s}const ol=t=>{if(typeof t=="string")return t;let e,r="";for(let s=0;s<t.length;s++)t[s]&&(e=ol(t[s]))&&(r&&(r+=" "),r+=e);return r};function Sh(t,...e){let r,s,n,a=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=xh(u),s=r.cache.get,n=r.cache.set,a=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=wh(c,r);return n(c,d),d}return function(){return a(_h.apply(null,arguments))}}const me=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ll=/^\[(?:([a-z-]+):)?(.+)\]$/i,Th=/^\d+\/\d+$/,Eh=new Set(["px","full","screen"]),jh=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kh=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Nh=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Ch=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Rh=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gt=t=>gr(t)||Eh.has(t)||Th.test(t),Pt=t=>Ar(t,"length",Uh),gr=t=>!!t&&!Number.isNaN(Number(t)),Rn=t=>Ar(t,"number",gr),Mr=t=>!!t&&Number.isInteger(Number(t)),Ph=t=>t.endsWith("%")&&gr(t.slice(0,-1)),Q=t=>ll.test(t),At=t=>jh.test(t),Ah=new Set(["length","size","percentage"]),Ih=t=>Ar(t,Ah,cl),Oh=t=>Ar(t,"position",cl),Dh=new Set(["image","url"]),Fh=t=>Ar(t,Dh,Vh),Mh=t=>Ar(t,"",Lh),Ur=()=>!0,Ar=(t,e,r)=>{const s=ll.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):r(s[2]):!1},Uh=t=>kh.test(t)&&!Nh.test(t),cl=()=>!1,Lh=t=>Ch.test(t),Vh=t=>Rh.test(t),$h=()=>{const t=me("colors"),e=me("spacing"),r=me("blur"),s=me("brightness"),n=me("borderColor"),a=me("borderRadius"),o=me("borderSpacing"),l=me("borderWidth"),c=me("contrast"),u=me("grayscale"),d=me("hueRotate"),h=me("invert"),y=me("gap"),T=me("gradientColorStops"),S=me("gradientColorStopPositions"),g=me("inset"),m=me("margin"),j=me("opacity"),b=me("padding"),x=me("saturate"),E=me("scale"),k=me("sepia"),L=me("skew"),O=me("space"),A=me("translate"),q=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],le=()=>["auto",Q,e],R=()=>[Q,e],$=()=>["",gt,Pt],F=()=>["auto",gr,Q],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],X=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>["start","end","center","between","around","evenly","stretch"],he=()=>["","0",Q],Ue=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[gr,Q];return{cacheSize:500,separator:":",theme:{colors:[Ur],spacing:[gt,Pt],blur:["none","",At,Q],brightness:Ee(),borderColor:[t],borderRadius:["none","","full",At,Q],borderSpacing:R(),borderWidth:$(),contrast:Ee(),grayscale:he(),hueRotate:Ee(),invert:he(),gap:R(),gradientColorStops:[t],gradientColorStopPositions:[Ph,Pt],inset:le(),margin:le(),opacity:Ee(),padding:R(),saturate:Ee(),scale:Ee(),sepia:he(),skew:Ee(),space:R(),translate:R()},classGroups:{aspect:[{aspect:["auto","square","video",Q]}],container:["container"],columns:[{columns:[At]}],"break-after":[{"break-after":Ue()}],"break-before":[{"break-before":Ue()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Q]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Mr,Q]}],basis:[{basis:le()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Q]}],grow:[{grow:he()}],shrink:[{shrink:he()}],order:[{order:["first","last","none",Mr,Q]}],"grid-cols":[{"grid-cols":[Ur]}],"col-start-end":[{col:["auto",{span:["full",Mr,Q]},Q]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[Ur]}],"row-start-end":[{row:["auto",{span:[Mr,Q]},Q]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Q]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Q]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...fe()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...fe(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...fe(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Q,e]}],"min-w":[{"min-w":[Q,e,"min","max","fit"]}],"max-w":[{"max-w":[Q,e,"none","full","min","max","fit","prose",{screen:[At]},At]}],h:[{h:[Q,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Q,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Q,e,"auto","min","max","fit"]}],"font-size":[{text:["base",At,Pt]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rn]}],"font-family":[{font:[Ur]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Q]}],"line-clamp":[{"line-clamp":["none",gr,Rn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gt,Q]}],"list-image":[{"list-image":["none",Q]}],"list-style-type":[{list:["none","disc","decimal",Q]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gt,Pt]}],"underline-offset":[{"underline-offset":["auto",gt,Q]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),Oh]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ih]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Fh]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...X(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:X()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...X()]}],"outline-offset":[{"outline-offset":[gt,Q]}],"outline-w":[{outline:[gt,Pt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[gt,Pt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",At,Mh]}],"shadow-color":[{shadow:[Ur]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",At,Q]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Q]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",Q]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Q]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[Mr,Q]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Q]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Q]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Q]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[gt,Pt,Rn]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Bh=Sh($h);function B(...t){return Bh(uh(t))}const zh=lh,ul=f.forwardRef(({className:t,...e},r)=>i.jsx(Xo,{ref:r,className:B("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ul.displayName=Xo.displayName;const qh=_a("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),dl=f.forwardRef(({className:t,variant:e,...r},s)=>i.jsx(Yo,{ref:s,className:B(qh({variant:e}),t),...r}));dl.displayName=Yo.displayName;const Hh=f.forwardRef(({className:t,...e},r)=>i.jsx(tl,{ref:r,className:B("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));Hh.displayName=tl.displayName;const fl=f.forwardRef(({className:t,...e},r)=>i.jsx(rl,{ref:r,className:B("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:i.jsx(Ji,{className:"h-4 w-4"})}));fl.displayName=rl.displayName;const hl=f.forwardRef(({className:t,...e},r)=>i.jsx(Jo,{ref:r,className:B("text-sm font-semibold",t),...e}));hl.displayName=Jo.displayName;const pl=f.forwardRef(({className:t,...e},r)=>i.jsx(el,{ref:r,className:B("text-sm opacity-90",t),...e}));pl.displayName=el.displayName;function Wh(){const{toasts:t}=pt();return i.jsxs(zh,{children:[t.map(function({id:e,title:r,description:s,action:n,...a}){return i.jsxs(dl,{...a,children:[i.jsxs("div",{className:"grid gap-1",children:[r&&i.jsx(hl,{children:r}),s&&i.jsx(pl,{children:s})]}),n,i.jsx(fl,{})]},e)}),i.jsx(ul,{})]})}const Ta=_a("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ge=f.forwardRef(({className:t,variant:e,size:r,asChild:s=!1,...n},a)=>{const o=s?da:"button";return i.jsx(o,{className:B(Ta({variant:e,size:r,className:t})),ref:a,...n})});ge.displayName="Button";const Ts={apiKey:void 0,projectId:void 0,appId:void 0};if(Object.values(Ts).some(t=>!t))throw new Error("Missing required Firebase configuration. Please check your environment variables.");const Zh={apiKey:Ts.apiKey,authDomain:void 0,projectId:Ts.projectId,storageBucket:void 0,messagingSenderId:void 0,appId:Ts.appId},ml=fd(Zh),Se=hd(ml),Ir=fa(ml);Se.useDeviceLanguage();pd(Se,yd).catch(t=>{console.error("Error setting auth persistence:",t)});const gl=new md,Gh=new gd;gl.setCustomParameters({prompt:"select_account"});async function ls(t,e,r){try{console.log(`Setting role ${e} for user ${t}`);const s={role:e,updatedAt:new Date().toISOString(),updatedBy:r||null};await ha(Et(Ir,"userRoles",t),s),console.log(`Successfully set role for user ${t}`)}catch(s){throw console.error("Error setting user role:",s),new Error(s.message||"Failed to set user role")}}async function ts(t){try{const e=await an(Et(Ir,"userRoles",t));return e.exists()?e.data().role:"user"}catch(e){return console.error("Error getting user role:",e),"user"}}async function Kh(){try{const t=xd(Ir,"userRoles");return(await bd(t)).docs.map(s=>{const n=s.data();return{userId:s.id,role:n.role,updatedAt:n.updatedAt,email:n.email,displayName:n.displayName}})}catch(t){throw console.error("Error listing users with roles:",t),new Error("Failed to list users with roles")}}async function fi(t){try{const e=Se.currentUser;if(!e)throw new Error("No user is currently signed in");if(await ts(e.uid)!=="admin")throw new Error("Only admins can delete other users");console.log(`Attempting to delete role document for user ${t}`);const s=Et(Ir,"userRoles",t);try{await mo(s),console.log(`Successfully deleted role document for user ${t}`)}catch(l){throw console.error("Error deleting role document:",l),l.code==="permission-denied"?new Error("Permission denied: Unable to delete user role. Please check your Firebase rules."):l}const n=await e.getIdToken(),a=await fetch(`/api/admin/deleteUser?userId=${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!a.ok){const l=await a.json();throw new Error(l.error||"Failed to delete user")}const o=await a.json();if(!o.success)throw new Error(o.message||"User deletion partially failed");return console.log("User successfully deleted from both Firestore and Authentication"),!0}catch(e){throw console.error("Error in admin delete user:",e),new Error(e.message||"Failed to delete user")}}async function Qh(){if(!Se.currentUser)throw new Error("No user is currently signed in");const t=Se.currentUser.uid;try{const e=Et(Ir,"userRoles",t);await mo(e),console.log("User role document deleted"),await wd(Se.currentUser),console.log("Account successfully deleted")}catch(e){throw console.error("Error deleting account:",e),new Error(lr(e))}}function lr(t){if(typeof t=="string")return t;switch(t==null?void 0:t.code){case"auth/invalid-credential":return"Incorrect email or password";case"auth/email-already-in-use":return"An account with this email already exists";case"auth/weak-password":return"Password should be at least 6 characters";case"auth/invalid-email":return"Please enter a valid email address";case"auth/user-not-found":return"No account found with this email";case"auth/requires-recent-login":return"Please log in again before updating your profile";case"auth/account-exists-with-different-credential":return"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.";default:return console.error("Firebase auth error:",t),(t==null?void 0:t.message)||"An error occurred. Please try again"}}async function yl(t){try{(await an(Et(Ir,"userRoles",t))).exists()||await ls(t,"user")}catch(e){console.error("Error checking/setting role:",e)}}async function vl(){var t;try{const e=await go(Se,gl);if(!(e!=null&&e.user))throw new Error("No user data returned from Google sign-in");const r=e.user,s=r.displayName||((t=r.email)==null?void 0:t.split("@")[0])||"User";return await yl(r.uid),await pa(r,{displayName:s}),r}catch(e){throw new Error(lr(e))}}async function xl(){var t;try{const e=await go(Se,Gh);if(!(e!=null&&e.user))throw new Error("No user data returned from Facebook sign-in");const r=e.user,s=r.displayName||((t=r.email)==null?void 0:t.split("@")[0])||"User";return await yl(r.uid),await pa(r,{displayName:s}),r}catch(e){throw new Error(lr(e))}}async function Xh({email:t,password:e,name:r,age:s}){try{const n=await Ed(Se,t,e);return await ls(n.user.uid,"user"),await pa(n.user,{displayName:r}),await yo(n.user),n.user}catch(n){throw new Error(lr(n))}}async function Yh(t,e){try{return await jd(Se,t,e)}catch(r){throw new Error(lr(r))}}async function bl(){return vd(Se)}async function Jh(){if(Se.currentUser)return yo(Se.currentUser)}async function ep(t){try{await kd(Se,t)}catch(e){throw new Error(lr(e))}}async function tp(t,e,r){try{const s=_d.credential(t.email,e);await Sd(t,s),await Td(t,r)}catch(s){throw new Error(lr(s))}}async function rp(t){var e;try{const r=Se.currentUser;if(!r)throw new Error("No user is currently signed in");if(await ts(r.uid)!=="admin")throw new Error("Only admins can disable other users");await ls(t,"disabled");const n=await r.getIdToken(),a=await fetch(`/api/admin/disableUser?userId=${t}`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!a.ok){const o=await a.json();throw new Error(o.error||"Failed to disable user")}return((e=Se.currentUser)==null?void 0:e.uid)===t&&await bl(),console.log("User successfully disabled"),!0}catch(r){throw console.error("Error in admin disable user:",r),new Error(r.message||"Failed to disable user")}}async function sp(t){try{const e=Se.currentUser;if(!e)throw new Error("No user is currently signed in");if(await ts(e.uid)!=="admin")throw new Error("Only admins can enable other users");const s=await e.getIdToken(),n=await fetch(`/api/admin/enableUser?userId=${t}`,{method:"POST",headers:{Authorization:`Bearer ${s}`}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to enable user")}return await ls(t,"user"),console.log("User successfully enabled"),!0}catch(e){throw console.error("Error in admin enable user:",e),new Error(e.message||"Failed to enable user")}}function hi(){try{const t=localStorage.getItem("firebaseAuth");return t?JSON.parse(t):null}catch{return null}}function cs(){const[t,e]=f.useState(()=>{const o=hi();return o?{...o.user,stsTokenManager:o.stsTokenManager}:null}),[r,s]=f.useState(!0),[n,a]=f.useState(()=>{const o=hi();return(o==null?void 0:o.role)||"user"});return f.useEffect(()=>{const o=Nd(Se,async c=>{if(e(c),c){const u=await ts(c.uid);a(u)}s(!1)});return(async()=>{if(t){const c=await ts(t.uid);localStorage.setItem("firebaseAuth",JSON.stringify({user:{uid:t.uid,email:t.email,emailVerified:t.emailVerified,displayName:t.displayName,providerData:t.providerData},stsTokenManager:t.stsTokenManager,role:c}))}else localStorage.removeItem("firebaseAuth")})(),()=>o()},[]),{user:t,loading:r,role:n}}function Ea(t="/"){const{user:e,loading:r,role:s}=cs(),[n,a]=f.useState(!1);return f.useEffect(()=>{!r&&!e&&(window.location.href=t),e&&(e.emailVerified||e.providerData.some(o=>o.providerId==="facebook.com"))&&a(!0)},[e,r,t]),{user:e,loading:r,verified:n,role:s}}function np(t="/"){const{user:e,loading:r,role:s}=cs(),[n,a]=f.useState(!1);return f.useEffect(()=>{r||(!e||s!=="admin"?window.location.href=t:a(!0))},[e,s,r,t]),{user:e,loading:r,isAdmin:n}}function ap(){const{user:t,role:e}=cs();return i.jsx("nav",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:i.jsxs("div",{className:"container flex h-14 items-center",children:[i.jsxs("div",{className:"mr-4 hidden md:flex",children:[i.jsx(Fr,{href:"/",className:"mr-6 flex items-center space-x-2",children:i.jsx("span",{className:"hidden font-bold sm:inline-block",children:"Auth Demo"})}),i.jsx("div",{className:"flex gap-6 md:gap-10",children:t&&t.emailVerified&&i.jsxs(i.Fragment,{children:[i.jsx(Fr,{href:"/welcome",children:"Welcome"}),e==="admin"&&i.jsx(Fr,{href:"/admin",children:"Admin"}),i.jsx(Fr,{href:"/profile",children:"Profile"})]})})]}),i.jsx("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:t?i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(ge,{variant:"ghost",className:"gap-2",asChild:!0,children:i.jsxs(Fr,{href:"/settings",children:[i.jsx(Lu,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:t.displayName})]})}),i.jsx(ge,{variant:"ghost",onClick:()=>bl(),children:"Sign out"})]}):null})]})})}const dt=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:B("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));dt.displayName="Card";const jt=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:B("flex flex-col space-y-1.5 p-6",t),...e}));jt.displayName="CardHeader";const kt=f.forwardRef(({className:t,...e},r)=>i.jsx("h3",{ref:r,className:B("text-2xl font-semibold leading-none tracking-tight",t),...e}));kt.displayName="CardTitle";const ip=f.forwardRef(({className:t,...e},r)=>i.jsx("p",{ref:r,className:B("text-sm text-muted-foreground",t),...e}));ip.displayName="CardDescription";const ft=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:B("p-6 pt-0",t),...e}));ft.displayName="CardContent";const op=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{ref:r,className:B("flex items-center p-6 pt-0",t),...e}));op.displayName="CardFooter";function lp(){return i.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:i.jsx(dt,{className:"w-full max-w-md mx-4",children:i.jsxs(ft,{className:"pt-6",children:[i.jsxs("div",{className:"flex mb-4 gap-2",children:[i.jsx(Vu,{className:"h-8 w-8 text-red-500"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),i.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var ja="Tabs",[cp,Ty]=ua(ja,[eo]),wl=eo(),[up,ka]=cp(ja),_l=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,onValueChange:n,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=to(l),[h,y]=Is({prop:s,onChange:n,defaultProp:a});return i.jsx(up,{scope:r,baseId:sn(),value:h,onValueChange:y,orientation:o,dir:d,activationMode:c,children:i.jsx(ve.div,{dir:d,"data-orientation":o,...u,ref:e})})});_l.displayName=ja;var Sl="TabsList",Tl=f.forwardRef((t,e)=>{const{__scopeTabs:r,loop:s=!0,...n}=t,a=ka(Sl,r),o=wl(r);return i.jsx($u,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(ve.div,{role:"tablist","aria-orientation":a.orientation,...n,ref:e})})});Tl.displayName=Sl;var El="TabsTrigger",jl=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,disabled:n=!1,...a}=t,o=ka(El,r),l=wl(r),c=Cl(o.baseId,s),u=Rl(o.baseId,s),d=s===o.value;return i.jsx(Bu,{asChild:!0,...l,focusable:!n,active:d,children:i.jsx(ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...a,ref:e,onMouseDown:oe(t.onMouseDown,h=>{!n&&h.button===0&&h.ctrlKey===!1?o.onValueChange(s):h.preventDefault()}),onKeyDown:oe(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(s)}),onFocus:oe(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!n&&h&&o.onValueChange(s)})})})});jl.displayName=El;var kl="TabsContent",Nl=f.forwardRef((t,e)=>{const{__scopeTabs:r,value:s,forceMount:n,children:a,...o}=t,l=ka(kl,r),c=Cl(l.baseId,s),u=Rl(l.baseId,s),d=s===l.value,h=f.useRef(d);return f.useEffect(()=>{const y=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(y)},[]),i.jsx(Xi,{present:n||d,children:({present:y})=>i.jsx(ve.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!y,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:y&&a})})});Nl.displayName=kl;function Cl(t,e){return`${t}-trigger-${e}`}function Rl(t,e){return`${t}-content-${e}`}var dp=_l,Pl=Tl,Al=jl,Il=Nl;const fp=dp,Ol=f.forwardRef(({className:t,...e},r)=>i.jsx(Pl,{ref:r,className:B("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ol.displayName=Pl.displayName;const Hn=f.forwardRef(({className:t,...e},r)=>i.jsx(Al,{ref:r,className:B("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Hn.displayName=Al.displayName;const Wn=f.forwardRef(({className:t,...e},r)=>i.jsx(Il,{ref:r,className:B("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Wn.displayName=Il.displayName;var us=t=>t.type==="checkbox",Gt=t=>t instanceof Date,De=t=>t==null;const Dl=t=>typeof t=="object";var Te=t=>!De(t)&&!Array.isArray(t)&&Dl(t)&&!Gt(t),Fl=t=>Te(t)&&t.target?us(t.target)?t.target.checked:t.target.value:t,hp=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Ml=(t,e)=>t.has(hp(e)),pp=t=>{const e=t.constructor&&t.constructor.prototype;return Te(e)&&e.hasOwnProperty("isPrototypeOf")},Na=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Le(t){let e;const r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Na&&(t instanceof Blob||t instanceof FileList))&&(r||Te(t)))if(e=r?[]:{},!r&&!pp(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Le(t[s]));else return t;return e}var pn=t=>Array.isArray(t)?t.filter(Boolean):[],_e=t=>t===void 0,P=(t,e,r)=>{if(!e||!Te(t))return r;const s=pn(e.split(/[,[\].]+?/)).reduce((n,a)=>De(n)?n:n[a],t);return _e(s)||s===t?_e(t[e])?r:t[e]:s},Ge=t=>typeof t=="boolean",Ca=t=>/^\w*$/.test(t),Ul=t=>pn(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ie=(t,e,r)=>{let s=-1;const n=Ca(e)?[e]:Ul(e),a=n.length,o=a-1;for(;++s<a;){const l=n[s];let c=r;if(s!==o){const u=t[l];c=Te(u)||Array.isArray(u)?u:isNaN(+n[s+1])?{}:[]}if(l==="__proto__")return;t[l]=c,t=t[l]}return t};const Ds={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},et={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},yt={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ll=re.createContext(null),mn=()=>re.useContext(Ll),mp=t=>{const{children:e,...r}=t;return re.createElement(Ll.Provider,{value:r},e)};var Vl=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==et.all&&(e._proxyFormState[o]=!s||et.all),r&&(r[o]=!0),t[o]}});return n},Ve=t=>Te(t)&&!Object.keys(t).length,$l=(t,e,r,s)=>{r(t);const{name:n,...a}=t;return Ve(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||et.all))},Zr=t=>Array.isArray(t)?t:[t],Bl=(t,e,r)=>!t||!e||t===e||Zr(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s)));function Ra(t){const e=re.useRef(t);e.current=t,re.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function gp(t){const e=mn(),{control:r=e.control,disabled:s,name:n,exact:a}=t||{},[o,l]=re.useState(r._formState),c=re.useRef(!0),u=re.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=re.useRef(n);return d.current=n,Ra({disabled:s,next:h=>c.current&&Bl(d.current,h.name,a)&&$l(h,u.current,r._updateFormState)&&l({...r._formState,...h}),subject:r._subjects.state}),re.useEffect(()=>(c.current=!0,u.current.isValid&&r._updateValid(!0),()=>{c.current=!1}),[r]),Vl(o,r,u.current,!1)}var lt=t=>typeof t=="string",zl=(t,e,r,s,n)=>lt(t)?(s&&e.watch.add(t),P(r,t,n)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),P(r,a))):(s&&(e.watchAll=!0),r);function yp(t){const e=mn(),{control:r=e.control,name:s,defaultValue:n,disabled:a,exact:o}=t||{},l=re.useRef(s);l.current=s,Ra({disabled:a,subject:r._subjects.values,next:d=>{Bl(l.current,d.name,o)&&u(Le(zl(l.current,r._names,d.values||r._formValues,!1,n)))}});const[c,u]=re.useState(r._getWatch(s,n));return re.useEffect(()=>r._removeUnmounted()),c}function vp(t){const e=mn(),{name:r,disabled:s,control:n=e.control,shouldUnregister:a}=t,o=Ml(n._names.array,r),l=yp({control:n,name:r,defaultValue:P(n._formValues,r,P(n._defaultValues,r,t.defaultValue)),exact:!0}),c=gp({control:n,name:r,exact:!0}),u=re.useRef(n.register(r,{...t.rules,value:l,...Ge(t.disabled)?{disabled:t.disabled}:{}}));return re.useEffect(()=>{const d=n._options.shouldUnregister||a,h=(y,T)=>{const S=P(n._fields,y);S&&S._f&&(S._f.mount=T)};if(h(r,!0),d){const y=Le(P(n._options.defaultValues,r));ie(n._defaultValues,r,y),_e(P(n._formValues,r))&&ie(n._formValues,r,y)}return()=>{(o?d&&!n._state.action:d)?n.unregister(r):h(r,!1)}},[r,n,o,a]),re.useEffect(()=>{P(n._fields,r)&&n._updateDisabledField({disabled:s,fields:n._fields,name:r,value:P(n._fields,r)._f.value})},[s,r,n]),{field:{name:r,value:l,...Ge(s)||c.disabled?{disabled:c.disabled||s}:{},onChange:re.useCallback(d=>u.current.onChange({target:{value:Fl(d),name:r},type:Ds.CHANGE}),[r]),onBlur:re.useCallback(()=>u.current.onBlur({target:{value:P(n._formValues,r),name:r},type:Ds.BLUR}),[r,n]),ref:re.useCallback(d=>{const h=P(n._fields,r);h&&d&&(h._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:y=>d.setCustomValidity(y),reportValidity:()=>d.reportValidity()})},[n._fields,r])},formState:c,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(c.errors,r)},isDirty:{enumerable:!0,get:()=>!!P(c.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!P(c.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!P(c.validatingFields,r)},error:{enumerable:!0,get:()=>P(c.errors,r)}})}}const xp=t=>t.render(vp(t));var ql=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},pi=t=>({isOnSubmit:!t||t===et.onSubmit,isOnBlur:t===et.onBlur,isOnChange:t===et.onChange,isOnAll:t===et.all,isOnTouch:t===et.onTouched}),mi=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const Gr=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const a=P(t,n);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(Gr(l,e))break}else if(Te(l)&&Gr(l,e))break}}};var bp=(t,e,r)=>{const s=Zr(P(t,r));return ie(s,"root",e[r]),ie(t,r,s),t},Pa=t=>t.type==="file",bt=t=>typeof t=="function",Fs=t=>{if(!Na)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Es=t=>lt(t),Aa=t=>t.type==="radio",Ms=t=>t instanceof RegExp;const gi={value:!1,isValid:!1},yi={value:!0,isValid:!0};var Hl=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_e(t[0].attributes.value)?_e(t[0].value)||t[0].value===""?yi:{value:t[0].value,isValid:!0}:yi:gi}return gi};const vi={isValid:!1,value:null};var Wl=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,vi):vi;function xi(t,e,r="validate"){if(Es(t)||Array.isArray(t)&&t.every(Es)||Ge(t)&&!t)return{type:r,message:Es(t)?t:"",ref:e}}var ur=t=>Te(t)&&!Ms(t)?t:{value:t,message:""},bi=async(t,e,r,s,n)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:y,validate:T,name:S,valueAsNumber:g,mount:m,disabled:j}=t._f,b=P(e,S);if(!m||j)return{};const x=o?o[0]:a,E=R=>{s&&x.reportValidity&&(x.setCustomValidity(Ge(R)?"":R||""),x.reportValidity())},k={},L=Aa(a),O=us(a),A=L||O,q=(g||Pa(a))&&_e(a.value)&&_e(b)||Fs(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,ee=ql.bind(null,S,r,k),le=(R,$,F,G=yt.maxLength,X=yt.minLength)=>{const ne=R?$:F;k[S]={type:R?G:X,message:ne,ref:a,...ee(R?G:X,ne)}};if(n?!Array.isArray(b)||!b.length:l&&(!A&&(q||De(b))||Ge(b)&&!b||O&&!Hl(o).isValid||L&&!Wl(o).isValid)){const{value:R,message:$}=Es(l)?{value:!!l,message:l}:ur(l);if(R&&(k[S]={type:yt.required,message:$,ref:x,...ee(yt.required,$)},!r))return E($),k}if(!q&&(!De(d)||!De(h))){let R,$;const F=ur(h),G=ur(d);if(!De(b)&&!isNaN(b)){const X=a.valueAsNumber||b&&+b;De(F.value)||(R=X>F.value),De(G.value)||($=X<G.value)}else{const X=a.valueAsDate||new Date(b),ne=Ue=>new Date(new Date().toDateString()+" "+Ue),fe=a.type=="time",he=a.type=="week";lt(F.value)&&b&&(R=fe?ne(b)>ne(F.value):he?b>F.value:X>new Date(F.value)),lt(G.value)&&b&&($=fe?ne(b)<ne(G.value):he?b<G.value:X<new Date(G.value))}if((R||$)&&(le(!!R,F.message,G.message,yt.max,yt.min),!r))return E(k[S].message),k}if((c||u)&&!q&&(lt(b)||n&&Array.isArray(b))){const R=ur(c),$=ur(u),F=!De(R.value)&&b.length>+R.value,G=!De($.value)&&b.length<+$.value;if((F||G)&&(le(F,R.message,$.message),!r))return E(k[S].message),k}if(y&&!q&&lt(b)){const{value:R,message:$}=ur(y);if(Ms(R)&&!b.match(R)&&(k[S]={type:yt.pattern,message:$,ref:a,...ee(yt.pattern,$)},!r))return E($),k}if(T){if(bt(T)){const R=await T(b,e),$=xi(R,x);if($&&(k[S]={...$,...ee(yt.validate,$.message)},!r))return E($.message),k}else if(Te(T)){let R={};for(const $ in T){if(!Ve(R)&&!r)break;const F=xi(await T[$](b,e),x,$);F&&(R={...F,...ee($,F.message)},E(F.message),r&&(k[S]=R))}if(!Ve(R)&&(k[S]={ref:x,...R},!r))return k}}return E(!0),k};function wp(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=_e(t)?s++:t[e[s++]];return t}function _p(t){for(const e in t)if(t.hasOwnProperty(e)&&!_e(t[e]))return!1;return!0}function je(t,e){const r=Array.isArray(e)?e:Ca(e)?[e]:Ul(e),s=r.length===1?t:wp(t,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(Te(s)&&Ve(s)||Array.isArray(s)&&_p(s))&&je(t,r.slice(0,-1)),t}var Pn=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},Zn=t=>De(t)||!Dl(t);function Ot(t,e){if(Zn(t)||Zn(e))return t===e;if(Gt(t)&&Gt(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const a=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(Gt(a)&&Gt(o)||Te(a)&&Te(o)||Array.isArray(a)&&Array.isArray(o)?!Ot(a,o):a!==o)return!1}}return!0}var Zl=t=>t.type==="select-multiple",Sp=t=>Aa(t)||us(t),An=t=>Fs(t)&&t.isConnected,Gl=t=>{for(const e in t)if(bt(t[e]))return!0;return!1};function Us(t,e={}){const r=Array.isArray(t);if(Te(t)||r)for(const s in t)Array.isArray(t[s])||Te(t[s])&&!Gl(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Us(t[s],e[s])):De(t[s])||(e[s]=!0);return e}function Kl(t,e,r){const s=Array.isArray(t);if(Te(t)||s)for(const n in t)Array.isArray(t[n])||Te(t[n])&&!Gl(t[n])?_e(e)||Zn(r[n])?r[n]=Array.isArray(t[n])?Us(t[n],[]):{...Us(t[n])}:Kl(t[n],De(e)?{}:e[n],r[n]):r[n]=!Ot(t[n],e[n]);return r}var Lr=(t,e)=>Kl(t,e,Us(e)),Ql=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>_e(t)?t:e?t===""?NaN:t&&+t:r&&lt(t)?new Date(t):s?s(t):t;function In(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Pa(e)?e.files:Aa(e)?Wl(t.refs).value:Zl(e)?[...e.selectedOptions].map(({value:r})=>r):us(e)?Hl(t.refs).value:Ql(_e(e.value)?t.ref.value:e.value,t)}var Tp=(t,e,r,s)=>{const n={};for(const a of t){const o=P(e,a);o&&ie(n,a,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},Vr=t=>_e(t)?t:Ms(t)?t.source:Te(t)?Ms(t.value)?t.value.source:t.value:t;const wi="AsyncFunction";var Ep=t=>(!t||!t.validate)&&!!(bt(t.validate)&&t.validate.constructor.name===wi||Te(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===wi)),jp=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function _i(t,e,r){const s=P(t,r);if(s||Ca(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=P(e,a),l=P(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};n.pop()}return{name:r}}var kp=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,Np=(t,e)=>!pn(P(t,e)).length&&je(t,e);const Cp={mode:et.onSubmit,reValidateMode:et.onChange,shouldFocusError:!0};function Rp(t={}){let e={...Cp,...t},r={submitCount:0,isDirty:!1,isLoading:bt(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},s={},n=Te(e.defaultValues)||Te(e.values)?Le(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:Le(n),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Pn(),array:Pn(),state:Pn()},y=pi(e.mode),T=pi(e.reValidateMode),S=e.criteriaMode===et.all,g=p=>v=>{clearTimeout(u),u=setTimeout(p,v)},m=async p=>{if(!t.disabled&&(d.isValid||p)){const v=e.resolver?Ve((await A()).errors):await ee(s,!0);v!==r.isValid&&h.state.next({isValid:v})}},j=(p,v)=>{!t.disabled&&(d.isValidating||d.validatingFields)&&((p||Array.from(l.mount)).forEach(w=>{w&&(v?ie(r.validatingFields,w,v):je(r.validatingFields,w))}),h.state.next({validatingFields:r.validatingFields,isValidating:!Ve(r.validatingFields)}))},b=(p,v=[],w,M,I=!0,C=!0)=>{if(M&&w&&!t.disabled){if(o.action=!0,C&&Array.isArray(P(s,p))){const z=w(P(s,p),M.argA,M.argB);I&&ie(s,p,z)}if(C&&Array.isArray(P(r.errors,p))){const z=w(P(r.errors,p),M.argA,M.argB);I&&ie(r.errors,p,z),Np(r.errors,p)}if(d.touchedFields&&C&&Array.isArray(P(r.touchedFields,p))){const z=w(P(r.touchedFields,p),M.argA,M.argB);I&&ie(r.touchedFields,p,z)}d.dirtyFields&&(r.dirtyFields=Lr(n,a)),h.state.next({name:p,isDirty:R(p,v),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ie(a,p,v)},x=(p,v)=>{ie(r.errors,p,v),h.state.next({errors:r.errors})},E=p=>{r.errors=p,h.state.next({errors:r.errors,isValid:!1})},k=(p,v,w,M)=>{const I=P(s,p);if(I){const C=P(a,p,_e(w)?P(n,p):w);_e(C)||M&&M.defaultChecked||v?ie(a,p,v?C:In(I._f)):G(p,C),o.mount&&m()}},L=(p,v,w,M,I)=>{let C=!1,z=!1;const J={name:p};if(!t.disabled){const ke=!!(P(s,p)&&P(s,p)._f&&P(s,p)._f.disabled);if(!w||M){d.isDirty&&(z=r.isDirty,r.isDirty=J.isDirty=R(),C=z!==J.isDirty);const Ne=ke||Ot(P(n,p),v);z=!!(!ke&&P(r.dirtyFields,p)),Ne||ke?je(r.dirtyFields,p):ie(r.dirtyFields,p,!0),J.dirtyFields=r.dirtyFields,C=C||d.dirtyFields&&z!==!Ne}if(w){const Ne=P(r.touchedFields,p);Ne||(ie(r.touchedFields,p,w),J.touchedFields=r.touchedFields,C=C||d.touchedFields&&Ne!==w)}C&&I&&h.state.next(J)}return C?J:{}},O=(p,v,w,M)=>{const I=P(r.errors,p),C=d.isValid&&Ge(v)&&r.isValid!==v;if(t.delayError&&w?(c=g(()=>x(p,w)),c(t.delayError)):(clearTimeout(u),c=null,w?ie(r.errors,p,w):je(r.errors,p)),(w?!Ot(I,w):I)||!Ve(M)||C){const z={...M,...C&&Ge(v)?{isValid:v}:{},errors:r.errors,name:p};r={...r,...z},h.state.next(z)}},A=async p=>{j(p,!0);const v=await e.resolver(a,e.context,Tp(p||l.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return j(p),v},q=async p=>{const{errors:v}=await A(p);if(p)for(const w of p){const M=P(v,w);M?ie(r.errors,w,M):je(r.errors,w)}else r.errors=v;return v},ee=async(p,v,w={valid:!0})=>{for(const M in p){const I=p[M];if(I){const{_f:C,...z}=I;if(C){const J=l.array.has(C.name),ke=I._f&&Ep(I._f);ke&&d.validatingFields&&j([M],!0);const Ne=await bi(I,a,S,e.shouldUseNativeValidation&&!v,J);if(ke&&d.validatingFields&&j([M]),Ne[C.name]&&(w.valid=!1,v))break;!v&&(P(Ne,C.name)?J?bp(r.errors,Ne,C.name):ie(r.errors,C.name,Ne[C.name]):je(r.errors,C.name))}!Ve(z)&&await ee(z,v,w)}}return w.valid},le=()=>{for(const p of l.unMount){const v=P(s,p);v&&(v._f.refs?v._f.refs.every(w=>!An(w)):!An(v._f.ref))&&mt(p)}l.unMount=new Set},R=(p,v)=>!t.disabled&&(p&&v&&ie(a,p,v),!Ot(Ee(),n)),$=(p,v,w)=>zl(p,l,{...o.mount?a:_e(v)?n:lt(p)?{[p]:v}:v},w,v),F=p=>pn(P(o.mount?a:n,p,t.shouldUnregister?P(n,p,[]):[])),G=(p,v,w={})=>{const M=P(s,p);let I=v;if(M){const C=M._f;C&&(!C.disabled&&ie(a,p,Ql(v,C)),I=Fs(C.ref)&&De(v)?"":v,Zl(C.ref)?[...C.ref.options].forEach(z=>z.selected=I.includes(z.value)):C.refs?us(C.ref)?C.refs.length>1?C.refs.forEach(z=>(!z.defaultChecked||!z.disabled)&&(z.checked=Array.isArray(I)?!!I.find(J=>J===z.value):I===z.value)):C.refs[0]&&(C.refs[0].checked=!!I):C.refs.forEach(z=>z.checked=z.value===I):Pa(C.ref)?C.ref.value="":(C.ref.value=I,C.ref.type||h.values.next({name:p,values:{...a}})))}(w.shouldDirty||w.shouldTouch)&&L(p,I,w.shouldTouch,w.shouldDirty,!0),w.shouldValidate&&Ue(p)},X=(p,v,w)=>{for(const M in v){const I=v[M],C=`${p}.${M}`,z=P(s,C);(l.array.has(p)||Te(I)||z&&!z._f)&&!Gt(I)?X(C,I,w):G(C,I,w)}},ne=(p,v,w={})=>{const M=P(s,p),I=l.array.has(p),C=Le(v);ie(a,p,C),I?(h.array.next({name:p,values:{...a}}),(d.isDirty||d.dirtyFields)&&w.shouldDirty&&h.state.next({name:p,dirtyFields:Lr(n,a),isDirty:R(p,C)})):M&&!M._f&&!De(C)?X(p,C,w):G(p,C,w),mi(p,l)&&h.state.next({...r}),h.values.next({name:o.mount?p:void 0,values:{...a}})},fe=async p=>{o.mount=!0;const v=p.target;let w=v.name,M=!0;const I=P(s,w),C=()=>v.type?In(I._f):Fl(p),z=J=>{M=Number.isNaN(J)||Gt(J)&&isNaN(J.getTime())||Ot(J,P(a,w,J))};if(I){let J,ke;const Ne=C(),qt=p.type===Ds.BLUR||p.type===Ds.FOCUS_OUT,Iu=!jp(I._f)&&!e.resolver&&!P(r.errors,w)&&!I._f.deps||kp(qt,P(r.touchedFields,w),r.isSubmitted,T,y),_n=mi(w,l,qt);ie(a,w,Ne),qt?(I._f.onBlur&&I._f.onBlur(p),c&&c(0)):I._f.onChange&&I._f.onChange(p);const Sn=L(w,Ne,qt,!1),Ou=!Ve(Sn)||_n;if(!qt&&h.values.next({name:w,type:p.type,values:{...a}}),Iu)return d.isValid&&(t.mode==="onBlur"?qt&&m():m()),Ou&&h.state.next({name:w,..._n?{}:Sn});if(!qt&&_n&&h.state.next({...r}),e.resolver){const{errors:Ba}=await A([w]);if(z(Ne),M){const Du=_i(r.errors,s,w),za=_i(Ba,s,Du.name||w);J=za.error,w=za.name,ke=Ve(Ba)}}else j([w],!0),J=(await bi(I,a,S,e.shouldUseNativeValidation))[w],j([w]),z(Ne),M&&(J?ke=!1:d.isValid&&(ke=await ee(s,!0)));M&&(I._f.deps&&Ue(I._f.deps),O(w,ke,J,Sn))}},he=(p,v)=>{if(P(r.errors,v)&&p.focus)return p.focus(),1},Ue=async(p,v={})=>{let w,M;const I=Zr(p);if(e.resolver){const C=await q(_e(p)?p:I);w=Ve(C),M=p?!I.some(z=>P(C,z)):w}else p?(M=(await Promise.all(I.map(async C=>{const z=P(s,C);return await ee(z&&z._f?{[C]:z}:z)}))).every(Boolean),!(!M&&!r.isValid)&&m()):M=w=await ee(s);return h.state.next({...!lt(p)||d.isValid&&w!==r.isValid?{}:{name:p},...e.resolver||!p?{isValid:w}:{},errors:r.errors}),v.shouldFocus&&!M&&Gr(s,he,p?I:l.mount),M},Ee=p=>{const v={...o.mount?a:n};return _e(p)?v:lt(p)?P(v,p):p.map(w=>P(v,w))},tt=(p,v)=>({invalid:!!P((v||r).errors,p),isDirty:!!P((v||r).dirtyFields,p),error:P((v||r).errors,p),isValidating:!!P(r.validatingFields,p),isTouched:!!P((v||r).touchedFields,p)}),rt=p=>{p&&Zr(p).forEach(v=>je(r.errors,v)),h.state.next({errors:p?r.errors:{}})},We=(p,v,w)=>{const M=(P(s,p,{_f:{}})._f||{}).ref,I=P(r.errors,p)||{},{ref:C,message:z,type:J,...ke}=I;ie(r.errors,p,{...ke,...v,ref:M}),h.state.next({name:p,errors:r.errors,isValid:!1}),w&&w.shouldFocus&&M&&M.focus&&M.focus()},cr=(p,v)=>bt(p)?h.values.subscribe({next:w=>p($(void 0,v),w)}):$(p,v,!0),mt=(p,v={})=>{for(const w of p?Zr(p):l.mount)l.mount.delete(w),l.array.delete(w),v.keepValue||(je(s,w),je(a,w)),!v.keepError&&je(r.errors,w),!v.keepDirty&&je(r.dirtyFields,w),!v.keepTouched&&je(r.touchedFields,w),!v.keepIsValidating&&je(r.validatingFields,w),!e.shouldUnregister&&!v.keepDefaultValue&&je(n,w);h.values.next({values:{...a}}),h.state.next({...r,...v.keepDirty?{isDirty:R()}:{}}),!v.keepIsValid&&m()},Z=({disabled:p,name:v,field:w,fields:M,value:I})=>{if(Ge(p)&&o.mount||p){const C=p?void 0:_e(I)?In(w?w._f:P(M,v)._f):I;ie(a,v,C),L(v,C,!1,!1,!0)}},de=(p,v={})=>{let w=P(s,p);const M=Ge(v.disabled)||Ge(t.disabled);return ie(s,p,{...w||{},_f:{...w&&w._f?w._f:{ref:{name:p}},name:p,mount:!0,...v}}),l.mount.add(p),w?Z({field:w,disabled:Ge(v.disabled)?v.disabled:t.disabled,name:p,value:v.value}):k(p,!0,v.value),{...M?{disabled:v.disabled||t.disabled}:{},...e.progressive?{required:!!v.required,min:Vr(v.min),max:Vr(v.max),minLength:Vr(v.minLength),maxLength:Vr(v.maxLength),pattern:Vr(v.pattern)}:{},name:p,onChange:fe,onBlur:fe,ref:I=>{if(I){de(p,v),w=P(s,p);const C=_e(I.value)&&I.querySelectorAll&&I.querySelectorAll("input,select,textarea")[0]||I,z=Sp(C),J=w._f.refs||[];if(z?J.find(ke=>ke===C):C===w._f.ref)return;ie(s,p,{_f:{...w._f,...z?{refs:[...J.filter(An),C,...Array.isArray(P(n,p))?[{}]:[]],ref:{type:C.type,name:p}}:{ref:C}}}),k(p,!1,void 0,C)}else w=P(s,p,{}),w._f&&(w._f.mount=!1),(e.shouldUnregister||v.shouldUnregister)&&!(Ml(l.array,p)&&o.action)&&l.unMount.add(p)}}},Re=()=>e.shouldFocusError&&Gr(s,he,l.mount),pe=p=>{Ge(p)&&(h.state.next({disabled:p}),Gr(s,(v,w)=>{const M=P(s,w);M&&(v.disabled=M._f.disabled||p,Array.isArray(M._f.refs)&&M._f.refs.forEach(I=>{I.disabled=M._f.disabled||p}))},0,!1))},ce=(p,v)=>async w=>{let M;w&&(w.preventDefault&&w.preventDefault(),w.persist&&w.persist());let I=Le(a);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:C,values:z}=await A();r.errors=C,I=z}else await ee(s);if(je(r.errors,"root"),Ve(r.errors)){h.state.next({errors:{}});try{await p(I,w)}catch(C){M=C}}else v&&await v({...r.errors},w),Re(),setTimeout(Re);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ve(r.errors)&&!M,submitCount:r.submitCount+1,errors:r.errors}),M)throw M},ue=(p,v={})=>{P(s,p)&&(_e(v.defaultValue)?ne(p,Le(P(n,p))):(ne(p,v.defaultValue),ie(n,p,Le(v.defaultValue))),v.keepTouched||je(r.touchedFields,p),v.keepDirty||(je(r.dirtyFields,p),r.isDirty=v.defaultValue?R(p,Le(P(n,p))):R()),v.keepError||(je(r.errors,p),d.isValid&&m()),h.state.next({...r}))},st=(p,v={})=>{const w=p?Le(p):n,M=Le(w),I=Ve(p),C=I?n:M;if(v.keepDefaultValues||(n=w),!v.keepValues){if(v.keepDirtyValues){const z=new Set([...l.mount,...Object.keys(Lr(n,a))]);for(const J of Array.from(z))P(r.dirtyFields,J)?ie(C,J,P(a,J)):ne(J,P(C,J))}else{if(Na&&_e(p))for(const z of l.mount){const J=P(s,z);if(J&&J._f){const ke=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(Fs(ke)){const Ne=ke.closest("form");if(Ne){Ne.reset();break}}}}s={}}a=t.shouldUnregister?v.keepDefaultValues?Le(n):{}:Le(C),h.array.next({values:{...C}}),h.values.next({values:{...C}})}l={mount:v.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!v.keepIsValid||!!v.keepDirtyValues,o.watch=!!t.shouldUnregister,h.state.next({submitCount:v.keepSubmitCount?r.submitCount:0,isDirty:I?!1:v.keepDirty?r.isDirty:!!(v.keepDefaultValues&&!Ot(p,n)),isSubmitted:v.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:I?{}:v.keepDirtyValues?v.keepDefaultValues&&a?Lr(n,a):r.dirtyFields:v.keepDefaultValues&&p?Lr(n,p):v.keepDirty?r.dirtyFields:{},touchedFields:v.keepTouched?r.touchedFields:{},errors:v.keepErrors?r.errors:{},isSubmitSuccessful:v.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},nt=(p,v)=>st(bt(p)?p(a):p,v);return{control:{register:de,unregister:mt,getFieldState:tt,handleSubmit:ce,setError:We,_executeSchema:A,_getWatch:$,_getDirty:R,_updateValid:m,_removeUnmounted:le,_updateFieldArray:b,_updateDisabledField:Z,_getFieldArray:F,_reset:st,_resetDefaultValues:()=>bt(e.defaultValues)&&e.defaultValues().then(p=>{nt(p,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:p=>{r={...r,...p}},_disableForm:pe,_subjects:h,_proxyFormState:d,_setErrors:E,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(p){o=p},get _defaultValues(){return n},get _names(){return l},set _names(p){l=p},get _formState(){return r},set _formState(p){r=p},get _options(){return e},set _options(p){e={...e,...p}}},trigger:Ue,register:de,handleSubmit:ce,watch:cr,setValue:ne,getValues:Ee,reset:nt,resetField:ue,clearErrors:rt,unregister:mt,setError:We,setFocus:(p,v={})=>{const w=P(s,p),M=w&&w._f;if(M){const I=M.refs?M.refs[0]:M.ref;I.focus&&(I.focus(),v.shouldSelect&&I.select())}},getFieldState:tt}}function Xl(t={}){const e=re.useRef(),r=re.useRef(),[s,n]=re.useState({isDirty:!1,isValidating:!1,isLoading:bt(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:bt(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Rp(t),formState:s});const a=e.current.control;return a._options=t,Ra({subject:a._subjects.state,next:o=>{$l(o,a._proxyFormState,a._updateFormState,!0)&&n({...a._formState})}}),re.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),re.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),re.useEffect(()=>{t.values&&!Ot(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[t.values,a]),re.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),re.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),re.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),re.useEffect(()=>{e.current&&(e.current.watch=e.current.watch.bind({}))},[s]),e.current.formState=Vl(s,a),e.current}const Si=(t,e,r)=>{if(t&&"reportValidity"in t){const s=P(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},Yl=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?Si(s.ref,r,t):s.refs&&s.refs.forEach(n=>Si(n,r,t))}},Pp=(t,e)=>{e.shouldUseNativeValidation&&Yl(t,e);const r={};for(const s in t){const n=P(e.fields,s),a=Object.assign(t[s]||{},{ref:n&&n.ref});if(Ap(e.names||Object.keys(t),s)){const o=Object.assign({},P(r,s));ie(o,"root",a),ie(r,s,o)}else ie(r,s,a)}return r},Ap=(t,e)=>t.some(r=>r.startsWith(e+"."));var Ip=function(t,e){for(var r={};t.length;){var s=t[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,u=c&&c[s.code];r[o]=ql(o,e,r,n,u?[].concat(u,s.message):s.message)}t.shift()}return r},Jl=function(t,e,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return a.shouldUseNativeValidation&&Yl({},a),{errors:{},values:r.raw?s:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Pp(Ip(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},se;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(l=>typeof n[n[l]]!="number"),o={};for(const l of a)o[l]=n[l];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(se||(se={}));var Ti;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Ti||(Ti={}));const U=se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zt=t=>{switch(typeof t){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(t)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(t)?U.array:t===null?U.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?U.promise:typeof Map<"u"&&t instanceof Map?U.map:typeof Set<"u"&&t instanceof Set?U.set:typeof Date<"u"&&t instanceof Date?U.date:U.object;default:return U.unknown}},N=se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ke extends Error{constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let l=s,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return n(this),s}static assert(e){if(!(e instanceof Ke))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}Ke.create=t=>new Ke(t);const rs=(t,e)=>{let r;switch(t.code){case N.invalid_type:t.received===U.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case N.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,se.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:r=`Unrecognized key(s) in object: ${se.joinValues(t.keys,", ")}`;break;case N.invalid_union:r="Invalid input";break;case N.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${se.joinValues(t.options)}`;break;case N.invalid_enum_value:r=`Invalid enum value. Expected ${se.joinValues(t.options)}, received '${t.received}'`;break;case N.invalid_arguments:r="Invalid function arguments";break;case N.invalid_return_type:r="Invalid function return type";break;case N.invalid_date:r="Invalid date";break;case N.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:se.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case N.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case N.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case N.custom:r="Invalid input";break;case N.invalid_intersection_types:r="Intersection results could not be merged";break;case N.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case N.not_finite:r="Number must be finite";break;default:r=e.defaultError,se.assertNever(t)}return{message:r}};let Op=rs;function Gn(){return Op}const Kn=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let l="";const c=s.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...n,path:a,message:l}};function D(t,e){const r=Gn(),s=Kn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===rs?void 0:rs].filter(n=>!!n)});t.common.issues.push(s)}class Me{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return W;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const a=await n.key,o=await n.value;s.push({key:a,value:o})}return Me.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return W;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const W=Object.freeze({status:"aborted"}),Br=t=>({status:"dirty",value:t}),ze=t=>({status:"valid",value:t}),Ei=t=>t.status==="aborted",ji=t=>t.status==="dirty",Ls=t=>t.status==="valid",Vs=t=>typeof Promise<"u"&&t instanceof Promise;function $s(t,e,r,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function ec(t,e,r,s,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));var zr,qr;class ht{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ki=(t,e)=>{if(Ls(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ke(t.common.issues);return this._error=r,this._error}}};function K(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,l)=>{var c,u;const{message:d}=t;return o.code==="invalid_enum_value"?{message:d??l.defaultError}:typeof l.data>"u"?{message:(c=d??s)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=d??r)!==null&&u!==void 0?u:l.defaultError}},description:n}}class te{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Zt(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Zt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Me,ctx:{common:e.parent.common,data:e.data,parsedType:Zt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Vs(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zt(e)},a=this._parseSync({data:e,path:n.path,parent:n});return ki(n,a)}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Zt(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(Vs(n)?n:Promise.resolve(n));return ki(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=e(n),l=()=>a.addIssue({code:N.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new Ct({schema:this,typeName:H.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return _t.create(this,this._def)}nullable(){return ar.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ut.create(this,this._def)}promise(){return ns.create(this,this._def)}or(e){return qs.create([this,e],this._def)}and(e){return Hs.create(this,e,this._def)}transform(e){return new Ct({...K(this._def),schema:this,typeName:H.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Qs({...K(this._def),innerType:this,defaultValue:r,typeName:H.ZodDefault})}brand(){return new nc({typeName:H.ZodBranded,type:this,...K(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Xs({...K(this._def),innerType:this,catchValue:r,typeName:H.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return gn.create(this,e)}readonly(){return Ys.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Dp=/^c[^\s-]{8,}$/i,Fp=/^[0-9a-z]+$/,Mp=/^[0-9A-HJKMNP-TV-Z]{26}$/,Up=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Lp=/^[a-z0-9_-]{21}$/i,Vp=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$p=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bp="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let On;const zp=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qp=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Hp=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,tc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Wp=new RegExp(`^${tc}$`);function rc(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Zp(t){return new RegExp(`^${rc(t)}$`)}function Gp(t){let e=`${tc}T${rc(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Kp(t,e){return!!((e==="v4"||!e)&&zp.test(t)||(e==="v6"||!e)&&qp.test(t))}class wt extends te{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const a=this._getOrReturnCtx(e);return D(a,{code:N.invalid_type,expected:U.string,received:a.parsedType}),W}const s=new Me;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(n=this._getOrReturnCtx(e,n),o?D(n,{code:N.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&D(n,{code:N.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")$p.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"email",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")On||(On=new RegExp(Bp,"u")),On.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"emoji",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Up.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"uuid",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Lp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"nanoid",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Dp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Fp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"cuid2",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Mp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ulid",code:N.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),D(n,{validation:"url",code:N.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"regex",code:N.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Gp(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?Wp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?Zp(a).test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{code:N.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?Vp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"duration",code:N.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Kp(e.data,a.version)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"ip",code:N.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?Hp.test(e.data)||(n=this._getOrReturnCtx(e,n),D(n,{validation:"base64",code:N.invalid_string,message:a.message}),s.dirty()):se.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:N.invalid_string,...V.errToObj(s)})}_addCheck(e){return new wt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...V.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...V.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...V.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...V.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...V.errToObj(r)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new wt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}wt.create=t=>{var e;return new wt({checks:[],typeName:H.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...K(t)})};function Qp(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class Nr extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const a=this._getOrReturnCtx(e);return D(a,{code:N.invalid_type,expected:U.number,received:a.parsedType}),W}let s;const n=new Me;for(const a of this._def.checks)a.kind==="int"?se.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Qp(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),D(s,{code:N.not_finite,message:a.message}),n.dirty()):se.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,s,n){return new Nr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:V.toString(n)}]})}_addCheck(e){return new Nr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&se.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Nr.create=t=>new Nr({checks:[],typeName:H.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...K(t)});class Cr extends te{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==U.bigint){const a=this._getOrReturnCtx(e);return D(a,{code:N.invalid_type,expected:U.bigint,received:a.parsedType}),W}let s;const n=new Me;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),D(s,{code:N.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):se.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,V.toString(r))}gt(e,r){return this.setLimit("min",e,!1,V.toString(r))}lte(e,r){return this.setLimit("max",e,!0,V.toString(r))}lt(e,r){return this.setLimit("max",e,!1,V.toString(r))}setLimit(e,r,s,n){return new Cr({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:V.toString(n)}]})}_addCheck(e){return new Cr({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Cr.create=t=>{var e;return new Cr({checks:[],typeName:H.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...K(t)})};class Qn extends te{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.boolean,received:s.parsedType}),W}return ze(e.data)}}Qn.create=t=>new Qn({typeName:H.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...K(t)});class ss extends te{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const a=this._getOrReturnCtx(e);return D(a,{code:N.invalid_type,expected:U.date,received:a.parsedType}),W}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return D(a,{code:N.invalid_date}),W}const s=new Me;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),D(n,{code:N.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):se.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ss({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ss.create=t=>new ss({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:H.ZodDate,...K(t)});class Xn extends te{_parse(e){if(this._getType(e)!==U.symbol){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.symbol,received:s.parsedType}),W}return ze(e.data)}}Xn.create=t=>new Xn({typeName:H.ZodSymbol,...K(t)});class Bs extends te{_parse(e){if(this._getType(e)!==U.undefined){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.undefined,received:s.parsedType}),W}return ze(e.data)}}Bs.create=t=>new Bs({typeName:H.ZodUndefined,...K(t)});class zs extends te{_parse(e){if(this._getType(e)!==U.null){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.null,received:s.parsedType}),W}return ze(e.data)}}zs.create=t=>new zs({typeName:H.ZodNull,...K(t)});class Yn extends te{constructor(){super(...arguments),this._any=!0}_parse(e){return ze(e.data)}}Yn.create=t=>new Yn({typeName:H.ZodAny,...K(t)});class yr extends te{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ze(e.data)}}yr.create=t=>new yr({typeName:H.ZodUnknown,...K(t)});class $t extends te{_parse(e){const r=this._getOrReturnCtx(e);return D(r,{code:N.invalid_type,expected:U.never,received:r.parsedType}),W}}$t.create=t=>new $t({typeName:H.ZodNever,...K(t)});class Jn extends te{_parse(e){if(this._getType(e)!==U.undefined){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.void,received:s.parsedType}),W}return ze(e.data)}}Jn.create=t=>new Jn({typeName:H.ZodVoid,...K(t)});class ut extends te{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==U.array)return D(r,{code:N.invalid_type,expected:U.array,received:r.parsedType}),W;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,l=r.data.length<n.exactLength.value;(o||l)&&(D(r,{code:o?N.too_big:N.too_small,minimum:l?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(D(r,{code:N.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(D(r,{code:N.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>n.type._parseAsync(new ht(r,o,r.path,l)))).then(o=>Me.mergeArray(s,o));const a=[...r.data].map((o,l)=>n.type._parseSync(new ht(r,o,r.path,l)));return Me.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new ut({...this._def,minLength:{value:e,message:V.toString(r)}})}max(e,r){return new ut({...this._def,maxLength:{value:e,message:V.toString(r)}})}length(e,r){return new ut({...this._def,exactLength:{value:e,message:V.toString(r)}})}nonempty(e){return this.min(1,e)}}ut.create=(t,e)=>new ut({type:t,minLength:null,maxLength:null,exactLength:null,typeName:H.ZodArray,...K(e)});function fr(t){if(t instanceof we){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=_t.create(fr(s))}return new we({...t._def,shape:()=>e})}else return t instanceof ut?new ut({...t._def,type:fr(t.element)}):t instanceof _t?_t.create(fr(t.unwrap())):t instanceof ar?ar.create(fr(t.unwrap())):t instanceof Nt?Nt.create(t.items.map(e=>fr(e))):t}class we extends te{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=se.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==U.object){const u=this._getOrReturnCtx(e);return D(u,{code:N.invalid_type,expected:U.object,received:u.parsedType}),W}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $t&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=n.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new ht(n,h,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof $t){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:n.data[d]}});else if(u==="strict")l.length>0&&(D(n,{code:N.unrecognized_keys,keys:l}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=n.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new ht(n,h,n.path,d)),alwaysSet:d in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,y=await d.value;u.push({key:h,value:y,alwaysSet:d.alwaysSet})}return u}).then(u=>Me.mergeObjectSync(s,u)):Me.mergeObjectSync(s,c)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new we({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,o,l;const c=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(l=V.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new we({...this._def,unknownKeys:"strip"})}passthrough(){return new we({...this._def,unknownKeys:"passthrough"})}extend(e){return new we({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new we({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:H.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new we({...this._def,catchall:e})}pick(e){const r={};return se.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new we({...this._def,shape:()=>r})}omit(e){const r={};return se.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new we({...this._def,shape:()=>r})}deepPartial(){return fr(this)}partial(e){const r={};return se.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new we({...this._def,shape:()=>r})}required(e){const r={};return se.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof _t;)a=a._def.innerType;r[s]=a}}),new we({...this._def,shape:()=>r})}keyof(){return sc(se.objectKeys(this.shape))}}we.create=(t,e)=>new we({shape:()=>t,unknownKeys:"strip",catchall:$t.create(),typeName:H.ZodObject,...K(e)});we.strictCreate=(t,e)=>new we({shape:()=>t,unknownKeys:"strict",catchall:$t.create(),typeName:H.ZodObject,...K(e)});we.lazycreate=(t,e)=>new we({shape:t,unknownKeys:"strip",catchall:$t.create(),typeName:H.ZodObject,...K(e)});class qs extends te{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ke(l.ctx.common.issues));return D(r,{code:N.invalid_union,unionErrors:o}),W}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const c of s){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ke(c));return D(r,{code:N.invalid_union,unionErrors:l}),W}}get options(){return this._def.options}}qs.create=(t,e)=>new qs({options:t,typeName:H.ZodUnion,...K(e)});const xt=t=>t instanceof Zs?xt(t.schema):t instanceof Ct?xt(t.innerType()):t instanceof Gs?[t.value]:t instanceof nr?t.options:t instanceof Ks?se.objectValues(t.enum):t instanceof Qs?xt(t._def.innerType):t instanceof Bs?[void 0]:t instanceof zs?[null]:t instanceof _t?[void 0,...xt(t.unwrap())]:t instanceof ar?[null,...xt(t.unwrap())]:t instanceof nc||t instanceof Ys?xt(t.unwrap()):t instanceof Xs?xt(t._def.innerType):[];class Ia extends te{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==U.object)return D(r,{code:N.invalid_type,expected:U.object,received:r.parsedType}),W;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(D(r,{code:N.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),W)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const o=xt(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(n.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);n.set(l,a)}}return new Ia({typeName:H.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...K(s)})}}function ea(t,e){const r=Zt(t),s=Zt(e);if(t===e)return{valid:!0,data:t};if(r===U.object&&s===U.object){const n=se.objectKeys(e),a=se.objectKeys(t).filter(l=>n.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=ea(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===U.array&&s===U.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=ea(o,l);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===U.date&&s===U.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Hs extends te{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,o)=>{if(Ei(a)||Ei(o))return W;const l=ea(a.value,o.value);return l.valid?((ji(a)||ji(o))&&r.dirty(),{status:r.value,value:l.data}):(D(s,{code:N.invalid_intersection_types}),W)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Hs.create=(t,e,r)=>new Hs({left:t,right:e,typeName:H.ZodIntersection,...K(r)});class Nt extends te{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==U.array)return D(s,{code:N.invalid_type,expected:U.array,received:s.parsedType}),W;if(s.data.length<this._def.items.length)return D(s,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),W;!this._def.rest&&s.data.length>this._def.items.length&&(D(s,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ht(s,o,s.path,l)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>Me.mergeArray(r,o)):Me.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Nt({...this._def,rest:e})}}Nt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Nt({items:t,typeName:H.ZodTuple,rest:null,...K(e)})};class Ws extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==U.object)return D(s,{code:N.invalid_type,expected:U.object,received:s.parsedType}),W;const n=[],a=this._def.keyType,o=this._def.valueType;for(const l in s.data)n.push({key:a._parse(new ht(s,l,s.path,l)),value:o._parse(new ht(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?Me.mergeObjectAsync(r,n):Me.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof te?new Ws({keyType:e,valueType:r,typeName:H.ZodRecord,...K(s)}):new Ws({keyType:wt.create(),valueType:e,typeName:H.ZodRecord,...K(r)})}}class ta extends te{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==U.map)return D(s,{code:N.invalid_type,expected:U.map,received:s.parsedType}),W;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([l,c],u)=>({key:n._parse(new ht(s,l,s.path,[u,"key"])),value:a._parse(new ht(s,c,s.path,[u,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return W;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return W;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ta.create=(t,e,r)=>new ta({valueType:e,keyType:t,typeName:H.ZodMap,...K(r)});class Rr extends te{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==U.set)return D(s,{code:N.invalid_type,expected:U.set,received:s.parsedType}),W;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(D(s,{code:N.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(D(s,{code:N.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return W;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...s.data.values()].map((c,u)=>a._parse(new ht(s,c,s.path,u)));return s.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Rr({...this._def,minSize:{value:e,message:V.toString(r)}})}max(e,r){return new Rr({...this._def,maxSize:{value:e,message:V.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Rr.create=(t,e)=>new Rr({valueType:t,minSize:null,maxSize:null,typeName:H.ZodSet,...K(e)});class Kr extends te{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==U.function)return D(r,{code:N.invalid_type,expected:U.function,received:r.parsedType}),W;function s(l,c){return Kn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gn(),rs].filter(u=>!!u),issueData:{code:N.invalid_arguments,argumentsError:c}})}function n(l,c){return Kn({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gn(),rs].filter(u=>!!u),issueData:{code:N.invalid_return_type,returnTypeError:c}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof ns){const l=this;return ze(async function(...c){const u=new Ke([]),d=await l._def.args.parseAsync(c,a).catch(T=>{throw u.addIssue(s(c,T)),u}),h=await Reflect.apply(o,this,d);return await l._def.returns._def.type.parseAsync(h,a).catch(T=>{throw u.addIssue(n(h,T)),u})})}else{const l=this;return ze(function(...c){const u=l._def.args.safeParse(c,a);if(!u.success)throw new Ke([s(c,u.error)]);const d=Reflect.apply(o,this,u.data),h=l._def.returns.safeParse(d,a);if(!h.success)throw new Ke([n(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Kr({...this._def,args:Nt.create(e).rest(yr.create())})}returns(e){return new Kr({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new Kr({args:e||Nt.create([]).rest(yr.create()),returns:r||yr.create(),typeName:H.ZodFunction,...K(s)})}}class Zs extends te{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Zs.create=(t,e)=>new Zs({getter:t,typeName:H.ZodLazy,...K(e)});class Gs extends te{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return D(r,{received:r.data,code:N.invalid_literal,expected:this._def.value}),W}return{status:"valid",value:e.data}}get value(){return this._def.value}}Gs.create=(t,e)=>new Gs({value:t,typeName:H.ZodLiteral,...K(e)});function sc(t,e){return new nr({values:t,typeName:H.ZodEnum,...K(e)})}class nr extends te{constructor(){super(...arguments),zr.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return D(r,{expected:se.joinValues(s),received:r.parsedType,code:N.invalid_type}),W}if($s(this,zr)||ec(this,zr,new Set(this._def.values)),!$s(this,zr).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return D(r,{received:r.data,code:N.invalid_enum_value,options:s}),W}return ze(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return nr.create(e,{...this._def,...r})}exclude(e,r=this._def){return nr.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}zr=new WeakMap;nr.create=sc;class Ks extends te{constructor(){super(...arguments),qr.set(this,void 0)}_parse(e){const r=se.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==U.string&&s.parsedType!==U.number){const n=se.objectValues(r);return D(s,{expected:se.joinValues(n),received:s.parsedType,code:N.invalid_type}),W}if($s(this,qr)||ec(this,qr,new Set(se.getValidEnumValues(this._def.values))),!$s(this,qr).has(e.data)){const n=se.objectValues(r);return D(s,{received:s.data,code:N.invalid_enum_value,options:n}),W}return ze(e.data)}get enum(){return this._def.values}}qr=new WeakMap;Ks.create=(t,e)=>new Ks({values:t,typeName:H.ZodNativeEnum,...K(e)});class ns extends te{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==U.promise&&r.common.async===!1)return D(r,{code:N.invalid_type,expected:U.promise,received:r.parsedType}),W;const s=r.parsedType===U.promise?r.data:Promise.resolve(r.data);return ze(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ns.create=(t,e)=>new ns({type:t,typeName:H.ZodPromise,...K(e)});class Ct extends te{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===H.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{D(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return W;const c=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return c.status==="aborted"?W:c.status==="dirty"||r.value==="dirty"?Br(c.value):c});{if(r.value==="aborted")return W;const l=this._def.schema._parseSync({data:o,path:s.path,parent:s});return l.status==="aborted"?W:l.status==="dirty"||r.value==="dirty"?Br(l.value):l}}if(n.type==="refinement"){const o=l=>{const c=n.refinement(l,a);if(s.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?W:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?W:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Ls(o))return o;const l=n.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Ls(o)?Promise.resolve(n.transform(o.value,a)).then(l=>({status:r.value,value:l})):o);se.assertNever(n)}}Ct.create=(t,e,r)=>new Ct({schema:t,typeName:H.ZodEffects,effect:e,...K(r)});Ct.createWithPreprocess=(t,e,r)=>new Ct({schema:e,effect:{type:"preprocess",transform:t},typeName:H.ZodEffects,...K(r)});class _t extends te{_parse(e){return this._getType(e)===U.undefined?ze(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_t.create=(t,e)=>new _t({innerType:t,typeName:H.ZodOptional,...K(e)});class ar extends te{_parse(e){return this._getType(e)===U.null?ze(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ar.create=(t,e)=>new ar({innerType:t,typeName:H.ZodNullable,...K(e)});class Qs extends te{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===U.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Qs.create=(t,e)=>new Qs({innerType:t,typeName:H.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...K(e)});class Xs extends te{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Vs(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ke(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new Ke(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Xs.create=(t,e)=>new Xs({innerType:t,typeName:H.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...K(e)});class ra extends te{_parse(e){if(this._getType(e)!==U.nan){const s=this._getOrReturnCtx(e);return D(s,{code:N.invalid_type,expected:U.nan,received:s.parsedType}),W}return{status:"valid",value:e.data}}}ra.create=t=>new ra({typeName:H.ZodNaN,...K(t)});class nc extends te{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class gn extends te{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?W:a.status==="dirty"?(r.dirty(),Br(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?W:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new gn({in:e,out:r,typeName:H.ZodPipeline})}}class Ys extends te{_parse(e){const r=this._def.innerType._parse(e),s=n=>(Ls(n)&&(n.value=Object.freeze(n.value)),n);return Vs(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}Ys.create=(t,e)=>new Ys({innerType:t,typeName:H.ZodReadonly,...K(e)});we.lazycreate;var H;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(H||(H={}));const Qr=wt.create,Xp=Nr.create;ra.create;Cr.create;Qn.create;ss.create;Xn.create;Bs.create;zs.create;Yn.create;yr.create;$t.create;Jn.create;ut.create;const ac=we.create;we.strictCreate;qs.create;Ia.create;Hs.create;Nt.create;Ws.create;ta.create;Rr.create;Kr.create;Zs.create;Gs.create;nr.create;Ks.create;ns.create;Ct.create;_t.create;ar.create;Ct.createWithPreprocess;gn.create;var Yp="Label",ic=f.forwardRef((t,e)=>i.jsx(ve.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ic.displayName=Yp;var oc=ic;const Jp=_a("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Be=f.forwardRef(({className:t,...e},r)=>i.jsx(oc,{ref:r,className:B(Jp(),t),...e}));Be.displayName=oc.displayName;const lc=mp,cc=f.createContext({}),pr=({...t})=>i.jsx(cc.Provider,{value:{name:t.name},children:i.jsx(xp,{...t})}),yn=()=>{const t=f.useContext(cc),e=f.useContext(uc),{getFieldState:r,formState:s}=mn(),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},uc=f.createContext({}),Kt=f.forwardRef(({className:t,...e},r)=>{const s=f.useId();return i.jsx(uc.Provider,{value:{id:s},children:i.jsx("div",{ref:r,className:B("space-y-2",t),...e})})});Kt.displayName="FormItem";const Qt=f.forwardRef(({className:t,...e},r)=>{const{error:s,formItemId:n}=yn();return i.jsx(Be,{ref:r,className:B(s&&"text-destructive",t),htmlFor:n,...e})});Qt.displayName="FormLabel";const Xt=f.forwardRef(({...t},e)=>{const{error:r,formItemId:s,formDescriptionId:n,formMessageId:a}=yn();return i.jsx(da,{ref:e,id:s,"aria-describedby":r?`${n} ${a}`:`${n}`,"aria-invalid":!!r,...t})});Xt.displayName="FormControl";const em=f.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:s}=yn();return i.jsx("p",{ref:r,id:s,className:B("text-sm text-muted-foreground",t),...e})});em.displayName="FormDescription";const Yt=f.forwardRef(({className:t,children:e,...r},s)=>{const{error:n,formMessageId:a}=yn(),o=n?String(n==null?void 0:n.message):e;return o?i.jsx("p",{ref:s,id:a,className:B("text-sm font-medium text-destructive",t),...r,children:o}):null});Yt.displayName="FormMessage";const Ce=f.forwardRef(({className:t,type:e,...r},s)=>i.jsx("input",{type:e,className:B("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));Ce.displayName="Input";const tm=Hu,rm=Wu,sm=qu,dc=f.forwardRef(({className:t,...e},r)=>i.jsx(ro,{ref:r,className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));dc.displayName=ro.displayName;const fc=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(sm,{children:[i.jsx(dc,{}),i.jsxs(so,{ref:s,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,i.jsxs(zu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(Ji,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fc.displayName=so.displayName;const hc=({className:t,...e})=>i.jsx("div",{className:B("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});hc.displayName="DialogHeader";const pc=f.forwardRef(({className:t,...e},r)=>i.jsx(no,{ref:r,className:B("text-lg font-semibold leading-none tracking-tight",t),...e}));pc.displayName=no.displayName;const nm=f.forwardRef(({className:t,...e},r)=>i.jsx(ao,{ref:r,className:B("text-sm text-muted-foreground",t),...e}));nm.displayName=ao.displayName;function am(){const[t,e]=f.useState(""),[r,s]=f.useState(!1),{toast:n}=pt(),a=async o=>{if(o.preventDefault(),o.stopPropagation(),!t){n({variant:"destructive",title:"Error",description:"Please enter your email address"});return}try{await ep(t),n({title:"Success",description:"Password reset email sent. Please check your inbox."}),e(""),s(!1)}catch(l){n({variant:"destructive",title:"Error",description:l.message})}};return i.jsxs(tm,{open:r,onOpenChange:s,children:[i.jsx(rm,{asChild:!0,children:i.jsx(ge,{variant:"link",className:"px-0 font-normal",children:"Forgot password?"})}),i.jsxs(fc,{className:"sm:max-w-[425px]",children:[i.jsx(hc,{children:i.jsx(pc,{children:"Reset Password"})}),i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsx(Ce,{type:"email",placeholder:"Enter your email",value:t,onChange:o=>e(o.target.value),required:!0}),i.jsx(ge,{type:"submit",className:"w-full",children:"Send Reset Link"})]})]})]})}var mc={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ni=re.createContext&&re.createContext(mc),im=["attr","size","title"];function om(t,e){if(t==null)return{};var r=lm(t,e),s,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)s=a[n],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(r[s]=t[s])}return r}function lm(t,e){if(t==null)return{};var r={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(e.indexOf(s)>=0)continue;r[s]=t[s]}return r}function Js(){return Js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Js.apply(this,arguments)}function Ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,s)}return r}function en(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ci(Object(r),!0).forEach(function(s){cm(t,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(r,s))})}return t}function cm(t,e,r){return e=um(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function um(t){var e=dm(t,"string");return typeof e=="symbol"?e:e+""}function dm(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var s=r.call(t,e||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gc(t){return t&&t.map((e,r)=>re.createElement(e.tag,en({key:r},e.attr),gc(e.child)))}function yc(t){return e=>re.createElement(fm,Js({attr:en({},t.attr)},e),gc(t.child))}function fm(t){var e=r=>{var{attr:s,size:n,title:a}=t,o=om(t,im),l=n||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),re.createElement("svg",Js({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,s,o,{className:c,style:en(en({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&re.createElement("title",null,a),t.children)};return Ni!==void 0?re.createElement(Ni.Consumer,null,r=>e(r)):e(mc)}function vc(t){return yc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"},child:[]}]})(t)}function xc(t){return yc({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(t)}const hm=ac({email:Qr().email(),password:Qr().min(6)});function pm(){const{toast:t}=pt(),e=Xl({resolver:Jl(hm),defaultValues:{email:"",password:""}});async function r(a){try{await Yh(a.email,a.password),t({title:"Success",description:"You have been logged in"})}catch(o){t({variant:"destructive",title:"Login Error",description:o.message||"Failed to log in. Please try again."})}}const s=async()=>{try{await vl(),t({title:"Success",description:"You have been logged in with Google"})}catch(a){t({variant:"destructive",title:"Google Sign-In Error",description:a.message})}},n=async()=>{try{await xl(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(a){t({variant:"destructive",title:"Facebook Sign-In Error",description:a.message})}};return i.jsxs(dt,{className:"w-[350px]",children:[i.jsx(jt,{children:i.jsx(kt,{children:"Login"})}),i.jsx(ft,{children:i.jsx(lc,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-4",children:[i.jsx(pr,{control:e.control,name:"email",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Email"}),i.jsx(Xt,{children:i.jsx(Ce,{placeholder:"email@example.com",...a})}),i.jsx(Yt,{})]})}),i.jsx(pr,{control:e.control,name:"password",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Password"}),i.jsx(Xt,{children:i.jsx(Ce,{type:"password",...a})}),i.jsx(Yt,{})]})}),i.jsx("div",{className:"text-sm",children:i.jsx(am,{})}),i.jsx(ge,{type:"submit",className:"w-full",children:"Sign in"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[i.jsx(xc,{className:"mr-2 h-4 w-4"}),"Google"]}),i.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:n,children:[i.jsx(vc,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}const mm=ac({email:Qr().email(),password:Qr().min(6),name:Qr().min(2),age:Xp().min(13).max(120)});function gm(){const{toast:t}=pt(),e=Xl({resolver:Jl(mm),defaultValues:{email:"",password:"",name:"",age:18}});async function r(a){try{await Xh(a),t({title:"Success",description:"Please verify your email to continue"})}catch(o){t({variant:"destructive",title:"Error",description:o.message})}}const s=async()=>{try{await vl(),t({title:"Success",description:"You have been logged in with Google"})}catch(a){t({variant:"destructive",title:"Error",description:a.message})}},n=async()=>{try{await xl(),t({title:"Success",description:"You have been logged in with Facebook"})}catch(a){t({variant:"destructive",title:"Error",description:a.message})}};return i.jsxs(dt,{className:"w-[350px]",children:[i.jsx(jt,{children:i.jsx(kt,{children:"Sign up"})}),i.jsx(ft,{children:i.jsx(lc,{...e,children:i.jsxs("form",{onSubmit:e.handleSubmit(r),className:"space-y-4",children:[i.jsx(pr,{control:e.control,name:"email",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Email"}),i.jsx(Xt,{children:i.jsx(Ce,{placeholder:"email@example.com",...a})}),i.jsx(Yt,{})]})}),i.jsx(pr,{control:e.control,name:"password",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Password"}),i.jsx(Xt,{children:i.jsx(Ce,{type:"password",...a})}),i.jsx(Yt,{})]})}),i.jsx(pr,{control:e.control,name:"name",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Name"}),i.jsx(Xt,{children:i.jsx(Ce,{...a})}),i.jsx(Yt,{})]})}),i.jsx(pr,{control:e.control,name:"age",render:({field:a})=>i.jsxs(Kt,{children:[i.jsx(Qt,{children:"Age"}),i.jsx(Xt,{children:i.jsx(Ce,{type:"number",...a,onChange:o=>a.onChange(parseInt(o.target.value))})}),i.jsx(Yt,{})]})}),i.jsx(ge,{type:"submit",className:"w-full",children:"Sign up"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:"Or continue with"})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:s,children:[i.jsx(xc,{className:"mr-2 h-4 w-4"}),"Google"]}),i.jsxs(ge,{type:"button",variant:"outline",className:"w-full",onClick:n,children:[i.jsx(vc,{className:"mr-2 h-4 w-4"}),"Facebook"]})]})]})})})]})}function ym(){const{user:t}=cs(),[e,r]=No();return f.useEffect(()=>{t!=null&&t.emailVerified&&r("/welcome")},[t,r]),f.useEffect(()=>{t&&t.emailVerified&&r("/welcome")},[t,r]),i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Welcome to Auth Demo"}),i.jsxs(fp,{defaultValue:"login",className:"w-[350px]",children:[i.jsxs(Ol,{className:"grid w-full grid-cols-2",children:[i.jsx(Hn,{value:"login",children:"Login"}),i.jsx(Hn,{value:"signup",children:"Sign up"})]}),i.jsx(Wn,{value:"login",children:i.jsx(pm,{})}),i.jsx(Wn,{value:"signup",children:i.jsx(gm,{})})]})]})})}function bc(){var o;const{toast:t}=pt(),[e,r]=f.useState(!1);if((o=Se.currentUser)==null?void 0:o.providerData.some(l=>l.providerId==="facebook.com"))return null;const n=async()=>{try{await Jh(),t({title:"Success",description:"Verification email sent"})}catch(l){t({variant:"destructive",title:"Error",description:l.message})}},a=async()=>{var l,c;r(!0);try{if(await((l=Se.currentUser)==null?void 0:l.reload()),(c=Se.currentUser)!=null&&c.emailVerified){window.location.reload();return}t({variant:"destructive",title:"Not verified",description:"Please check your email and verify your address before continuing"})}catch(u){t({variant:"destructive",title:"Error",description:u.message})}finally{r(!1)}};return i.jsxs(dt,{className:"w-[350px]",children:[i.jsx(jt,{children:i.jsx(kt,{children:"Verify your email"})}),i.jsxs(ft,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Please check your email for a verification link. Once verified, click the button below to continue."}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(ge,{onClick:a,className:"w-full",disabled:e,children:e?"Checking...":"Verify and Continue"}),i.jsx(ge,{onClick:n,variant:"outline",className:"w-full",disabled:e,children:"Resend verification email"})]})]})]})}function Pr({className:t,...e}){return i.jsx("div",{className:B("animate-pulse rounded-md bg-muted",t),...e})}function Ri(){var l;const{user:t,loading:e,verified:r}=Ea(),{toast:s}=pt(),[,n]=No(),a=async()=>{try{await Qh(),s({title:"Account deleted",description:"Your account has been successfully deleted"}),n("/")}catch(c){s({variant:"destructive",title:"Error",description:c.message})}};if(e)return i.jsxs("div",{className:"container py-8",children:[i.jsx(Pr,{className:"h-8 w-[200px]"}),i.jsx(Pr,{className:"mt-4 h-32 w-full"})]});if(!r)return i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsx(bc,{})});const o=((l=t==null?void 0:t.displayName)==null?void 0:l.split("|")[0])||"User";return i.jsxs("div",{className:"container py-8",children:[i.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome, ",o,"!"]}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"You've successfully logged in and verified your email."}),i.jsx("div",{className:"mt-8",children:i.jsx(ge,{variant:"destructive",onClick:a,className:"w-full max-w-xs",children:"Delete Account"})})]})}const wc=f.forwardRef(({className:t,...e},r)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:r,className:B("w-full caption-bottom text-sm",t),...e})}));wc.displayName="Table";const _c=f.forwardRef(({className:t,...e},r)=>i.jsx("thead",{ref:r,className:B("[&_tr]:border-b",t),...e}));_c.displayName="TableHeader";const Sc=f.forwardRef(({className:t,...e},r)=>i.jsx("tbody",{ref:r,className:B("[&_tr:last-child]:border-0",t),...e}));Sc.displayName="TableBody";const vm=f.forwardRef(({className:t,...e},r)=>i.jsx("tfoot",{ref:r,className:B("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));vm.displayName="TableFooter";const sa=f.forwardRef(({className:t,...e},r)=>i.jsx("tr",{ref:r,className:B("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));sa.displayName="TableRow";const Ht=f.forwardRef(({className:t,...e},r)=>i.jsx("th",{ref:r,className:B("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ht.displayName="TableHead";const Wt=f.forwardRef(({className:t,...e},r)=>i.jsx("td",{ref:r,className:B("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Wt.displayName="TableCell";const xm=f.forwardRef(({className:t,...e},r)=>i.jsx("caption",{ref:r,className:B("mt-4 text-sm text-muted-foreground",t),...e}));xm.displayName="TableCaption";const Dn=Gu,Fn=Ku,bm=Zu,Tc=f.forwardRef(({className:t,...e},r)=>i.jsx(io,{className:B("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));Tc.displayName=io.displayName;const js=f.forwardRef(({className:t,...e},r)=>i.jsxs(bm,{children:[i.jsx(Tc,{}),i.jsx(oo,{ref:r,className:B("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));js.displayName=oo.displayName;const ks=({className:t,...e})=>i.jsx("div",{className:B("flex flex-col space-y-2 text-center sm:text-left",t),...e});ks.displayName="AlertDialogHeader";const Ns=({className:t,...e})=>i.jsx("div",{className:B("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ns.displayName="AlertDialogFooter";const Cs=f.forwardRef(({className:t,...e},r)=>i.jsx(lo,{ref:r,className:B("text-lg font-semibold",t),...e}));Cs.displayName=lo.displayName;const Rs=f.forwardRef(({className:t,...e},r)=>i.jsx(co,{ref:r,className:B("text-sm text-muted-foreground",t),...e}));Rs.displayName=co.displayName;const Ps=f.forwardRef(({className:t,...e},r)=>i.jsx(uo,{ref:r,className:B(Ta(),t),...e}));Ps.displayName=uo.displayName;const As=f.forwardRef(({className:t,...e},r)=>i.jsx(fo,{ref:r,className:B(Ta({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));As.displayName=fo.displayName;function wm(){const{loading:t}=np(),[e,r]=f.useState([]),[s,n]=f.useState(!0),{toast:a}=pt();f.useEffect(()=>{async function d(){try{const h=await Kh();r(h)}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to load users"})}finally{n(!1)}}t||d()},[t,a]);const o=async(d,h)=>{try{await ls(d,h),r(y=>y.map(T=>T.userId===d?{...T,role:h,updatedAt:new Date().toISOString()}:T)),a({title:"Success",description:`User role updated to ${h}`})}catch(y){a({variant:"destructive",title:"Error",description:y.message||"Failed to update user role"})}},l=async d=>{try{await sp(d),r(h=>h.map(y=>y.userId===d?{...y,role:"user",updatedAt:new Date().toISOString()}:y)),a({title:"Success",description:"User has been enabled"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to enable user"})}},c=async d=>{try{await rp(d),r(h=>h.map(y=>y.userId===d?{...y,role:"disabled",updatedAt:new Date().toISOString()}:y)),a({title:"Success",description:"User has been disabled"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to disable user"})}},u=async d=>{try{await fi(d),await fi(d),r(h=>h.filter(y=>y.userId!==d)),a({title:"Success",description:"User has been permanently deleted"})}catch(h){a({variant:"destructive",title:"Error",description:h.message||"Failed to delete user"})}};return t||s?i.jsxs("div",{className:"container py-8",children:[i.jsx(Pr,{className:"h-8 w-[200px]"}),i.jsx(Pr,{className:"mt-4 h-32 w-full"})]}):i.jsxs("div",{className:"container py-8",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Manage users and their roles"})]})}),i.jsx("div",{className:"mt-8 rounded-md border",children:i.jsxs(wc,{children:[i.jsx(_c,{children:i.jsxs(sa,{children:[i.jsx(Ht,{children:"User"}),i.jsx(Ht,{children:"User ID"}),i.jsx(Ht,{children:"Email"}),i.jsx(Ht,{children:"Role"}),i.jsx(Ht,{children:"Last Updated"}),i.jsx(Ht,{className:"text-right",children:"Actions"})]})}),i.jsx(Sc,{children:e.map(d=>i.jsxs(sa,{children:[i.jsx(Wt,{children:d.displayName||"N/A"}),i.jsx(Wt,{className:"font-mono text-sm text-muted-foreground",children:d.userId}),i.jsx(Wt,{children:d.email||"N/A"}),i.jsx(Wt,{className:"capitalize",children:d.role}),i.jsx(Wt,{children:new Date(d.updatedAt).toLocaleDateString()}),i.jsx(Wt,{children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.role==="disabled"?i.jsxs(Dn,{children:[i.jsx(Fn,{asChild:!0,children:i.jsxs(ge,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(Ha,{className:"h-4 w-4"}),"Enable User"]})}),i.jsxs(js,{children:[i.jsxs(ks,{children:[i.jsx(Cs,{children:"Enable User Account"}),i.jsx(Rs,{children:"This action will restore the user's access to the application."})]}),i.jsxs(Ns,{children:[i.jsx(As,{children:"Cancel"}),i.jsx(Ps,{onClick:()=>l(d.userId),className:"bg-green-600 text-white hover:bg-green-700",children:"Enable User"})]})]})]}):i.jsx(ge,{variant:"outline",size:"sm",onClick:()=>o(d.userId,d.role==="admin"?"user":"admin"),children:d.role==="admin"?i.jsxs(i.Fragment,{children:[i.jsx(Qu,{className:"mr-2 h-4 w-4"}),"Remove Admin"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Make Admin"]})}),i.jsxs(Dn,{children:[i.jsx(Fn,{asChild:!0,children:i.jsxs(ge,{variant:"destructive",size:"sm",className:"gap-2",disabled:d.role==="disabled",children:[i.jsx(Xu,{className:"h-4 w-4"}),"Disable User"]})}),i.jsxs(js,{children:[i.jsxs(ks,{children:[i.jsx(Cs,{children:"Disable User Account"}),i.jsx(Rs,{children:"This action will disable the user account. The user will no longer be able to access the application."})]}),i.jsxs(Ns,{children:[i.jsx(As,{children:"Cancel"}),i.jsx(Ps,{onClick:()=>c(d.userId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Disable"})]})]})]}),i.jsxs(Dn,{children:[i.jsx(Fn,{asChild:!0,children:i.jsxs(ge,{variant:"destructive",size:"sm",className:"gap-2",children:[i.jsx(Yu,{className:"h-4 w-4"}),"Delete User"]})}),i.jsxs(js,{children:[i.jsxs(ks,{children:[i.jsx(Cs,{children:"Permanently Delete User"}),i.jsx(Rs,{children:"This will permanently delete the user account and all associated data. This action cannot be undone."})]}),i.jsxs(Ns,{children:[i.jsx(As,{children:"Cancel"}),i.jsx(Ps,{onClick:()=>u(d.userId),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})})]},d.userId))})]})})]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec="firebasestorage.googleapis.com",jc="storageBucket",_m=2*60*1e3,Sm=10*60*1e3,Tm=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe extends Fd{constructor(e,r,s=0){super(Mn(e),`Firebase Storage: ${r} (${Mn(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,xe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Mn(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ye;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ye||(ye={}));function Mn(t){return"storage/"+t}function Oa(){const t="An unknown error occurred, please check the error payload for server response.";return new xe(ye.UNKNOWN,t)}function Em(t){return new xe(ye.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function jm(t){return new xe(ye.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function km(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new xe(ye.UNAUTHENTICATED,t)}function Nm(){return new xe(ye.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Cm(t){return new xe(ye.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function kc(){return new xe(ye.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Nc(){return new xe(ye.CANCELED,"User canceled the upload/download.")}function Rm(t){return new xe(ye.INVALID_URL,"Invalid URL '"+t+"'.")}function Pm(t){return new xe(ye.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Am(){return new xe(ye.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+jc+"' property when initializing the app?")}function Cc(){return new xe(ye.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Im(){return new xe(ye.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Om(){return new xe(ye.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Dm(t){return new xe(ye.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function na(t){return new xe(ye.INVALID_ARGUMENT,t)}function Rc(){return new xe(ye.APP_DELETED,"The Firebase app was deleted.")}function Fm(t){return new xe(ye.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xr(t,e){return new xe(ye.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function $r(t){throw new xe(ye.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let s;try{s=He.makeFromUrl(e,r)}catch{return new He(e,"")}if(s.path==="")return s;throw Pm(e)}static makeFromUrl(e,r){let s=null;const n="([A-Za-z0-9.\\-_]+)";function a(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+n+o,"i"),c={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",T=new RegExp(`^https?://${h}/${d}/b/${n}/o${y}`,"i"),S={bucket:1,path:3},g=r===Ec?"(?:storage.googleapis.com|storage.cloud.google.com)":r,m="([^?#]*)",j=new RegExp(`^https?://${g}/${n}/${m}`,"i"),x=[{regex:l,indices:c,postModify:a},{regex:T,indices:S,postModify:u},{regex:j,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<x.length;E++){const k=x[E],L=k.regex.exec(e);if(L){const O=L[k.indices.bucket];let A=L[k.indices.path];A||(A=""),s=new He(O,A),k.postModify(s);break}}if(s==null)throw Rm(e);return s}}class Mm{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e,r){let s=1,n=null,a=null,o=!1,l=0;function c(){return l===2}let u=!1;function d(...m){u||(u=!0,e.apply(null,m))}function h(m){n=setTimeout(()=>{n=null,t(T,c())},m)}function y(){a&&clearTimeout(a)}function T(m,...j){if(u){y();return}if(m){y(),d.call(null,m,...j);return}if(c()||o){y(),d.call(null,m,...j);return}s<64&&(s*=2);let x;l===1?(l=2,x=0):x=(s+Math.random())*1e3,h(x)}let S=!1;function g(m){S||(S=!0,y(),!u&&(n!==null?(m||(l=2),clearTimeout(n),h(0)):m||(l=1)))}return h(0),a=setTimeout(()=>{o=!0,g(!0)},r),g}function Lm(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){return t!==void 0}function $m(t){return typeof t=="function"}function Bm(t){return typeof t=="object"&&!Array.isArray(t)}function vn(t){return typeof t=="string"||t instanceof String}function Pi(t){return Da()&&t instanceof Blob}function Da(){return typeof Blob<"u"}function Ai(t,e,r,s){if(s<e)throw na(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>r)throw na(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e,r){let s=e;return r==null&&(s=`https://${e}`),`${r}://${s}/v0${t}`}function Pc(t){const e=encodeURIComponent;let r="?";for(const s in t)if(t.hasOwnProperty(s)){const n=e(s)+"="+e(t[s]);r=r+n+"&"}return r=r.slice(0,-1),r}var sr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(sr||(sr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e){const r=t>=500&&t<600,n=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||n||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,r,s,n,a,o,l,c,u,d,h,y=!0){this.url_=e,this.method_=r,this.headers_=s,this.body_=n,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(s,n)=>{if(n){s(!1,new bs(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const l=a.getErrorCode()===sr.NO_ERROR,c=a.getStatus();if(!l||Ac(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===sr.ABORT;s(!1,new bs(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new bs(u,a))})},r=(s,n)=>{const a=this.resolve_,o=this.reject_,l=n.connection;if(n.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Vm(c)?a(c):a()}catch(c){o(c)}else if(l!==null){const c=Oa();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(n.canceled){const c=this.appDelete_?Rc():Nc();o(c)}else{const c=kc();o(c)}};this.canceled_?r(!1,new bs(!1,null,!0)):this.backoffId_=Um(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lm(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class bs{constructor(e,r,s){this.wasSuccessCode=e,this.connection=r,this.canceled=!!s}}function qm(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Hm(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Wm(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Zm(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Gm(t,e,r,s,n,a,o=!0){const l=Pc(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return Wm(u,e),qm(u,r),Hm(u,a),Zm(u,s),new zm(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Qm(...t){const e=Km();if(e!==void 0){const r=new e;for(let s=0;s<t.length;s++)r.append(t[s]);return r.getBlob()}else{if(Da())return new Blob(t);throw new xe(ye.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Xm(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(t){if(typeof atob>"u")throw Dm("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Un{constructor(e,r){this.data=e,this.contentType=r||null}}function Jm(t,e){switch(t){case ct.RAW:return new Un(Ic(e));case ct.BASE64:case ct.BASE64URL:return new Un(Oc(t,e));case ct.DATA_URL:return new Un(tg(e),rg(e))}throw Oa()}function Ic(t){const e=[];for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=s,o=t.charCodeAt(++r);s=65536|(a&1023)<<10|o&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function eg(t){let e;try{e=decodeURIComponent(t)}catch{throw Xr(ct.DATA_URL,"Malformed data URL.")}return Ic(e)}function Oc(t,e){switch(t){case ct.BASE64:{const n=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(n||a)throw Xr(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case ct.BASE64URL:{const n=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(n||a)throw Xr(t,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=Ym(e)}catch(n){throw n.message.includes("polyfill")?n:Xr(t,"Invalid character found")}const s=new Uint8Array(r.length);for(let n=0;n<r.length;n++)s[n]=r.charCodeAt(n);return s}class Dc{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw Xr(ct.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=r[1]||null;s!=null&&(this.base64=sg(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function tg(t){const e=new Dc(t);return e.base64?Oc(ct.BASE64,e.rest):eg(e.rest)}function rg(t){return new Dc(t).contentType}function sg(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,r){let s=0,n="";Pi(e)?(this.data_=e,s=e.size,n=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=n}size(){return this.size_}type(){return this.type_}slice(e,r){if(Pi(this.data_)){const s=this.data_,n=Xm(s,e,r);return n===null?null:new Dt(n)}else{const s=new Uint8Array(this.data_.buffer,e,r-e);return new Dt(s,!0)}}static getBlob(...e){if(Da()){const r=e.map(s=>s instanceof Dt?s.data_:s);return new Dt(Qm.apply(null,r))}else{const r=e.map(o=>vn(o)?Jm(ct.RAW,o).data:o.data_);let s=0;r.forEach(o=>{s+=o.byteLength});const n=new Uint8Array(s);let a=0;return r.forEach(o=>{for(let l=0;l<o.length;l++)n[a++]=o[l]}),new Dt(n,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(t){let e;try{e=JSON.parse(t)}catch{return null}return Bm(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ag(t,e){const r=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?r:t+"/"+r}function Mc(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){return e}class Ie{constructor(e,r,s,n){this.server=e,this.local=r||e,this.writable=!!s,this.xform=n||ig}}let ws=null;function og(t){return!vn(t)||t.length<2?t:Mc(t)}function Uc(){if(ws)return ws;const t=[];t.push(new Ie("bucket")),t.push(new Ie("generation")),t.push(new Ie("metageneration")),t.push(new Ie("name","fullPath",!0));function e(a,o){return og(o)}const r=new Ie("name");r.xform=e,t.push(r);function s(a,o){return o!==void 0?Number(o):o}const n=new Ie("size");return n.xform=s,t.push(n),t.push(new Ie("timeCreated")),t.push(new Ie("updated")),t.push(new Ie("md5Hash",null,!0)),t.push(new Ie("cacheControl",null,!0)),t.push(new Ie("contentDisposition",null,!0)),t.push(new Ie("contentEncoding",null,!0)),t.push(new Ie("contentLanguage",null,!0)),t.push(new Ie("contentType",null,!0)),t.push(new Ie("metadata","customMetadata",!0)),ws=t,ws}function lg(t,e){function r(){const s=t.bucket,n=t.fullPath,a=new He(s,n);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function cg(t,e,r){const s={};s.type="file";const n=r.length;for(let a=0;a<n;a++){const o=r[a];s[o.local]=o.xform(s,e[o.server])}return lg(s,t),s}function Lc(t,e,r){const s=Fc(e);return s===null?null:cg(t,s,r)}function ug(t,e,r,s){const n=Fc(e);if(n===null||!vn(n.downloadTokens))return null;const a=n.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(u=>{const d=t.bucket,h=t.fullPath,y="/b/"+o(d)+"/o/"+o(h),T=ds(y,r,s),S=Pc({alt:"media",token:u});return T+S})[0]}function Vc(t,e){const r={},s=e.length;for(let n=0;n<s;n++){const a=e[n];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class Or{constructor(e,r,s,n){this.url=e,this.method=r,this.handler=s,this.timeout=n,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){if(!t)throw Oa()}function Fa(t,e){function r(s,n){const a=Lc(t,n,e);return St(a!==null),a}return r}function dg(t,e){function r(s,n){const a=Lc(t,n,e);return St(a!==null),ug(a,n,t.host,t._protocol)}return r}function fs(t){function e(r,s){let n;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?n=Nm():n=km():r.getStatus()===402?n=jm(t.bucket):r.getStatus()===403?n=Cm(t.path):n=s,n.status=r.getStatus(),n.serverResponse=s.serverResponse,n}return e}function $c(t){const e=fs(t);function r(s,n){let a=e(s,n);return s.getStatus()===404&&(a=Em(t.path)),a.serverResponse=n.serverResponse,a}return r}function fg(t,e,r){const s=e.fullServerUrl(),n=ds(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new Or(n,a,Fa(t,r),o);return l.errorHandler=$c(e),l}function hg(t,e,r){const s=e.fullServerUrl(),n=ds(s,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,l=new Or(n,a,dg(t,r),o);return l.errorHandler=$c(e),l}function pg(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Bc(t,e,r){const s=Object.assign({},r);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=pg(null,e)),s}function mg(t,e,r,s,n){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let E=0;E<2;E++)x=x+Math.random().toString().slice(2);return x}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const u=Bc(e,s,n),d=Vc(u,r),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,y=`\r
--`+c+"--",T=Dt.getBlob(h,s,y);if(T===null)throw Cc();const S={name:u.fullPath},g=ds(a,t.host,t._protocol),m="POST",j=t.maxUploadRetryTime,b=new Or(g,m,Fa(t,r),j);return b.urlParams=S,b.headers=o,b.body=T.uploadData(),b.errorHandler=fs(e),b}class tn{constructor(e,r,s,n){this.current=e,this.total=r,this.finalized=!!s,this.metadata=n||null}}function Ma(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{St(!1)}return St(!!r&&(e||["active"]).indexOf(r)!==-1),r}function gg(t,e,r,s,n){const a=e.bucketOnlyServerUrl(),o=Bc(e,s,n),l={name:o.fullPath},c=ds(a,t.host,t._protocol),u="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=Vc(o,r),y=t.maxUploadRetryTime;function T(g){Ma(g);let m;try{m=g.getResponseHeader("X-Goog-Upload-URL")}catch{St(!1)}return St(vn(m)),m}const S=new Or(c,u,T,y);return S.urlParams=l,S.headers=d,S.body=h,S.errorHandler=fs(e),S}function yg(t,e,r,s){const n={"X-Goog-Upload-Command":"query"};function a(u){const d=Ma(u,["active","final"]);let h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{St(!1)}h||St(!1);const y=Number(h);return St(!isNaN(y)),new tn(y,s.size(),d==="final")}const o="POST",l=t.maxUploadRetryTime,c=new Or(r,o,a,l);return c.headers=n,c.errorHandler=fs(e),c}const Ii=256*1024;function vg(t,e,r,s,n,a,o,l){const c=new tn(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=s.size()),s.size()!==c.total)throw Im();const u=c.total-c.current;let d=u;n>0&&(d=Math.min(d,n));const h=c.current,y=h+d;let T="";d===0?T="finalize":u===d?T="upload, finalize":T="upload";const S={"X-Goog-Upload-Command":T,"X-Goog-Upload-Offset":`${c.current}`},g=s.slice(h,y);if(g===null)throw Cc();function m(E,k){const L=Ma(E,["active","final"]),O=c.current+d,A=s.size();let q;return L==="final"?q=Fa(e,a)(E,k):q=null,new tn(O,A,L==="final",q)}const j="POST",b=e.maxUploadRetryTime,x=new Or(r,j,m,b);return x.headers=S,x.body=g.uploadData(),x.progressCallback=l||null,x.errorHandler=fs(t),x}const $e={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Ln(t){switch(t){case"running":case"pausing":case"canceling":return $e.RUNNING;case"paused":return $e.PAUSED;case"success":return $e.SUCCESS;case"canceled":return $e.CANCELED;case"error":return $e.ERROR;default:return $e.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,r,s){if($m(e)||r!=null||s!=null)this.next=e,this.error=r??void 0,this.complete=s??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class bg{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=sr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=sr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=sr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,s,n){if(this.sent_)throw $r("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),n!==void 0)for(const a in n)n.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,n[a].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw $r("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw $r("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw $r("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw $r("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class wg extends bg{initXhr(){this.xhr_.responseType="text"}}function hr(){return new wg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=s,this._mappings=Uc(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=n=>{if(this._request=void 0,this._chunkMultiplier=1,n._codeEquals(ye.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(Ac(n.status,[]))if(a)n=kc();else{this.sleepTime=Math.max(this.sleepTime*2,Tm),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=n,this._transition("error")}},this._metadataErrorHandler=n=>{this._request=void 0,n._codeEquals(ye.CANCELED)?this.completeTransitions_():(this._error=n,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((n,a)=>{this._resolve=n,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,s])=>{switch(this._state){case"running":e(r,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const s=gg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,hr,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,s)=>{const n=yg(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(n,hr,r,s);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Ii*this._chunkMultiplier,r=new tn(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((n,a)=>{let o;try{o=vg(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}const l=this._ref.storage._makeRequest(o,hr,n,a,!1);this._request=l,l.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Ii*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const s=fg(this._ref.storage,this._ref._location,this._mappings),n=this._ref.storage._makeRequest(s,hr,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const s=mg(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),n=this._ref.storage._makeRequest(s,hr,e,r);this._request=n,n.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Nc(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Ln(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,s,n){const a=new xg(r||void 0,s||void 0,n||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Ln(this._state)){case $e.SUCCESS:dr(this._resolve.bind(null,this.snapshot))();break;case $e.CANCELED:case $e.ERROR:const r=this._reject;dr(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Ln(this._state)){case $e.RUNNING:case $e.PAUSED:e.next&&dr(e.next.bind(e,this.snapshot))();break;case $e.SUCCESS:e.complete&&dr(e.complete.bind(e))();break;case $e.CANCELED:case $e.ERROR:e.error&&dr(e.error.bind(e,this._error))();break;default:e.error&&dr(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e,r){this._service=e,r instanceof He?this._location=r:this._location=He.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new ir(e,r)}get root(){const e=new He(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mc(this._location.path)}get storage(){return this._service}get parent(){const e=ng(this._location.path);if(e===null)return null;const r=new He(this._location.bucket,e);return new ir(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw Fm(e)}}function Sg(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new _g(t,new Dt(e),r)}function Tg(t){t._throwIfRoot("getDownloadURL");const e=hg(t.storage,t._location,Uc());return t.storage.makeRequestWithTokens(e,hr).then(r=>{if(r===null)throw Om();return r})}function Eg(t,e){const r=ag(t._location.path,e),s=new He(t._location.bucket,r);return new ir(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(t){return/^[A-Za-z]+:\/\//.test(t)}function kg(t,e){return new ir(t,e)}function zc(t,e){if(t instanceof Ua){const r=t;if(r._bucket==null)throw Am();const s=new ir(r,r._bucket);return e!=null?zc(s,e):s}else return e!==void 0?Eg(t,e):t}function Ng(t,e){if(e&&jg(e)){if(t instanceof Ua)return kg(t,e);throw na("To use ref(service, url), the first argument must be a Storage instance.")}else return zc(t,e)}function Oi(t,e){const r=e==null?void 0:e[jc];return r==null?null:He.makeFromBucketSpec(r,t)}function Cg(t,e,r,s={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:n}=s;n&&(t._overrideAuthToken=typeof n=="string"?n:Od(n,t.app.options.projectId))}class Ua{constructor(e,r,s,n,a){this.app=e,this._authProvider=r,this._appCheckProvider=s,this._url=n,this._firebaseVersion=a,this._bucket=null,this._host=Ec,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_m,this._maxUploadRetryTime=Sm,this._requests=new Set,n!=null?this._bucket=He.makeFromBucketSpec(n,this._host):this._bucket=Oi(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=He.makeFromBucketSpec(this._url,e):this._bucket=Oi(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ai("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ai("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ir(this,e)}_makeRequest(e,r,s,n,a=!0){if(this._deleted)return new Mm(Rc());{const o=Gm(e,this._appId,s,n,r,this._firebaseVersion,a);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[s,n]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,s,n).getPromise()}}const Di="@firebase/storage",Fi="0.13.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc="storage";function Rg(t,e,r){return t=on(t),Sg(t,e,r)}function Pg(t){return t=on(t),Tg(t)}function Ag(t,e){return t=on(t),Ng(t,e)}function Ig(t=Pd(),e){t=on(t);const s=Cd(t,qc).getImmediate({identifier:e}),n=Rd("storage");return n&&Og(s,...n),s}function Og(t,e,r,s={}){Cg(t,e,r,s)}function Dg(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),n=t.getProvider("app-check-internal");return new Ua(r,s,n,e,Dd)}function Fg(){Ad(new Id(qc,Dg,"PUBLIC").setMultipleInstances(!0)),Wa(Di,Fi,""),Wa(Di,Fi,"esm2017")}Fg();function Mi(t,[e,r]){return Math.min(r,Math.max(e,t))}function Mg(t){const e=f.useRef({value:t,previous:t});return f.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ug=[" ","Enter","ArrowUp","ArrowDown"],Lg=[" ","Enter"],hs="Select",[xn,bn,Vg]=Qi(hs),[Dr,Ey]=ua(hs,[Vg,ho]),wn=ho(),[$g,Bt]=Dr(hs),[Bg,zg]=Dr(hs),Hc=t=>{const{__scopeSelect:e,children:r,open:s,defaultOpen:n,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:y,required:T,form:S}=t,g=wn(e),[m,j]=f.useState(null),[b,x]=f.useState(null),[E,k]=f.useState(!1),L=to(u),[O=!1,A]=Is({prop:s,defaultProp:n,onChange:a}),[q,ee]=Is({prop:o,defaultProp:l,onChange:c}),le=f.useRef(null),R=m?S||!!m.closest("form"):!0,[$,F]=f.useState(new Set),G=Array.from($).map(X=>X.props.value).join(";");return i.jsx(od,{...g,children:i.jsxs($g,{required:T,scope:e,trigger:m,onTriggerChange:j,valueNode:b,onValueNodeChange:x,valueNodeHasChildren:E,onValueNodeHasChildrenChange:k,contentId:sn(),value:q,onValueChange:ee,open:O,onOpenChange:A,dir:L,triggerPointerDownPosRef:le,disabled:y,children:[i.jsx(xn.Provider,{scope:e,children:i.jsx(Bg,{scope:t.__scopeSelect,onNativeOptionAdd:f.useCallback(X=>{F(ne=>new Set(ne).add(X))},[]),onNativeOptionRemove:f.useCallback(X=>{F(ne=>{const fe=new Set(ne);return fe.delete(X),fe})},[]),children:r})}),R?i.jsxs(yu,{"aria-hidden":!0,required:T,tabIndex:-1,name:d,autoComplete:h,value:q,onChange:X=>ee(X.target.value),disabled:y,form:S,children:[q===void 0?i.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};Hc.displayName=hs;var Wc="SelectTrigger",Zc=f.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:s=!1,...n}=t,a=wn(r),o=Bt(Wc,r),l=o.disabled||s,c=Qe(e,o.onTriggerChange),u=bn(r),d=f.useRef("touch"),[h,y,T]=vu(g=>{const m=u().filter(x=>!x.disabled),j=m.find(x=>x.value===o.value),b=xu(m,g,j);b!==void 0&&o.onValueChange(b.value)}),S=g=>{l||(o.onOpenChange(!0),T()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(Ju,{asChild:!0,...a,children:i.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":gu(o.value)?"":void 0,...n,ref:c,onClick:oe(n.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&S(g)}),onPointerDown:oe(n.onPointerDown,g=>{d.current=g.pointerType;const m=g.target;m.hasPointerCapture(g.pointerId)&&m.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(S(g),g.preventDefault())}),onKeyDown:oe(n.onKeyDown,g=>{const m=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&y(g.key),!(m&&g.key===" ")&&Ug.includes(g.key)&&(S(),g.preventDefault())})})})});Zc.displayName=Wc;var Gc="SelectValue",Kc=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,children:a,placeholder:o="",...l}=t,c=Bt(Gc,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Qe(e,c.onValueNodeChange);return Tt(()=>{u(d)},[u,d]),i.jsx(ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:gu(c.value)?i.jsx(i.Fragment,{children:o}):a})});Kc.displayName=Gc;var qg="SelectIcon",Qc=f.forwardRef((t,e)=>{const{__scopeSelect:r,children:s,...n}=t;return i.jsx(ve.span,{"aria-hidden":!0,...n,ref:e,children:s||""})});Qc.displayName=qg;var Hg="SelectPortal",Xc=t=>i.jsx(Yi,{asChild:!0,...t});Xc.displayName=Hg;var or="SelectContent",Yc=f.forwardRef((t,e)=>{const r=Bt(or,t.__scopeSelect),[s,n]=f.useState();if(Tt(()=>{n(new DocumentFragment)},[]),!r.open){const a=s;return a?nn.createPortal(i.jsx(Jc,{scope:t.__scopeSelect,children:i.jsx(xn.Slot,{scope:t.__scopeSelect,children:i.jsx("div",{children:t.children})})}),a):null}return i.jsx(eu,{...t,ref:e})});Yc.displayName=or;var Xe=10,[Jc,zt]=Dr(or),Wg="SelectContentImpl",eu=f.forwardRef((t,e)=>{const{__scopeSelect:r,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:y,collisionPadding:T,sticky:S,hideWhenDetached:g,avoidCollisions:m,...j}=t,b=Bt(or,r),[x,E]=f.useState(null),[k,L]=f.useState(null),O=Qe(e,Z=>E(Z)),[A,q]=f.useState(null),[ee,le]=f.useState(null),R=bn(r),[$,F]=f.useState(!1),G=f.useRef(!1);f.useEffect(()=>{if(x)return ed(x)},[x]),td();const X=f.useCallback(Z=>{const[de,...Re]=R().map(ue=>ue.ref.current),[pe]=Re.slice(-1),ce=document.activeElement;for(const ue of Z)if(ue===ce||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===de&&k&&(k.scrollTop=0),ue===pe&&k&&(k.scrollTop=k.scrollHeight),ue==null||ue.focus(),document.activeElement!==ce))return},[R,k]),ne=f.useCallback(()=>X([A,x]),[X,A,x]);f.useEffect(()=>{$&&ne()},[$,ne]);const{onOpenChange:fe,triggerPointerDownPosRef:he}=b;f.useEffect(()=>{if(x){let Z={x:0,y:0};const de=pe=>{var ce,ue;Z={x:Math.abs(Math.round(pe.pageX)-(((ce=he.current)==null?void 0:ce.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((ue=he.current)==null?void 0:ue.y)??0))}},Re=pe=>{Z.x<=10&&Z.y<=10?pe.preventDefault():x.contains(pe.target)||fe(!1),document.removeEventListener("pointermove",de),he.current=null};return he.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Re,{capture:!0})}}},[x,fe,he]),f.useEffect(()=>{const Z=()=>fe(!1);return window.addEventListener("blur",Z),window.addEventListener("resize",Z),()=>{window.removeEventListener("blur",Z),window.removeEventListener("resize",Z)}},[fe]);const[Ue,Ee]=vu(Z=>{const de=R().filter(ce=>!ce.disabled),Re=de.find(ce=>ce.ref.current===document.activeElement),pe=xu(de,Z,Re);pe&&setTimeout(()=>pe.ref.current.focus())}),tt=f.useCallback((Z,de,Re)=>{const pe=!G.current&&!Re;(b.value!==void 0&&b.value===de||pe)&&(q(Z),pe&&(G.current=!0))},[b.value]),rt=f.useCallback(()=>x==null?void 0:x.focus(),[x]),We=f.useCallback((Z,de,Re)=>{const pe=!G.current&&!Re;(b.value!==void 0&&b.value===de||pe)&&le(Z)},[b.value]),cr=s==="popper"?aa:tu,mt=cr===aa?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:y,collisionPadding:T,sticky:S,hideWhenDetached:g,avoidCollisions:m}:{};return i.jsx(Jc,{scope:r,content:x,viewport:k,onViewportChange:L,itemRefCallback:tt,selectedItem:A,onItemLeave:rt,itemTextRefCallback:We,focusSelectedItem:ne,selectedItemText:ee,position:s,isPositioned:$,searchRef:Ue,children:i.jsx(rd,{as:da,allowPinchZoom:!0,children:i.jsx(sd,{asChild:!0,trapped:b.open,onMountAutoFocus:Z=>{Z.preventDefault()},onUnmountAutoFocus:oe(n,Z=>{var de;(de=b.trigger)==null||de.focus({preventScroll:!0}),Z.preventDefault()}),children:i.jsx(nd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Z=>Z.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:i.jsx(cr,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Z=>Z.preventDefault(),...j,...mt,onPlaced:()=>F(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:oe(j.onKeyDown,Z=>{const de=Z.ctrlKey||Z.altKey||Z.metaKey;if(Z.key==="Tab"&&Z.preventDefault(),!de&&Z.key.length===1&&Ee(Z.key),["ArrowUp","ArrowDown","Home","End"].includes(Z.key)){let pe=R().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(Z.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Z.key)){const ce=Z.target,ue=pe.indexOf(ce);pe=pe.slice(ue+1)}setTimeout(()=>X(pe)),Z.preventDefault()}})})})})})})});eu.displayName=Wg;var Zg="SelectItemAlignedPosition",tu=f.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:s,...n}=t,a=Bt(or,r),o=zt(or,r),[l,c]=f.useState(null),[u,d]=f.useState(null),h=Qe(e,O=>d(O)),y=bn(r),T=f.useRef(!1),S=f.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:j,focusSelectedItem:b}=o,x=f.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&m&&j){const O=a.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),q=a.valueNode.getBoundingClientRect(),ee=j.getBoundingClientRect();if(a.dir!=="rtl"){const ce=ee.left-A.left,ue=q.left-ce,st=O.left-ue,nt=O.width+st,ps=Math.max(nt,A.width),ms=window.innerWidth-Xe,gs=Mi(ue,[Xe,Math.max(Xe,ms-ps)]);l.style.minWidth=nt+"px",l.style.left=gs+"px"}else{const ce=A.right-ee.right,ue=window.innerWidth-q.right-ce,st=window.innerWidth-O.right-ue,nt=O.width+st,ps=Math.max(nt,A.width),ms=window.innerWidth-Xe,gs=Mi(ue,[Xe,Math.max(Xe,ms-ps)]);l.style.minWidth=nt+"px",l.style.right=gs+"px"}const le=y(),R=window.innerHeight-Xe*2,$=g.scrollHeight,F=window.getComputedStyle(u),G=parseInt(F.borderTopWidth,10),X=parseInt(F.paddingTop,10),ne=parseInt(F.borderBottomWidth,10),fe=parseInt(F.paddingBottom,10),he=G+X+$+fe+ne,Ue=Math.min(m.offsetHeight*5,he),Ee=window.getComputedStyle(g),tt=parseInt(Ee.paddingTop,10),rt=parseInt(Ee.paddingBottom,10),We=O.top+O.height/2-Xe,cr=R-We,mt=m.offsetHeight/2,Z=m.offsetTop+mt,de=G+X+Z,Re=he-de;if(de<=We){const ce=le.length>0&&m===le[le.length-1].ref.current;l.style.bottom="0px";const ue=u.clientHeight-g.offsetTop-g.offsetHeight,st=Math.max(cr,mt+(ce?rt:0)+ue+ne),nt=de+st;l.style.height=nt+"px"}else{const ce=le.length>0&&m===le[0].ref.current;l.style.top="0px";const st=Math.max(We,G+g.offsetTop+(ce?tt:0)+mt)+Re;l.style.height=st+"px",g.scrollTop=de-We+g.offsetTop}l.style.margin=`${Xe}px 0`,l.style.minHeight=Ue+"px",l.style.maxHeight=R+"px",s==null||s(),requestAnimationFrame(()=>T.current=!0)}},[y,a.trigger,a.valueNode,l,u,g,m,j,a.dir,s]);Tt(()=>x(),[x]);const[E,k]=f.useState();Tt(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const L=f.useCallback(O=>{O&&S.current===!0&&(x(),b==null||b(),S.current=!1)},[x,b]);return i.jsx(Kg,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:T,onScrollButtonChange:L,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(ve.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});tu.displayName=Zg;var Gg="SelectPopperPosition",aa=f.forwardRef((t,e)=>{const{__scopeSelect:r,align:s="start",collisionPadding:n=Xe,...a}=t,o=wn(r);return i.jsx(ad,{...o,...a,ref:e,align:s,collisionPadding:n,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});aa.displayName=Gg;var[Kg,La]=Dr(or,{}),ia="SelectViewport",ru=f.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:s,...n}=t,a=zt(ia,r),o=La(ia,r),l=Qe(e,a.onViewportChange),c=f.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(xn.Slot,{scope:r,children:i.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:oe(n.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:y}=o;if(y!=null&&y.current&&h){const T=Math.abs(c.current-d.scrollTop);if(T>0){const S=window.innerHeight-Xe*2,g=parseFloat(h.style.minHeight),m=parseFloat(h.style.height),j=Math.max(g,m);if(j<S){const b=j+T,x=Math.min(S,b),E=b-x;h.style.height=x+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});ru.displayName=ia;var su="SelectGroup",[Qg,Xg]=Dr(su),nu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=sn();return i.jsx(Qg,{scope:r,id:n,children:i.jsx(ve.div,{role:"group","aria-labelledby":n,...s,ref:e})})});nu.displayName=su;var au="SelectLabel",iu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=Xg(au,r);return i.jsx(ve.div,{id:n.id,...s,ref:e})});iu.displayName=au;var rn="SelectItem",[Yg,ou]=Dr(rn),lu=f.forwardRef((t,e)=>{const{__scopeSelect:r,value:s,disabled:n=!1,textValue:a,...o}=t,l=Bt(rn,r),c=zt(rn,r),u=l.value===s,[d,h]=f.useState(a??""),[y,T]=f.useState(!1),S=Qe(e,b=>{var x;return(x=c.itemRefCallback)==null?void 0:x.call(c,b,s,n)}),g=sn(),m=f.useRef("touch"),j=()=>{n||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Yg,{scope:r,value:s,disabled:n,textId:g,isSelected:u,onItemTextChange:f.useCallback(b=>{h(x=>x||((b==null?void 0:b.textContent)??"").trim())},[]),children:i.jsx(xn.ItemSlot,{scope:r,value:s,disabled:n,textValue:d,children:i.jsx(ve.div,{role:"option","aria-labelledby":g,"data-highlighted":y?"":void 0,"aria-selected":u&&y,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:S,onFocus:oe(o.onFocus,()=>T(!0)),onBlur:oe(o.onBlur,()=>T(!1)),onClick:oe(o.onClick,()=>{m.current!=="mouse"&&j()}),onPointerUp:oe(o.onPointerUp,()=>{m.current==="mouse"&&j()}),onPointerDown:oe(o.onPointerDown,b=>{m.current=b.pointerType}),onPointerMove:oe(o.onPointerMove,b=>{var x;m.current=b.pointerType,n?(x=c.onItemLeave)==null||x.call(c):m.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:oe(o.onPointerLeave,b=>{var x;b.currentTarget===document.activeElement&&((x=c.onItemLeave)==null||x.call(c))}),onKeyDown:oe(o.onKeyDown,b=>{var E;((E=c.searchRef)==null?void 0:E.current)!==""&&b.key===" "||(Lg.includes(b.key)&&j(),b.key===" "&&b.preventDefault())})})})})});lu.displayName=rn;var Hr="SelectItemText",cu=f.forwardRef((t,e)=>{const{__scopeSelect:r,className:s,style:n,...a}=t,o=Bt(Hr,r),l=zt(Hr,r),c=ou(Hr,r),u=zg(Hr,r),[d,h]=f.useState(null),y=Qe(e,j=>h(j),c.onItemTextChange,j=>{var b;return(b=l.itemTextRefCallback)==null?void 0:b.call(l,j,c.value,c.disabled)}),T=d==null?void 0:d.textContent,S=f.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:T},c.value),[c.disabled,c.value,T]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=u;return Tt(()=>(g(S),()=>m(S)),[g,m,S]),i.jsxs(i.Fragment,{children:[i.jsx(ve.span,{id:c.textId,...a,ref:y}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?nn.createPortal(a.children,o.valueNode):null]})});cu.displayName=Hr;var uu="SelectItemIndicator",du=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return ou(uu,r).isSelected?i.jsx(ve.span,{"aria-hidden":!0,...s,ref:e}):null});du.displayName=uu;var oa="SelectScrollUpButton",fu=f.forwardRef((t,e)=>{const r=zt(oa,t.__scopeSelect),s=La(oa,t.__scopeSelect),[n,a]=f.useState(!1),o=Qe(e,s.onScrollButtonChange);return Tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(pu,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});fu.displayName=oa;var la="SelectScrollDownButton",hu=f.forwardRef((t,e)=>{const r=zt(la,t.__scopeSelect),s=La(la,t.__scopeSelect),[n,a]=f.useState(!1),o=Qe(e,s.onScrollButtonChange);return Tt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),n?i.jsx(pu,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});hu.displayName=la;var pu=f.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:s,...n}=t,a=zt("SelectScrollButton",r),o=f.useRef(null),l=bn(r),c=f.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return f.useEffect(()=>()=>c(),[c]),Tt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(ve.div,{"aria-hidden":!0,...n,ref:e,style:{flexShrink:0,...n.style},onPointerDown:oe(n.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:oe(n.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:oe(n.onPointerLeave,()=>{c()})})}),Jg="SelectSeparator",mu=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t;return i.jsx(ve.div,{"aria-hidden":!0,...s,ref:e})});mu.displayName=Jg;var ca="SelectArrow",ey=f.forwardRef((t,e)=>{const{__scopeSelect:r,...s}=t,n=wn(r),a=Bt(ca,r),o=zt(ca,r);return a.open&&o.position==="popper"?i.jsx(id,{...n,...s,ref:e}):null});ey.displayName=ca;function gu(t){return t===""||t===void 0}var yu=f.forwardRef((t,e)=>{const{value:r,...s}=t,n=f.useRef(null),a=Qe(e,n),o=Mg(r);return f.useEffect(()=>{const l=n.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==r&&d){const h=new Event("change",{bubbles:!0});d.call(l,r),l.dispatchEvent(h)}},[o,r]),i.jsx(dn,{asChild:!0,children:i.jsx("select",{...s,ref:a,defaultValue:r})})});yu.displayName="BubbleSelect";function vu(t){const e=Yr(t),r=f.useRef(""),s=f.useRef(0),n=f.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=f.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,n,a]}function xu(t,e,r){const n=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=ty(t,Math.max(a,0));n.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(n.toLowerCase()));return c!==r?c:void 0}function ty(t,e){return t.map((r,s)=>t[(e+s)%t.length])}var ry=Hc,bu=Zc,sy=Kc,ny=Qc,ay=Xc,wu=Yc,iy=ru,oy=nu,_u=iu,Su=lu,ly=cu,cy=du,Tu=fu,Eu=hu,ju=mu;const ku=ry,Nu=oy,Cu=sy,Va=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(bu,{ref:s,className:B("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,i.jsx(ny,{asChild:!0,children:i.jsx(po,{className:"h-4 w-4 opacity-50"})})]}));Va.displayName=bu.displayName;const Ru=f.forwardRef(({className:t,...e},r)=>i.jsx(Tu,{ref:r,className:B("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(ld,{className:"h-4 w-4"})}));Ru.displayName=Tu.displayName;const Pu=f.forwardRef(({className:t,...e},r)=>i.jsx(Eu,{ref:r,className:B("flex cursor-default items-center justify-center py-1",t),...e,children:i.jsx(po,{className:"h-4 w-4"})}));Pu.displayName=Eu.displayName;const $a=f.forwardRef(({className:t,children:e,position:r="popper",...s},n)=>i.jsx(ay,{children:i.jsxs(wu,{ref:n,className:B("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...s,children:[i.jsx(Ru,{}),i.jsx(iy,{className:B("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(Pu,{})]})}));$a.displayName=wu.displayName;const uy=f.forwardRef(({className:t,...e},r)=>i.jsx(_u,{ref:r,className:B("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));uy.displayName=_u.displayName;const mr=f.forwardRef(({className:t,children:e,...r},s)=>i.jsxs(Su,{ref:s,className:B("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(cy,{children:i.jsx(cd,{className:"h-4 w-4"})})}),i.jsx(ly,{children:e})]}));mr.displayName=Su.displayName;const dy=f.forwardRef(({className:t,...e},r)=>i.jsx(ju,{ref:r,className:B("-mx-1 my-1 h-px bg-muted",t),...e}));dy.displayName=ju.displayName;const fy=({className:t,...e})=>i.jsx("textarea",{...e,className:`p-2 border rounded w-full ${t||""}`}),Ui=fa(),hy=Ig();function py(){const{user:t,loading:e}=Ea(),{toast:r}=pt(),[s,n]=f.useState(""),[a,o]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,y]=f.useState([]),[T,S]=f.useState(null),[g,m]=f.useState(!1);f.useEffect(()=>{if(t!=null&&t.uid){const E=Et(Ui,"users",t.uid);an(E).then(k=>{if(k.exists()){const L=k.data();n(L.interests||""),o(L.bio||""),c(L.lookingFor||""),d(L.gender||""),y(L.photos||[]),S(L.primaryPhoto??null),console.log("Fetched profile data:",L)}else console.log("No profile document found; using defaults.")}).catch(k=>{console.error("Failed to fetch profile:",k)})}},[t]);const j=E=>{const k=["image/jpeg","image/png"];for(const O of E){if(!k.includes(O.type))return"Only JPEG and PNG files are allowed.";if(O.size>2097152)return"Each file must be less than 2MB."}return null},b=async E=>{if(E.target.files){const k=Array.from(E.target.files);if(k.length>5){r({title:"Error",description:"You can upload up to 5 photos only."});return}const L=j(k);if(L){r({variant:"destructive",title:"Error",description:L});return}const O=k.map(A=>{const q=Ag(hy,`users/${t.uid}/photos/${Date.now()}-${A.name}`),ee=Rg(q,A);return new Promise((le,R)=>{ee.on("state_changed",$=>{},$=>{console.error("Upload error:",$),R($)},async()=>{try{const $=await Pg(ee.snapshot.ref);le($)}catch($){R($)}})})});try{const A=await Promise.all(O);console.log("Uploaded photo URLs:",A),y(A),A.length>0&&S(0),r({title:"Photos Uploaded",description:"Photos have been uploaded successfully."})}catch(A){console.error("Error uploading photos:",A),r({variant:"destructive",title:"Upload Error",description:"Failed to upload one or more photos."})}}},x=async()=>{if(t!=null&&t.uid)try{const E={interests:s,bio:a,lookingFor:l,gender:u,photos:h,primaryPhoto:T};console.log("Saving profile data:",E);const k=Et(Ui,"users",t.uid);await ha(k,E,{merge:!0}),r({title:"Success",description:"Profile updated successfully."}),m(!1)}catch(E){r({variant:"destructive",title:"Error",description:E.message})}};return e?i.jsx("div",{className:"container py-8",children:"Loading..."}):i.jsxs("div",{className:"container py-8 space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"My Profile"}),i.jsx("div",{className:"flex justify-end",children:g?i.jsx(ge,{variant:"ghost",onClick:x,children:"Save"}):i.jsxs(ge,{variant:"ghost",onClick:()=>m(!0),children:[i.jsx(ud,{className:"h-4 w-4"}),"Edit Profile"]})}),i.jsxs(dt,{children:[i.jsx(jt,{children:i.jsx(kt,{children:"Profile Information"})}),i.jsxs(ft,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Be,{children:"Interests"}),g?i.jsx(Ce,{value:s,onChange:E=>n(E.target.value),placeholder:"E.g., hiking, cooking, movies"}):i.jsx("p",{className:"text-sm text-muted-foreground",children:s||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Be,{children:"Bio"}),g?i.jsx(fy,{value:a,onChange:E=>o(E.target.value),placeholder:"Tell us about yourself",rows:4}):i.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:a||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Be,{children:"Looking For"}),g?i.jsx(Ce,{value:l,onChange:E=>c(E.target.value),placeholder:"E.g., friendship, long-term relationship"}):i.jsx("p",{className:"text-sm text-muted-foreground",children:l||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Be,{children:"Gender"}),g?i.jsxs(ku,{value:u,onValueChange:E=>d(E),children:[i.jsx(Va,{children:i.jsx(Cu,{placeholder:"Select gender"})}),i.jsx($a,{children:i.jsxs(Nu,{children:[i.jsx(mr,{value:"male",children:"Male"}),i.jsx(mr,{value:"female",children:"Female"}),i.jsx(mr,{value:"nonbinary",children:"Non-binary"}),i.jsx(mr,{value:"other",children:"Other"})]})})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:u||"Not provided"})]}),i.jsxs("div",{children:[i.jsx(Be,{children:"Photos (up to 5)"}),g?i.jsxs(i.Fragment,{children:[i.jsx(Ce,{type:"file",accept:"image/jpeg,image/png",multiple:!0,onChange:b}),h.length>0?i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:h.map((E,k)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:E,alt:`Photo ${k+1}`,className:"object-cover w-full h-32 rounded border"}),i.jsx("div",{className:"absolute top-1 right-1",children:i.jsx("input",{type:"radio",checked:T===k,onChange:()=>S(k),title:"Set as primary"})})]},k))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No photos uploaded"})]}):i.jsx(i.Fragment,{children:h.length>0?i.jsx("div",{className:"mt-2 grid grid-cols-2 md:grid-cols-3 gap-4",children:h.map((E,k)=>i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:E,alt:`Photo ${k+1}`,className:"object-cover w-full h-32 rounded border"}),T===k&&i.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white px-1 text-xs rounded",children:"Main"})]},k))}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No photos uploaded"})})]})]})]})]})}const my=({onClick:t})=>i.jsx("button",{type:"button",onClick:t,title:"Refresh location",className:"ml-2 text-muted-foreground hover:text-primary",style:{fontSize:"1.2rem"},children:""}),Li=fa();function gy(){const{user:t,loading:e}=Ea(),{toast:r}=pt(),[s,n]=f.useState(!1),[a,o]=f.useState(""),[l,c]=f.useState(""),[u,d]=f.useState(""),[h,y]=f.useState(""),[T,S]=f.useState("English"),[g,m]=f.useState(""),[j,b]=f.useState(""),x=t;f.useEffect(()=>{if(x!=null&&x.uid){const O=Et(Li,"users",x.uid);an(O).then(A=>{if(A.exists()){const q=A.data();o(q.displayName||x.displayName||""),c(q.birthdate||x.birthdate||""),y(q.location||x.location||""),S(q.language||x.language||"English")}else o(x.displayName||""),c(x.birthdate||""),y(x.location||""),S(x.language||"English")}).catch(A=>{console.error("Failed to fetch user profile:",A)})}},[x]),f.useEffect(()=>{!(x!=null&&x.location)&&!h&&navigator.geolocation&&E()},[x,h]);const E=()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(O=>{fetch(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${O.coords.latitude}&longitude=${O.coords.longitude}&localityLanguage=en`).then(A=>A.json()).then(A=>{const q=A.city||"Unknown city",ee=A.country||A.countryName||"Unknown country";y(`${q}, ${ee}`)}).catch(()=>y("Unknown location"))},O=>{console.error("Geolocation error:",O),y("Unknown location")})};if(e)return i.jsxs("div",{className:"container py-8",children:[i.jsx(Pr,{className:"h-8 w-[200px]"}),i.jsx(Pr,{className:"mt-4 h-32 w-full"})]});const k=async()=>{if(!u&&x!=null&&x.uid)try{const O={displayName:a,birthdate:l,location:h,language:T},A=Et(Li,"users",x.uid);await ha(A,O,{merge:!0}),r({title:"Success",description:"Profile updated successfully"}),n(!1)}catch(O){r({variant:"destructive",title:"Error",description:O.message})}},L=async()=>{if(!g||!j){r({variant:"destructive",title:"Error",description:"Please fill in both current and new password fields"});return}try{await tp(t,g,j),r({title:"Success",description:"Password updated successfully"}),m(""),b("")}catch(O){r({variant:"destructive",title:"Error",description:O.message})}};return i.jsxs("div",{className:"container py-8 space-y-6",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Profile Settings"}),i.jsxs(dt,{children:[i.jsx(jt,{children:i.jsx(kt,{children:"Personal Information"})}),i.jsxs(ft,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Email"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:x==null?void 0:x.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Display Name"}),s?i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ce,{value:a,onChange:O=>o(O.target.value),placeholder:(x==null?void 0:x.displayName)||""}),i.jsx(ge,{onClick:k,children:"Save"}),i.jsx(ge,{variant:"outline",onClick:()=>n(!1),children:"Cancel"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:(x==null?void 0:x.displayName)||"No display name"}),i.jsx(ge,{variant:"outline",size:"sm",onClick:()=>n(!0),children:"Edit"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Birthdate"}),i.jsx(Ce,{type:"date",value:l,onChange:O=>{const A=O.target.value,q=new Date(A),ee=new Date,le=new Date(ee.getFullYear()-18,ee.getMonth(),ee.getDate());q>le?d("You must be 18 years or older"):d(""),c(A)},max:new Date().toISOString().split("T")[0]}),u&&i.jsx("p",{className:"text-sm text-red-500",children:u})]}),i.jsxs("div",{className:"space-y-2 flex items-center",children:[i.jsx(Be,{children:"Location"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ce,{value:h,onChange:O=>y(O.target.value),placeholder:"City, Country"}),i.jsx(my,{onClick:E})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Language"}),i.jsxs(ku,{value:T,onValueChange:S,children:[i.jsx(Va,{children:i.jsx(Cu,{placeholder:"Select language"})}),i.jsx($a,{children:i.jsx(Nu,{children:["English","Spanish","French","German","Japanese"].map(O=>i.jsx(mr,{value:O,children:O},O))})})]})]})]})]}),i.jsxs(dt,{children:[i.jsx(jt,{children:i.jsx(kt,{children:"Change Password"})}),i.jsxs(ft,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"Current Password"}),i.jsx(Ce,{type:"password",value:g,onChange:O=>m(O.target.value)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Be,{children:"New Password"}),i.jsx(Ce,{type:"password",value:j,onChange:O=>b(O.target.value)})]}),i.jsx(ge,{onClick:L,children:"Update Password"})]})]})]})}function Vi(){return i.jsx("div",{className:"container py-8",children:i.jsxs(dt,{children:[i.jsx(jt,{children:i.jsx(kt,{children:"Privacy Policy"})}),i.jsxs(ft,{className:"prose dark:prose-invert",children:[i.jsx("h2",{children:"Introduction"}),i.jsx("p",{children:"This Privacy Policy outlines how we collect, use, and protect your personal information when you use our authentication service."}),i.jsx("h2",{children:"Information We Collect"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Basic profile information (name, email)"}),i.jsx("li",{children:"Authentication provider information"}),i.jsx("li",{children:"Usage data and timestamps"})]}),i.jsx("h2",{children:"How We Use Your Information"}),i.jsx("p",{children:"We use your information to:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Provide and maintain our authentication service"}),i.jsx("li",{children:"Improve user experience"}),i.jsx("li",{children:"Communicate with you about your account"})]}),i.jsx("h2",{children:"Data Protection"}),i.jsx("p",{children:"We implement appropriate security measures to protect your personal information. Your data is stored securely using industry-standard encryption."}),i.jsx("h2",{children:"Contact Us"}),i.jsx("p",{children:"If you have any questions about this Privacy Policy, please contact us at support@example.com"}),i.jsx("h2",{children:"Updates to This Policy"}),i.jsx("p",{children:"We may update this privacy policy from time to time. We will notify you of any changes by posting the new policy on this page."}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-8",children:["Last updated: ",new Date().toLocaleDateString()]})]})]})})}function $i(){const[t,e]=f.useState(""),{toast:r}=pt(),s=n=>{n.preventDefault(),r({title:"Request Received",description:"We'll process your data deletion request within 30 days."}),e("")};return i.jsx("div",{className:"container py-8",children:i.jsxs(dt,{children:[i.jsx(jt,{children:i.jsx(kt,{children:"Data Deletion Request"})}),i.jsxs(ft,{className:"prose dark:prose-invert",children:[i.jsx("h2",{children:"How to Delete Your Data"}),i.jsx("h3",{children:"Option 1: Through Your Account"}),i.jsx("p",{children:"If you have an active account, you can delete your data by:"}),i.jsxs("ol",{children:[i.jsx("li",{children:"Logging into your account"}),i.jsx("li",{children:"Going to Profile settings"}),i.jsx("li",{children:'Clicking on "Delete Account"'})]}),i.jsx("h3",{children:"Option 2: Submit a Deletion Request"}),i.jsx("p",{children:"If you don't have access to your account, you can submit a deletion request:"}),i.jsxs("form",{onSubmit:s,className:"space-y-4 not-prose",children:[i.jsx("div",{children:i.jsx(Ce,{type:"email",placeholder:"Enter your email",value:t,onChange:n=>e(n.target.value),required:!0})}),i.jsx(ge,{type:"submit",children:"Submit Deletion Request"})]}),i.jsx("h3",{className:"mt-8",children:"What Gets Deleted"}),i.jsx("p",{children:"When you request data deletion, we will remove:"}),i.jsxs("ul",{children:[i.jsx("li",{children:"Your profile information"}),i.jsx("li",{children:"Authentication data"}),i.jsx("li",{children:"Usage history"})]}),i.jsx("p",{children:"Note: The deletion process may take up to 30 days to complete across all our systems."}),i.jsx("h3",{children:"Contact Us"}),i.jsx("p",{children:"If you have any questions about data deletion, please contact us at privacy@example.com"})]})]})})}function yy(){const{user:t,loading:e,role:r}=cs();if(window.location.pathname==="/privacy-policy")return i.jsx(Vi,{});if(window.location.pathname==="/data-deletion")return i.jsx($i,{});if(e)return null;if(!t)return i.jsx(ym,{});const s=t.providerData.some(n=>n.providerId==="facebook.com");return!t.emailVerified&&!s?i.jsx("div",{className:"container flex min-h-screen items-center justify-center",children:i.jsx(bc,{})}):i.jsxs(hf,{children:[i.jsx(Rt,{path:"/",component:Ri}),i.jsx(Rt,{path:"/welcome",component:Ri}),r==="admin"&&i.jsx(Rt,{path:"/admin",component:wm}),i.jsx(Rt,{path:"/profile",component:py}),i.jsx(Rt,{path:"/settings",component:gy}),i.jsx(Rt,{path:"/privacy-policy",component:Vi}),i.jsx(Rt,{path:"/data-deletion",component:$i}),i.jsx(Rt,{component:lp})]})}function vy(){return i.jsx(f.StrictMode,{children:i.jsxs(Mf,{client:Uf,children:[i.jsxs("div",{className:"min-h-screen bg-background font-sans antialiased",children:[i.jsx(ap,{}),i.jsx(yy,{})]}),i.jsx(Wh,{})]})})}const Au=document.getElementById("root");if(!Au)throw new Error("Failed to find the root element");vo(Au).render(i.jsx(f.StrictMode,{children:i.jsx(vy,{})}));
